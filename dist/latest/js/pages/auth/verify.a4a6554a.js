(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages/auth/verify"],{3682:function(e,r,t){"use strict";t.r(r);var n=function(){var e=this,r=e._self._c;return r("main",{staticClass:"main-layout"},[r("h1",{staticClass:"text-center mt-50"},[e.testing?r("span",[e._v("\n      Testing Configuration…\n    ")]):r("span",[e._v("\n      Logging In…\n    ")])])])},a=[],c=t("1da1"),o=t("a34a"),i=t.n(o),s=(t("96cf"),t("ac1f"),t("caad"),t("fa3b")),u=t("de78"),l=t("72f8"),p=t("6fc2"),d=["ping","adfs","keycloak","okta","shibboleth"];function h(e,r){try{window.opener.window.onAuthTest(e,r),setTimeout((function(){window.close()}),250)}catch(t){window.close()}}var f={layout:"unauthenticated",fetch:function(e){return Object(c["a"])(i.a.mark((function r(){var t,n,a,c,o,u,d,h,f,w,b,g,v,y,k,x,O,m;return i.a.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(t=e.store,n=e.route,a=e.redirect,c=n.query[s["l"]],o=n.query[s["m"]],u=n.query,d=u.error,h=u.error_description,f=u.errorCode,w=u.errorMsg,!(d||h||f||w)){r.next=9;break}return b=h||d||f,w&&(b=t.getters["i18n/withFallback"]("login.serverError.".concat(w),null,w)),a("/auth/login?err=".concat(escape(b))),r.abrupt("return");case 9:r.prev=9,g=JSON.parse(Object(l["a"])(o)),r.next=16;break;case 13:return r.prev=13,r.t0=r["catch"](9),r.abrupt("return");case 16:if(v=g,y=v.test,k=v.provider,x=v.nonce,!y){r.next=19;break}return r.abrupt("return");case 19:return r.prev=19,r.next=22,t.dispatch("auth/verifyOAuth",{code:c,nonce:x,provider:k});case 22:if(O=r.sent,200!==O._status){r.next=30;break}return m=n.query[s["b"]]||"/",r.next=27,Object(p["a"])({app:t.app,store:t,$plugin:t.$plugin});case 27:a(m),r.next=31;break;case 30:a("/auth/login?err=".concat(escape(O)));case 31:r.next=36;break;case 33:r.prev=33,r.t1=r["catch"](19),a("/auth/login?err=".concat(escape(r.t1)));case 36:case"end":return r.stop()}}),r,null,[[9,13],[19,33]])})))()},data:function(){var e=this.$route.query[s["m"]]||"",r={};try{r=JSON.parse(Object(l["a"])(e))}catch(a){}var t=r,n=t.test;return{testing:n}},mounted:function(){if(this.testing)try{var e=this.$route.query,r=e.error,t=e.error_description,n=e[s["l"]],a=e.errorMsg,c=t||r||(n?null:"No code supplied by auth provider");a&&(c=this.$store.getters["i18n/withFallback"]("login.serverError.".concat(a),null,a)),h(c,n)}catch(l){window.close()}else{var o=this.$route.query;if(window.opener){var i=Object(u["get"])(o,"config");d.includes(i)&&(window.opener.window.onAuthTest?h(null,null):h({err:"failure"}))}}}},w=f,b=t("0c7c"),g=Object(b["a"])(w,n,a,!1,null,null,null);r["default"]=g.exports}}]);
//# sourceMappingURL=verify.a4a6554a.js.map