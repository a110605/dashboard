{"version":3,"sources":["webpack:///./shell/pages/c/_cluster/uiplugins/SetupUIPlugins.vue?8e74","webpack:///./shell/components/Dialog.vue?2de4","webpack:///./shell/components/Dialog.vue?ab6b","webpack:///./shell/pages/c/_cluster/uiplugins/SetupUIPlugins.vue?25d8","webpack:///./shell/pages/c/_cluster/uiplugins/SetupUIPlugins.vue","webpack:///shell/pages/c/_cluster/uiplugins/SetupUIPlugins.vue","webpack:///./shell/pages/c/_cluster/uiplugins/SetupUIPlugins.vue?51fc","webpack:///./shell/pages/c/_cluster/uiplugins/SetupUIPlugins.vue?2cce","webpack:///./shell/components/Dialog.vue?43b3","webpack:///./shell/pages/c/_cluster/uiplugins/SetupUIPlugins.vue?914c","webpack:///./shell/components/Dialog.vue","webpack:///shell/components/Dialog.vue","webpack:///./shell/components/Dialog.vue?0d6a","webpack:///./shell/components/Dialog.vue?689e"],"names":["content","__esModule","default","module","i","locals","exports","add","render","_vm","this","_c","_self","attrs","scopedSlots","_u","key","fn","_v","_s","t","loading","_e","haveCharts","staticClass","buttonState","on","enable","_l","errors","e","proxy","showDialog","dialogClosed","hasRancherUIPluginsRepo","model","value","addRepo","callback","$$v","expression","staticRenderFns","components","AsyncButton","Checkbox","IconMessage","Dialog","fetch","_this","_asyncToGenerator","_regeneratorRuntime","mark","_callee","c","charts","found","wrap","_context","prev","next","$store","getters","Object","values","UI_PLUGIN_CHARTS","forEach","f","find","chart","repoName","UI_PLUGIN_OPERATOR_REPO_NAME","chartName","push","length","installCharts","CATALOG","CLUSTER_REPO","dispatch","type","MANAGEMENT","SETTING","id","defaultRegistrySetting","sent","stop","data","ASYNC_BUTTON_STATES","ACTION","computed","repos","r","name","UI_PLUGINS_REPO_NAME","methods","installChart","_this2","_callee2","_annotations","_this2$defaultRegistr","version","repoType","repo","defaultRegistry","input","action","res","operationId","_context2","versions","releaseName","annotations","_defineProperty","CATALOG_ANNOTATIONS","SOURCE_REPO_TYPE","SOURCE_REPO_NAME","global","cattle","systemDefaultRegistry","wait","namespace","UI_PLUGIN_NAMESPACE","doAction","concat","operationNamespace","operationName","waitForOperation","abrupt","OPERATION","ok","_this3","_callee3","_context3","WAITING","addDefaultHelmRepository","installPluginCharts","Promise","resolve","setTimeout","ERROR","$emit","_this4","_callee4","pluginCR","_context4","metadata","spec","gitBranch","UI_PLUGINS_REPO_BRANCH","gitRepo","UI_PLUGINS_REPO_URL","save","t0","console","error","message","_this5","_callee5","_context5","component","___CSS_LOADER_API_IMPORT___","beforeOpen","$event","closeDialog","title","_t","$slots","buttons","mode","AppModal","props","String","required","closed","btnCb","result"],"mappings":"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","file":"js/pages/c/_cluster/uiplugins/SetupUIPlugins.47d953d2.js","sourcesContent":["export * from \"-!../../../../../node_modules/vue-style-loader/index.js??ref--9-oneOf-1-0!../../../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-3!../../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-4!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./SetupUIPlugins.vue?vue&type=style&index=0&id=9a79b8d8&prod&lang=scss&scoped=true&\"","export * from \"-!../../node_modules/vue-style-loader/index.js??ref--9-oneOf-1-0!../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-3!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-4!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./Dialog.vue?vue&type=style&index=0&id=559afa2c&prod&lang=scss&scoped=true&\"","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-3!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-4!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./Dialog.vue?vue&type=style&index=0&id=559afa2c&prod&lang=scss&scoped=true&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"727c343c\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-3!../../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-4!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./SetupUIPlugins.vue?vue&type=style&index=0&id=9a79b8d8&prod&lang=scss&scoped=true&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"2ae77750\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('IconMessage',{attrs:{\"vertical\":true,\"subtle\":false,\"icon\":\"icon-gear\"},scopedSlots:_vm._u([{key:\"message\",fn:function(){return [_c('h2',[_vm._v(\"\\n        \"+_vm._s(_vm.t('plugins.setup.title'))+\"\\n      \")]),_vm._v(\" \"),(!_vm.loading)?_c('div',[(!_vm.haveCharts)?_c('div',[_c('p',[_vm._v(\"\\n            \"+_vm._s(_vm.t('plugins.setup.prompt.cant'))+\"\\n          \")])]):_c('div',[_c('p',[_vm._v(\"\\n            \"+_vm._s(_vm.t('plugins.setup.prompt.can'))+\"\\n          \")]),_vm._v(\" \"),_c('AsyncButton',{staticClass:\"enable-plugin-support\",attrs:{\"mode\":\"enable\",\"manual\":true,\"current-phase\":_vm.buttonState,\"data-testid\":\"extension-enable-operator\"},on:{\"click\":_vm.enable}})],1),_vm._v(\" \"),_vm._l((_vm.errors),function(e,i){return _c('div',{key:i,staticClass:\"plugin-setup-error\"},[_vm._v(\"\\n          \"+_vm._s(e)+\"\\n        \")])})],2):_vm._e()]},proxy:true}])}),_vm._v(\" \"),(_vm.showDialog)?_c('Dialog',{attrs:{\"name\":\"confirm-uiplugins-setup\",\"title\":_vm.t('plugins.setup.install.title')},on:{\"closed\":_vm.dialogClosed}},[[_c('p',[_vm._v(\"\\n        \"+_vm._s(_vm.t('plugins.setup.install.prompt'))+\"\\n      \")]),_vm._v(\" \"),(!_vm.hasRancherUIPluginsRepo)?_c('div',{staticClass:\"mt-20\"},[_c('Checkbox',{attrs:{\"primary\":true,\"label-key\":\"plugins.setup.install.addRancherRepo\"},model:{value:(_vm.addRepo),callback:function ($$v) {_vm.addRepo=$$v},expression:\"addRepo\"}}),_vm._v(\" \"),_c('div',{staticClass:\"checkbox-info\"},[_vm._v(\"\\n          \"+_vm._s(_vm.t('plugins.setup.install.airgap'))+\"\\n        \")])],1):_vm._e()]],2):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport AsyncButton from '@shell/components/AsyncButton';\nimport IconMessage from '@shell/components/IconMessage.vue';\nimport { CATALOG, MANAGEMENT } from '@shell/config/types';\nimport { CATALOG as CATALOG_ANNOTATIONS } from '@shell/config/labels-annotations';\nimport Dialog from '@shell/components/Dialog.vue';\nimport Checkbox from '@components/Form/Checkbox/Checkbox.vue';\nimport { ASYNC_BUTTON_STATES } from '@shell/components/AsyncButton.vue';\nimport {\n  UI_PLUGIN_NAMESPACE,\n  UI_PLUGIN_CHARTS,\n  UI_PLUGIN_OPERATOR_REPO_NAME,\n  UI_PLUGINS_REPO_NAME,\n  UI_PLUGINS_REPO_URL,\n  UI_PLUGINS_REPO_BRANCH,\n} from '@shell/config/uiplugins';\n\nexport default {\n  components: {\n    AsyncButton,\n    Checkbox,\n    IconMessage,\n    Dialog,\n  },\n\n  async fetch() {\n    // Check to see that the charts we need are available\n    const c = this.$store.getters['catalog/rawCharts'];\n    const charts = Object.values(c);\n    const found = [];\n\n    UI_PLUGIN_CHARTS.forEach((c) => {\n      const f = charts.find(chart => chart.repoName === UI_PLUGIN_OPERATOR_REPO_NAME & chart.chartName === c);\n\n      if (f) {\n        found.push(f);\n      }\n    });\n\n    this.haveCharts = (found.length === UI_PLUGIN_CHARTS.length);\n\n    if (this.haveCharts) {\n      this.installCharts = found;\n\n      if (this.$store.getters['management/schemaFor'](CATALOG.CLUSTER_REPO)) {\n        await this.$store.dispatch('management/findAll', { type: CATALOG.CLUSTER_REPO });\n      }\n    }\n\n    this.defaultRegistrySetting = await this.$store.dispatch('management/find', {\n      type: MANAGEMENT.SETTING,\n      id:   'system-default-registry'\n    });\n\n    this.loading = false;\n  },\n\n  data() {\n    return {\n      loading:                true,\n      haveCharts:             false,\n      installCharts:          [],\n      errors:                 [],\n      addRepo:                true,\n      buttonState:            ASYNC_BUTTON_STATES.ACTION,\n      defaultRegistrySetting: null,\n      showDialog:             false,\n    };\n  },\n\n  computed: {\n    hasRancherUIPluginsRepo() {\n      // Look to see if the Rancher UI Plugins repository is already installed\n      const repos = this.$store.getters['catalog/repos'];\n\n      return !!repos.find(r => r.name === UI_PLUGINS_REPO_NAME);\n    }\n  },\n\n  methods: {\n    async installChart(installChart) {\n      const version = installChart.versions[0];\n      const repoType = version.repoType;\n      const repoName = version.repoName;\n      const repo = this.$store.getters['catalog/repo']({ repoType, repoName });\n\n      const chart = {\n        chartName:   installChart.chartName,\n        version:     version.version,\n        releaseName: installChart.chartName,\n        annotations: {\n          [CATALOG_ANNOTATIONS.SOURCE_REPO_TYPE]: repoType,\n          [CATALOG_ANNOTATIONS.SOURCE_REPO_NAME]: repoName\n        },\n        values: {}\n      };\n\n      // Pass in the system default registry property if set\n      const defaultRegistry = this.defaultRegistrySetting?.value || '';\n\n      if (defaultRegistry) {\n        chart.values.global = chart.values.global || {};\n        chart.values.global.cattle = chart.values.global.cattle || {};\n        chart.values.global.cattle.systemDefaultRegistry = defaultRegistry;\n      }\n\n      const input = {\n        charts:    [chart],\n        wait:      true,\n        namespace: UI_PLUGIN_NAMESPACE,\n      };\n\n      const action = 'install';\n      const res = await repo.doAction(action, input);\n      const operationId = `${ res.operationNamespace }/${ res.operationName }`;\n\n      await repo.waitForOperation(operationId);\n\n      return this.$store.dispatch(`management/find`, {\n        type: CATALOG.OPERATION,\n        id:   operationId\n      });\n    },\n\n    enable() {\n      this.errors = [];\n\n      // Reset checkbox bsed on if the repo is already installed\n      this.addRepo = !this.hasRancherUIPluginsRepo;\n\n      this.showDialog = true;\n    },\n\n    async dialogClosed(ok) {\n      this.errors = [];\n      this.showDialog = false;\n      // User wants to proceed\n      if (ok) {\n        this.buttonState = ASYNC_BUTTON_STATES.WAITING;\n\n        if (this.addRepo) {\n          await this.addDefaultHelmRepository();\n        }\n\n        await this.installPluginCharts();\n\n        await new Promise(resolve => setTimeout(resolve, 5000));\n\n        this.buttonState = this.errors.length > 0 ? ASYNC_BUTTON_STATES.ERROR : ASYNC_BUTTON_STATES.ACTION;\n\n        this.$emit('done');\n      }\n    },\n\n    async addDefaultHelmRepository() {\n      const name = UI_PLUGINS_REPO_NAME;\n\n      try {\n        const pluginCR = await this.$store.dispatch('management/create', {\n          type:     CATALOG.CLUSTER_REPO,\n          metadata: { name },\n          spec:     {\n            gitBranch: UI_PLUGINS_REPO_BRANCH,\n            gitRepo:   UI_PLUGINS_REPO_URL,\n          }\n        });\n\n        return pluginCR.save();\n      } catch (e) {\n        console.error(e); // eslint-disable-line no-console\n\n        this.errors.push(e.message);\n      }\n    },\n\n    async installPluginCharts() {\n      for (let i = 0; i < this.installCharts.length; i++) {\n        const chart = this.installCharts[i];\n\n        try {\n          await this.installChart(chart);\n        } catch (e) {\n          this.errors.push(e.message);\n        }\n      }\n\n      return new Promise(resolve => setTimeout(resolve, 2000));\n    }\n  }\n};\n</script>\n<template>\n  <div>\n    <IconMessage\n      :vertical=\"true\"\n      :subtle=\"false\"\n      icon=\"icon-gear\"\n    >\n      <template v-slot:message>\n        <h2>\n          {{ t('plugins.setup.title') }}\n        </h2>\n        <div v-if=\"!loading\">\n          <div v-if=\"!haveCharts\">\n            <p>\n              {{ t('plugins.setup.prompt.cant') }}\n            </p>\n          </div>\n          <div v-else>\n            <p>\n              {{ t('plugins.setup.prompt.can') }}\n            </p>\n            <AsyncButton\n              mode=\"enable\"\n              :manual=\"true\"\n              :current-phase=\"buttonState\"\n              class=\"enable-plugin-support\"\n              data-testid=\"extension-enable-operator\"\n              @click=\"enable\"\n            />\n          </div>\n          <div\n            v-for=\"(e, i) in errors\"\n            :key=\"i\"\n            class=\"plugin-setup-error\"\n          >\n            {{ e }}\n          </div>\n        </div>\n      </template>\n    </IconMessage>\n    <Dialog\n      v-if=\"showDialog\"\n      name=\"confirm-uiplugins-setup\"\n      :title=\"t('plugins.setup.install.title')\"\n      @closed=\"dialogClosed\"\n    >\n      <template>\n        <p>\n          {{ t('plugins.setup.install.prompt') }}\n        </p>\n        <div\n          v-if=\"!hasRancherUIPluginsRepo\"\n          class=\"mt-20\"\n        >\n          <Checkbox\n            v-model=\"addRepo\"\n            :primary=\"true\"\n            label-key=\"plugins.setup.install.addRancherRepo\"\n          />\n          <div class=\"checkbox-info\">\n            {{ t('plugins.setup.install.airgap') }}\n          </div>\n        </div>\n      </template>\n    </Dialog>\n  </div>\n</template>\n<style lang=\"scss\" scoped>\n  .enable-plugin-support {\n    font-size: 14px;\n    margin-top: 20px;\n  }\n\n  .plugin-setup-error {\n    font-size: 14px;\n    color: var(--error);\n    margin: 10px 0 0 0;\n  }\n\n  .checkbox-info {\n    margin-left: 20px;\n    opacity: 0.7;\n  }\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--16-0!../../../../../node_modules/babel-loader/lib/index.js??ref--16-1!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./SetupUIPlugins.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--16-0!../../../../../node_modules/babel-loader/lib/index.js??ref--16-1!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./SetupUIPlugins.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SetupUIPlugins.vue?vue&type=template&id=9a79b8d8&scoped=true&\"\nimport script from \"./SetupUIPlugins.vue?vue&type=script&lang=js&\"\nexport * from \"./SetupUIPlugins.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SetupUIPlugins.vue?vue&type=style&index=0&id=9a79b8d8&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"9a79b8d8\",\n  null\n  \n)\n\nexport default component.exports","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../node_modules/@vue/cli-service/node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".modal-dialog[data-v-559afa2c]{padding:10px}.modal-dialog h4[data-v-559afa2c]{font-weight:700}.modal-dialog .dialog-buttons[data-v-559afa2c]{display:flex;justify-content:flex-end;margin-top:10px}.modal-dialog .dialog-buttons[data-v-559afa2c]>:not(:last-child){margin-right:10px}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".enable-plugin-support[data-v-9a79b8d8]{font-size:14px;margin-top:20px}.plugin-setup-error[data-v-9a79b8d8]{font-size:14px;color:var(--error);margin:10px 0 0 0}.checkbox-info[data-v-9a79b8d8]{margin-left:20px;opacity:.7}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('app-modal',{attrs:{\"name\":_vm.name,\"height\":\"auto\",\"scrollable\":true},on:{\"before-open\":_vm.beforeOpen,\"close\":function($event){return _vm.closeDialog(false)}}},[_c('div',{staticClass:\"modal-dialog\"},[_c('h4',[_vm._v(\"\\n      \"+_vm._s(_vm.title)+\"\\n    \")]),_vm._v(\" \"),_vm._t(\"default\"),_vm._v(\" \"),_c('div',{staticClass:\"dialog-buttons mt-20\"},[_vm._t(\"buttons\"),_vm._v(\" \"),(!_vm.$slots.buttons)?_c('div',[_c('button',{staticClass:\"btn role-secondary\",on:{\"click\":function($event){return _vm.closeDialog(false)}}},[_vm._v(\"\\n          \"+_vm._s(_vm.t('generic.cancel'))+\"\\n        \")]),_vm._v(\" \"),(!_vm.mode)?_c('button',{staticClass:\"btn role-primary ml-10\",on:{\"click\":function($event){return _vm.closeDialog(true)}}},[_vm._v(\"\\n          \"+_vm._s(_vm.t('generic.ok'))+\"\\n        \")]):_c('AsyncButton',{staticClass:\"ml-10\",attrs:{\"mode\":_vm.mode},on:{\"click\":_vm.ok}})],1):_vm._e()],2)],2)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport AsyncButton from '@shell/components/AsyncButton';\nimport AppModal from '@shell/components/AppModal.vue';\n\nexport default {\n  components: { AsyncButton, AppModal },\n\n  props: {\n    name: {\n      type:     String,\n      required: true,\n    },\n\n    title: {\n      type:     String,\n      required: true,\n    },\n\n    mode: {\n      type:    String,\n      default: '',\n    }\n  },\n\n  data() {\n    return { closed: false };\n  },\n\n  methods: {\n    beforeOpen() {\n      this.closed = false;\n    },\n\n    ok(btnCb) {\n      const callback = (ok) => {\n        btnCb(ok);\n        if (ok) {\n          this.closeDialog(true);\n        }\n      };\n\n      this.$emit('okay', callback);\n    },\n\n    closeDialog(result) {\n      if (!this.closed) {\n        this.$emit('closed', result);\n        this.closed = true;\n      }\n    },\n  }\n};\n</script>\n\n<template>\n  <app-modal\n    :name=\"name\"\n    height=\"auto\"\n    :scrollable=\"true\"\n    @before-open=\"beforeOpen\"\n    @close=\"closeDialog(false)\"\n  >\n    <div class=\"modal-dialog\">\n      <h4>\n        {{ title }}\n      </h4>\n      <slot />\n      <div class=\"dialog-buttons mt-20\">\n        <slot name=\"buttons\" />\n        <div v-if=\"!$slots.buttons\">\n          <button\n            class=\"btn role-secondary\"\n            @click=\"closeDialog(false)\"\n          >\n            {{ t('generic.cancel') }}\n          </button>\n          <button\n            v-if=\"!mode\"\n            class=\"btn role-primary ml-10\"\n            @click=\"closeDialog(true)\"\n          >\n            {{ t('generic.ok') }}\n          </button>\n          <AsyncButton\n            v-else\n            :mode=\"mode\"\n            class=\"ml-10\"\n            @click=\"ok\"\n          />\n        </div>\n      </div>\n    </div>\n  </app-modal>\n</template>\n\n<style lang=\"scss\" scoped>\n  .modal-dialog {\n    padding: 10px;\n\n    h4 {\n      font-weight: bold;\n    }\n\n    .dialog-buttons {\n      display: flex;\n      justify-content: flex-end;\n      margin-top: 10px;\n\n      > *:not(:last-child) {\n        margin-right: 10px;\n      }\n    }\n  }\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--16-0!../../node_modules/babel-loader/lib/index.js??ref--16-1!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./Dialog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--16-0!../../node_modules/babel-loader/lib/index.js??ref--16-1!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./Dialog.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Dialog.vue?vue&type=template&id=559afa2c&scoped=true&\"\nimport script from \"./Dialog.vue?vue&type=script&lang=js&\"\nexport * from \"./Dialog.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Dialog.vue?vue&type=style&index=0&id=559afa2c&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"559afa2c\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}