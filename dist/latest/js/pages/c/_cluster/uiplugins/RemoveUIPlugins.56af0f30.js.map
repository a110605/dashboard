{"version":3,"sources":["webpack:///./shell/pages/c/_cluster/uiplugins/RemoveUIPlugins.vue","webpack:///shell/pages/c/_cluster/uiplugins/RemoveUIPlugins.vue","webpack:///./shell/pages/c/_cluster/uiplugins/RemoveUIPlugins.vue?c9dc","webpack:///./shell/pages/c/_cluster/uiplugins/RemoveUIPlugins.vue?c2b4","webpack:///./shell/pages/c/_cluster/uiplugins/RemoveUIPlugins.vue?7f9d","webpack:///./shell/components/Dialog.vue?2de4","webpack:///./shell/components/Dialog.vue?ab6b","webpack:///./shell/pages/c/_cluster/uiplugins/RemoveUIPlugins.vue?2b08","webpack:///./shell/pages/c/_cluster/uiplugins/RemoveUIPlugins.vue?8e0a","webpack:///./shell/components/Dialog.vue?43b3","webpack:///./shell/components/Dialog.vue","webpack:///shell/components/Dialog.vue","webpack:///./shell/components/Dialog.vue?0d6a","webpack:///./shell/components/Dialog.vue?689e"],"names":["render","_vm","this","_c","_self","isDialogActive","attrs","t","on","doRemove","$event","_v","_s","defaultRepo","staticClass","model","value","removeRepo","callback","$$v","expression","_e","hasPluginsInstalled","removeCRD","staticRenderFns","components","Checkbox","Dialog","fetch","_this","_asyncToGenerator","_regeneratorRuntime","mark","_callee","repos","plugins","wrap","_context","prev","next","$store","getters","CATALOG","CLUSTER_REPO","dispatch","type","opt","force","sent","find","r","name","UI_PLUGINS_REPO_NAME","spec","gitRepo","UI_PLUGINS_REPO_URL","UI_PLUGIN","length","stop","data","errors","undefined","methods","removeChart","_this2","_callee2","apps","found","_context2","APP","app","namespace","UI_PLUGIN_NAMESPACE","abrupt","remove","Promise","reject","Error","showDialog","btnCb","_this3","_callee3","uninstall","i","chart","_context3","_toConsumableArray","UI_PLUGIN_CHARTS","reverse","filter","UI_PLUGIN_OPERATOR_CRD_CHART_NAME","t0","push","message","t1","resolve","setTimeout","$emit","component","___CSS_LOADER_API_IMPORT___","exports","module","content","__esModule","default","locals","add","beforeOpen","closeDialog","title","_t","$slots","buttons","mode","ok","AsyncButton","AppModal","props","String","required","closed","result"],"mappings":"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","file":"js/pages/c/_cluster/uiplugins/RemoveUIPlugins.56af0f30.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.isDialogActive)?_c('Dialog',{attrs:{\"name\":\"confirm-uiplugins-remove\",\"title\":_vm.t('plugins.setup.remove.title'),\"mode\":\"disable\",\"data-testid\":\"disable-ext-modal\"},on:{\"okay\":_vm.doRemove,\"closed\":function($event){_vm.isDialogActive = false}}},[[_c('p',[_vm._v(\"\\n      \"+_vm._s(_vm.t('plugins.setup.remove.prompt'))+\"\\n    \")]),_vm._v(\" \"),(!!_vm.defaultRepo)?_c('div',{staticClass:\"mt-20\"},[_c('Checkbox',{attrs:{\"primary\":true,\"label-key\":\"plugins.setup.remove.registry.title\",\"data-testid\":\"disable-ext-modal-remove-repo\"},model:{value:(_vm.removeRepo),callback:function ($$v) {_vm.removeRepo=$$v},expression:\"removeRepo\"}}),_vm._v(\" \"),_c('div',{staticClass:\"checkbox-info\"},[_vm._v(\"\\n        \"+_vm._s(_vm.t('plugins.setup.remove.registry.prompt'))+\"\\n      \")])],1):_vm._e(),_vm._v(\" \"),(_vm.hasPluginsInstalled)?_c('div',{staticClass:\"mt-20\"},[_c('Checkbox',{attrs:{\"primary\":true,\"label-key\":\"plugins.setup.remove.crd.title\"},model:{value:(_vm.removeCRD),callback:function ($$v) {_vm.removeCRD=$$v},expression:\"removeCRD\"}}),_vm._v(\" \"),_c('div',{staticClass:\"checkbox-info\"},[_vm._v(\"\\n        \"+_vm._s(_vm.t('plugins.setup.remove.crd.prompt'))+\"\\n      \")])],1):_vm._e()]],2):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport { CATALOG, UI_PLUGIN } from '@shell/config/types';\nimport Dialog from '@shell/components/Dialog.vue';\nimport Checkbox from '@components/Form/Checkbox/Checkbox.vue';\nimport {\n  UI_PLUGIN_NAMESPACE,\n  UI_PLUGIN_CHARTS,\n  UI_PLUGINS_REPO_NAME,\n  UI_PLUGINS_REPO_URL,\n  UI_PLUGIN_OPERATOR_CRD_CHART_NAME,\n} from '@shell/config/uiplugins';\n\nexport default {\n  components: {\n    Checkbox,\n    Dialog,\n  },\n\n  async fetch() {\n    if (this.$store.getters['management/schemaFor'](CATALOG.CLUSTER_REPO)) {\n      const repos = await this.$store.dispatch('management/findAll', { type: CATALOG.CLUSTER_REPO, opt: { force: true } });\n\n      this.defaultRepo = repos.find(r => r.name === UI_PLUGINS_REPO_NAME && r.spec.gitRepo === UI_PLUGINS_REPO_URL);\n    }\n\n    if (this.$store.getters['management/schemaFor'](UI_PLUGIN)) {\n      const plugins = await this.$store.dispatch('management/findAll', { type: UI_PLUGIN });\n\n      // Are there any plugins installed?\n      this.hasPluginsInstalled = (plugins || []).length > 0;\n      this.removeCRD = !this.hasPluginsInstalled;\n    }\n  },\n\n  data() {\n    return {\n      errors:              [],\n      defaultRepo:         undefined,\n      removeRepo:          false,\n      removeCRD:           true,\n      hasPluginsInstalled: false,\n      isDialogActive:      false,\n    };\n  },\n\n  methods: {\n    async removeChart(name) {\n      const apps = await this.$store.dispatch('management/findAll', { type: CATALOG.APP });\n      const found = apps.find((app) => {\n        return app.namespace === UI_PLUGIN_NAMESPACE && app.name === name;\n      });\n\n      if (found) {\n        return found.remove();\n      }\n\n      // Return rejected promise - could not find the required chart\n      return Promise.reject(new Error(`Could not find chart §{ name }`));\n    },\n\n    showDialog() {\n      this.removeRepo = !!this.defaultRepo;\n      this.isDialogActive = true;\n    },\n\n    async doRemove(btnCb) {\n      this.errors = [];\n\n      // Remove the charts in the reverse order that we install them in\n      let uninstall = [...UI_PLUGIN_CHARTS].reverse();\n\n      if (!this.removeCRD) {\n        // User does not want to uninstall the CRD, so remove the chart\n        uninstall = uninstall.filter(chart => chart !== UI_PLUGIN_OPERATOR_CRD_CHART_NAME);\n      }\n\n      for (let i = 0; i < uninstall.length; i++) {\n        const chart = uninstall[i];\n\n        try {\n          await this.removeChart(chart);\n        } catch (e) {\n          this.errors.push(e.message);\n        }\n      }\n\n      if (this.removeRepo && this.defaultRepo) {\n        try {\n          await this.defaultRepo.remove();\n        } catch (e) {\n          this.errors.push(e.message);\n        }\n      }\n\n      this.$store.dispatch('management/forgetType', UI_PLUGIN);\n\n      await new Promise(resolve => setTimeout(resolve, 5000));\n\n      this.$emit('done');\n\n      btnCb(true);\n    },\n  }\n};\n</script>\n<template>\n  <Dialog\n    v-if=\"isDialogActive\"\n    name=\"confirm-uiplugins-remove\"\n    :title=\"t('plugins.setup.remove.title')\"\n    mode=\"disable\"\n    data-testid=\"disable-ext-modal\"\n    @okay=\"doRemove\"\n    @closed=\"isDialogActive = false\"\n  >\n    <template>\n      <p>\n        {{ t('plugins.setup.remove.prompt') }}\n      </p>\n      <div\n        v-if=\"!!defaultRepo\"\n        class=\"mt-20\"\n      >\n        <Checkbox\n          v-model=\"removeRepo\"\n          :primary=\"true\"\n          label-key=\"plugins.setup.remove.registry.title\"\n          data-testid=\"disable-ext-modal-remove-repo\"\n        />\n        <div class=\"checkbox-info\">\n          {{ t('plugins.setup.remove.registry.prompt') }}\n        </div>\n      </div>\n      <div\n        v-if=\"hasPluginsInstalled\"\n        class=\"mt-20\"\n      >\n        <Checkbox\n          v-model=\"removeCRD\"\n          :primary=\"true\"\n          label-key=\"plugins.setup.remove.crd.title\"\n        />\n        <div class=\"checkbox-info\">\n          {{ t('plugins.setup.remove.crd.prompt') }}\n        </div>\n      </div>\n    </template>\n  </Dialog>\n</template>\n<style lang=\"scss\" scoped>\n  .enable-plugin-support {\n    font-size: 14px;\n    margin-top: 20px;\n  }\n\n  .plugin-setup-error {\n    font-size: 14px;\n    color: var(--error);\n    margin: 10px 0 0 0;\n  }\n\n  .checkbox-info {\n    margin-left: 20px;\n    opacity: 0.7;\n  }\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--16-0!../../../../../node_modules/babel-loader/lib/index.js??ref--16-1!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./RemoveUIPlugins.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--16-0!../../../../../node_modules/babel-loader/lib/index.js??ref--16-1!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./RemoveUIPlugins.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./RemoveUIPlugins.vue?vue&type=template&id=63b06deb&scoped=true&\"\nimport script from \"./RemoveUIPlugins.vue?vue&type=script&lang=js&\"\nexport * from \"./RemoveUIPlugins.vue?vue&type=script&lang=js&\"\nimport style0 from \"./RemoveUIPlugins.vue?vue&type=style&index=0&id=63b06deb&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"63b06deb\",\n  null\n  \n)\n\nexport default component.exports","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".enable-plugin-support[data-v-63b06deb]{font-size:14px;margin-top:20px}.plugin-setup-error[data-v-63b06deb]{font-size:14px;color:var(--error);margin:10px 0 0 0}.checkbox-info[data-v-63b06deb]{margin-left:20px;opacity:.7}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","export * from \"-!../../node_modules/vue-style-loader/index.js??ref--9-oneOf-1-0!../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-3!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-4!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./Dialog.vue?vue&type=style&index=0&id=559afa2c&prod&lang=scss&scoped=true&\"","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-3!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-4!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./Dialog.vue?vue&type=style&index=0&id=559afa2c&prod&lang=scss&scoped=true&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"727c343c\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","export * from \"-!../../../../../node_modules/vue-style-loader/index.js??ref--9-oneOf-1-0!../../../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-3!../../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-4!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./RemoveUIPlugins.vue?vue&type=style&index=0&id=63b06deb&prod&lang=scss&scoped=true&\"","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-3!../../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-4!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./RemoveUIPlugins.vue?vue&type=style&index=0&id=63b06deb&prod&lang=scss&scoped=true&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"6c6f3c82\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../node_modules/@vue/cli-service/node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".modal-dialog[data-v-559afa2c]{padding:10px}.modal-dialog h4[data-v-559afa2c]{font-weight:700}.modal-dialog .dialog-buttons[data-v-559afa2c]{display:flex;justify-content:flex-end;margin-top:10px}.modal-dialog .dialog-buttons[data-v-559afa2c]>:not(:last-child){margin-right:10px}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('app-modal',{attrs:{\"name\":_vm.name,\"height\":\"auto\",\"scrollable\":true},on:{\"before-open\":_vm.beforeOpen,\"close\":function($event){return _vm.closeDialog(false)}}},[_c('div',{staticClass:\"modal-dialog\"},[_c('h4',[_vm._v(\"\\n      \"+_vm._s(_vm.title)+\"\\n    \")]),_vm._v(\" \"),_vm._t(\"default\"),_vm._v(\" \"),_c('div',{staticClass:\"dialog-buttons mt-20\"},[_vm._t(\"buttons\"),_vm._v(\" \"),(!_vm.$slots.buttons)?_c('div',[_c('button',{staticClass:\"btn role-secondary\",on:{\"click\":function($event){return _vm.closeDialog(false)}}},[_vm._v(\"\\n          \"+_vm._s(_vm.t('generic.cancel'))+\"\\n        \")]),_vm._v(\" \"),(!_vm.mode)?_c('button',{staticClass:\"btn role-primary ml-10\",on:{\"click\":function($event){return _vm.closeDialog(true)}}},[_vm._v(\"\\n          \"+_vm._s(_vm.t('generic.ok'))+\"\\n        \")]):_c('AsyncButton',{staticClass:\"ml-10\",attrs:{\"mode\":_vm.mode},on:{\"click\":_vm.ok}})],1):_vm._e()],2)],2)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport AsyncButton from '@shell/components/AsyncButton';\nimport AppModal from '@shell/components/AppModal.vue';\n\nexport default {\n  components: { AsyncButton, AppModal },\n\n  props: {\n    name: {\n      type:     String,\n      required: true,\n    },\n\n    title: {\n      type:     String,\n      required: true,\n    },\n\n    mode: {\n      type:    String,\n      default: '',\n    }\n  },\n\n  data() {\n    return { closed: false };\n  },\n\n  methods: {\n    beforeOpen() {\n      this.closed = false;\n    },\n\n    ok(btnCb) {\n      const callback = (ok) => {\n        btnCb(ok);\n        if (ok) {\n          this.closeDialog(true);\n        }\n      };\n\n      this.$emit('okay', callback);\n    },\n\n    closeDialog(result) {\n      if (!this.closed) {\n        this.$emit('closed', result);\n        this.closed = true;\n      }\n    },\n  }\n};\n</script>\n\n<template>\n  <app-modal\n    :name=\"name\"\n    height=\"auto\"\n    :scrollable=\"true\"\n    @before-open=\"beforeOpen\"\n    @close=\"closeDialog(false)\"\n  >\n    <div class=\"modal-dialog\">\n      <h4>\n        {{ title }}\n      </h4>\n      <slot />\n      <div class=\"dialog-buttons mt-20\">\n        <slot name=\"buttons\" />\n        <div v-if=\"!$slots.buttons\">\n          <button\n            class=\"btn role-secondary\"\n            @click=\"closeDialog(false)\"\n          >\n            {{ t('generic.cancel') }}\n          </button>\n          <button\n            v-if=\"!mode\"\n            class=\"btn role-primary ml-10\"\n            @click=\"closeDialog(true)\"\n          >\n            {{ t('generic.ok') }}\n          </button>\n          <AsyncButton\n            v-else\n            :mode=\"mode\"\n            class=\"ml-10\"\n            @click=\"ok\"\n          />\n        </div>\n      </div>\n    </div>\n  </app-modal>\n</template>\n\n<style lang=\"scss\" scoped>\n  .modal-dialog {\n    padding: 10px;\n\n    h4 {\n      font-weight: bold;\n    }\n\n    .dialog-buttons {\n      display: flex;\n      justify-content: flex-end;\n      margin-top: 10px;\n\n      > *:not(:last-child) {\n        margin-right: 10px;\n      }\n    }\n  }\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--16-0!../../node_modules/babel-loader/lib/index.js??ref--16-1!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./Dialog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--16-0!../../node_modules/babel-loader/lib/index.js??ref--16-1!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./Dialog.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Dialog.vue?vue&type=template&id=559afa2c&scoped=true&\"\nimport script from \"./Dialog.vue?vue&type=script&lang=js&\"\nexport * from \"./Dialog.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Dialog.vue?vue&type=style&index=0&id=559afa2c&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"559afa2c\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}