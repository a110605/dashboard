{"version":3,"sources":["webpack:///./shell/pages/c/_cluster/uiplugins/InstallDialog.vue","webpack:///shell/pages/c/_cluster/uiplugins/InstallDialog.vue","webpack:///./shell/pages/c/_cluster/uiplugins/InstallDialog.vue?bccb","webpack:///./shell/pages/c/_cluster/uiplugins/InstallDialog.vue?51c0","webpack:///./shell/pages/c/_cluster/uiplugins/InstallDialog.vue?1bb6","webpack:///./shell/pages/c/_cluster/uiplugins/InstallDialog.vue?09ff","webpack:///./shell/pages/c/_cluster/uiplugins/InstallDialog.vue?c56a"],"names":["render","_vm","this","_c","_self","showModal","attrs","on","$event","closeDialog","plugin","staticClass","_v","_s","t","concat","mode","name","label","certified","_e","showVersionSelector","versionOptions","model","value","version","callback","$$v","expression","busy","buttonMode","install","staticRenderFns","components","AsyncButton","Banner","LabeledSelect","AppModal","fetch","_this","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_context","prev","next","$store","dispatch","type","MANAGEMENT","SETTING","id","defaultRegistrySetting","sent","stop","data","currentVersion","undefined","update","computed","_this$versionOptions","length","_this$plugin","_this$plugin$installa","_this2","versions","installableVersions","filter","v","map","methods","showDialog","_plugin$installableVe4","_plugin$installableVe","_plugin$installableVe2","_plugin$installableVe3","_this3","displayVersion","versionNames","_plugin$installableVe5","_plugin$installableVe6","versionChart","find","result","$emit","_this4","_callee2","_plugin$versions","_annotations","_this4$defaultRegistr","isRancherImage","_chartVersionInfo$val","_chartVersionInfo$val2","chartVersionInfo","image","exists","app","repoType","repoName","repo","chart","defaultRegistry","input","action","res","operationId","_context2","abrupt","chartName","versionName","values","repository","startsWith","t0","CATALOG","APP","UI_PLUGIN_NAMESPACE","opt","force","t1","getters","releaseName","annotations","_defineProperty","CATALOG_ANNOTATIONS","SOURCE_REPO_TYPE","SOURCE_REPO_NAME","global","cattle","systemDefaultRegistry","charts","namespace","doAction","operationNamespace","operationName","waitForOperation","OPERATION","t2","title","message","timeout","root","component","___CSS_LOADER_API_IMPORT___","exports","push","module","i","content","__esModule","default","locals","add"],"mappings":"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","file":"js/pages/c/_cluster/uiplugins/InstallDialog.a1e08553.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.showModal)?_c('app-modal',{attrs:{\"name\":\"installPluginDialog\",\"height\":\"auto\",\"scrollable\":true},on:{\"close\":function($event){return _vm.closeDialog(false)}}},[(_vm.plugin)?_c('div',{staticClass:\"plugin-install-dialog\"},[_c('h4',{staticClass:\"mt-10\"},[_vm._v(\"\\n      \"+_vm._s(_vm.t(`plugins.${ _vm.mode }.title`, { name: _vm.plugin.label }))+\"\\n    \")]),_vm._v(\" \"),_c('div',{staticClass:\"custom mt-10\"},[_c('div',{staticClass:\"dialog-panel\"},[_c('p',[_vm._v(\"\\n          \"+_vm._s(_vm.t(`plugins.${ _vm.mode }.prompt`))+\"\\n        \")]),_vm._v(\" \"),(!_vm.plugin.certified)?_c('Banner',{attrs:{\"color\":\"warning\",\"label\":_vm.t('plugins.install.warnNotCertified')}}):_vm._e(),_vm._v(\" \"),(_vm.showVersionSelector)?_c('LabeledSelect',{staticClass:\"version-selector mt-10\",attrs:{\"label-key\":\"plugins.install.version\",\"options\":_vm.versionOptions,\"data-testid\":\"install-ext-modal-select-version\"},model:{value:(_vm.version),callback:function ($$v) {_vm.version=$$v},expression:\"version\"}}):_c('div',[_vm._v(\"\\n          \"+_vm._s(_vm.t('plugins.install.version'))+\" \"+_vm._s(_vm.version)+\"\\n        \")])],1),_vm._v(\" \"),_c('div',{staticClass:\"dialog-buttons\"},[_c('button',{staticClass:\"btn role-secondary\",attrs:{\"disabled\":_vm.busy,\"data-testid\":\"install-ext-modal-cancel-btn\"},on:{\"click\":function($event){return _vm.closeDialog(false)}}},[_vm._v(\"\\n          \"+_vm._s(_vm.t('generic.cancel'))+\"\\n        \")]),_vm._v(\" \"),_c('AsyncButton',{attrs:{\"mode\":_vm.buttonMode,\"data-testid\":\"install-ext-modal-install-btn\"},on:{\"click\":_vm.install}})],1)])]):_vm._e()]):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport AsyncButton from '@shell/components/AsyncButton';\nimport LabeledSelect from '@shell/components/form/LabeledSelect';\nimport { CATALOG, MANAGEMENT } from '@shell/config/types';\nimport { CATALOG as CATALOG_ANNOTATIONS } from '@shell/config/labels-annotations';\nimport { UI_PLUGIN_NAMESPACE } from '@shell/config/uiplugins';\nimport Banner from '@components/Banner/Banner.vue';\nimport AppModal from '@shell/components/AppModal.vue';\n\n// Note: This dialog handles installation and update of a plugin\n\nexport default {\n  components: {\n    AsyncButton,\n    Banner,\n    LabeledSelect,\n    AppModal\n  },\n\n  async fetch() {\n    this.defaultRegistrySetting = await this.$store.dispatch('management/find', {\n      type: MANAGEMENT.SETTING,\n      id:   'system-default-registry'\n    });\n  },\n\n  data() {\n    return {\n      currentVersion:         '',\n      defaultRegistrySetting: null,\n      plugin:                 undefined,\n      busy:                   false,\n      version:                '',\n      update:                 false,\n      mode:                   '',\n      showModal:              false,\n    };\n  },\n\n  computed: {\n    showVersionSelector() {\n      return this.versionOptions?.length > 1;\n    },\n\n    versionOptions() {\n      if (!this.plugin) {\n        return [];\n      }\n\n      // Don't allow update/rollback to current version\n      const versions = this.plugin?.installableVersions?.filter((v) => {\n        if (this.currentVersion) {\n          return v.version !== this.currentVersion;\n        }\n\n        return true;\n      });\n\n      return versions.map((version) => {\n        return {\n          label: version.version,\n          value: version.version,\n        };\n      });\n    },\n\n    buttonMode() {\n      return this.update ? 'update' : 'install';\n    }\n  },\n\n  methods: {\n    showDialog(plugin, mode) {\n      this.plugin = plugin;\n      this.mode = mode;\n\n      // Default to latest version on install (this is default on the plugin)\n      this.version = plugin.displayVersion;\n\n      if (mode === 'update') {\n        this.currentVersion = plugin.displayVersion;\n\n        // Update to latest version, so take the first version\n        if (plugin.installableVersions?.length > 0) {\n          this.version = plugin.installableVersions?.[0]?.version;\n        }\n      } else if (mode === 'rollback') {\n        // Find the newest version once we remove the current version\n        const versionNames = plugin.installableVersions.filter(v => v.version !== plugin.displayVersion);\n\n        this.currentVersion = plugin.displayVersion;\n\n        if (versionNames.length > 0) {\n          this.version = versionNames[0].version;\n        }\n      }\n\n      // Make sure we have the version available\n      const versionChart = plugin.installableVersions?.find(v => v.version === this.version);\n\n      if (!versionChart) {\n        this.version = plugin.installableVersions?.[0]?.version;\n      }\n\n      this.busy = false;\n      this.update = mode !== 'install';\n      this.showModal = true;\n    },\n\n    closeDialog(result) {\n      this.showModal = false;\n      this.$emit('closed', result);\n    },\n\n    async install() {\n      this.busy = true;\n\n      const plugin = this.plugin;\n\n      this.$emit('update', plugin.name, 'install');\n\n      // Find the version that the user wants to install\n      const version = plugin.versions?.find(v => v.version === this.version);\n\n      if (!version) {\n        this.busy = false;\n\n        return;\n      }\n\n      // is the image used by the chart in the rancher org?\n      let isRancherImage = false;\n\n      try {\n        const chartVersionInfo = await this.$store.dispatch('catalog/getVersionInfo', {\n          repoType:    version.repoType,\n          repoName:    version.repoName,\n          chartName:   plugin.chart.chartName,\n          versionName: this.version,\n        });\n\n        const image = chartVersionInfo?.values?.image?.repository || '';\n\n        isRancherImage = image.startsWith('rancher/');\n      } catch (e) {}\n\n      // See if there is already a plugin with this name\n      let exists = false;\n\n      try {\n        const app = await this.$store.dispatch('management/find', {\n          type: CATALOG.APP,\n          id:   `${ UI_PLUGIN_NAMESPACE }/${ plugin.chart.chartName }`,\n          opt:  { force: true },\n        });\n\n        exists = !!app;\n      } catch (e) {}\n\n      const repoType = version.repoType;\n      const repoName = version.repoName;\n      const repo = this.$store.getters['catalog/repo']({ repoType, repoName });\n\n      const chart = {\n        chartName:   plugin.chart.chartName,\n        version:     this.version,\n        releaseName: plugin.chart.chartName,\n        annotations: {\n          [CATALOG_ANNOTATIONS.SOURCE_REPO_TYPE]: plugin.repoType,\n          [CATALOG_ANNOTATIONS.SOURCE_REPO_NAME]: plugin.repoName\n        },\n        values: {}\n      };\n\n      // Pass in the system default registry property if set - only if the image is in the rancher org\n      const defaultRegistry = this.defaultRegistrySetting?.value || '';\n\n      if (isRancherImage && defaultRegistry) {\n        chart.values.global = chart.values.global || {};\n        chart.values.global.cattle = chart.values.global.cattle || {};\n        chart.values.global.cattle.systemDefaultRegistry = defaultRegistry;\n      }\n\n      const input = {\n        charts:    [chart],\n        // timeout:   this.cmdOptions.timeout > 0 ? `${ this.cmdOptions.timeout }s` : null,\n        // wait:      this.cmdOptions.wait === true,\n        namespace: UI_PLUGIN_NAMESPACE,\n      };\n\n      // Helm action\n      const action = (exists || this.update) ? 'upgrade' : 'install';\n\n      try {\n        const res = await repo.doAction(action, input);\n        const operationId = `${ res.operationNamespace }/${ res.operationName }`;\n\n        this.closeDialog(plugin);\n\n        await repo.waitForOperation(operationId);\n\n        await this.$store.dispatch(`management/find`, {\n          type: CATALOG.OPERATION,\n          id:   operationId\n        });\n      } catch (e) {\n        this.$store.dispatch('growl/error', {\n          title:   this.t('plugins.error.generic'),\n          message: e.message ? e.message : e,\n          timeout: 10000\n        }, { root: true });\n\n        this.closeDialog(plugin);\n      }\n    }\n  }\n};\n</script>\n\n<template>\n  <app-modal\n    v-if=\"showModal\"\n    name=\"installPluginDialog\"\n    height=\"auto\"\n    :scrollable=\"true\"\n    @close=\"closeDialog(false)\"\n  >\n    <div\n      v-if=\"plugin\"\n      class=\"plugin-install-dialog\"\n    >\n      <h4 class=\"mt-10\">\n        {{ t(`plugins.${ mode }.title`, { name: plugin.label }) }}\n      </h4>\n      <div class=\"custom mt-10\">\n        <div class=\"dialog-panel\">\n          <p>\n            {{ t(`plugins.${ mode }.prompt`) }}\n          </p>\n          <Banner\n            v-if=\"!plugin.certified\"\n            color=\"warning\"\n            :label=\"t('plugins.install.warnNotCertified')\"\n          />\n          <LabeledSelect\n            v-if=\"showVersionSelector\"\n            v-model=\"version\"\n            label-key=\"plugins.install.version\"\n            :options=\"versionOptions\"\n            class=\"version-selector mt-10\"\n            data-testid=\"install-ext-modal-select-version\"\n          />\n          <div v-else>\n            {{ t('plugins.install.version') }} {{ version }}\n          </div>\n        </div>\n        <div class=\"dialog-buttons\">\n          <button\n            :disabled=\"busy\"\n            class=\"btn role-secondary\"\n            data-testid=\"install-ext-modal-cancel-btn\"\n            @click=\"closeDialog(false)\"\n          >\n            {{ t('generic.cancel') }}\n          </button>\n          <AsyncButton\n            :mode=\"buttonMode\"\n            data-testid=\"install-ext-modal-install-btn\"\n            @click=\"install\"\n          />\n        </div>\n      </div>\n    </div>\n  </app-modal>\n</template>\n\n<style lang=\"scss\" scoped>\n  .plugin-install-dialog {\n    padding: 10px;\n\n    h4 {\n      font-weight: bold;\n    }\n\n    .dialog-panel {\n      display: flex;\n      flex-direction: column;\n      min-height: 100px;\n\n      p {\n        margin-bottom: 5px;\n      }\n\n      .dialog-info {\n        flex: 1;\n      }\n\n      .toggle-advanced {\n        display: flex;\n        align-items: center;\n        cursor: pointer;\n        margin: 10px 0;\n\n        &:hover {\n          text-decoration: none;\n          color: var(--link);\n        }\n      }\n\n      .version-selector {\n        margin: 0 10px 10px 10px;\n        width: auto;\n      }\n    }\n\n    .dialog-buttons {\n      display: flex;\n      justify-content: flex-end;\n      margin-top: 10px;\n\n      > *:not(:last-child) {\n        margin-right: 10px;\n      }\n    }\n  }\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--16-0!../../../../../node_modules/babel-loader/lib/index.js??ref--16-1!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./InstallDialog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--16-0!../../../../../node_modules/babel-loader/lib/index.js??ref--16-1!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./InstallDialog.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./InstallDialog.vue?vue&type=template&id=7064216c&scoped=true&\"\nimport script from \"./InstallDialog.vue?vue&type=script&lang=js&\"\nexport * from \"./InstallDialog.vue?vue&type=script&lang=js&\"\nimport style0 from \"./InstallDialog.vue?vue&type=style&index=0&id=7064216c&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7064216c\",\n  null\n  \n)\n\nexport default component.exports","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".plugin-install-dialog[data-v-7064216c]{padding:10px}.plugin-install-dialog h4[data-v-7064216c]{font-weight:700}.plugin-install-dialog .dialog-panel[data-v-7064216c]{display:flex;flex-direction:column;min-height:100px}.plugin-install-dialog .dialog-panel p[data-v-7064216c]{margin-bottom:5px}.plugin-install-dialog .dialog-panel .dialog-info[data-v-7064216c]{flex:1}.plugin-install-dialog .dialog-panel .toggle-advanced[data-v-7064216c]{display:flex;align-items:center;cursor:pointer;margin:10px 0}.plugin-install-dialog .dialog-panel .toggle-advanced[data-v-7064216c]:hover{text-decoration:none;color:var(--link)}.plugin-install-dialog .dialog-panel .version-selector[data-v-7064216c]{margin:0 10px 10px 10px;width:auto}.plugin-install-dialog .dialog-buttons[data-v-7064216c]{display:flex;justify-content:flex-end;margin-top:10px}.plugin-install-dialog .dialog-buttons[data-v-7064216c]>:not(:last-child){margin-right:10px}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-3!../../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-4!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./InstallDialog.vue?vue&type=style&index=0&id=7064216c&prod&lang=scss&scoped=true&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"8f4df9aa\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","export * from \"-!../../../../../node_modules/vue-style-loader/index.js??ref--9-oneOf-1-0!../../../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-3!../../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-4!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./InstallDialog.vue?vue&type=style&index=0&id=7064216c&prod&lang=scss&scoped=true&\""],"sourceRoot":""}