(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages/c/_cluster/settings/banners"],{"0c696":function(e,n,t){var a=t("be57");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var o=t("499e").default;o("6686afe7",a,!0,{sourceMap:!1,shadowMode:!1})},5383:function(e,n,t){"use strict";t("0c696")},"606f":function(e,n,t){"use strict";t("99b9")},"6fc0":function(e,n,t){var a=t("4bad");n=a(!1),n.push([e.i,".banner-decoration-checkbox[data-v-62b5f52a]{position:relative;display:inline-flex;align-items:flex-start;margin:0;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;user-select:none;border-radius:var(--border-radius);padding-bottom:5px;height:24px}",""]),e.exports=n},"99b9":function(e,n,t){var a=t("d144");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var o=t("499e").default;o("09e31300",a,!0,{sourceMap:!1,shadowMode:!1})},be57:function(e,n,t){var a=t("4bad");n=a(!1),n.push([e.i,".banner-input-footnote[data-v-359c970c]{font-size:12px;opacity:.8}.banner-decoration-checkbox[data-v-359c970c]{position:relative;display:inline-flex;align-items:flex-start;margin:0;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;user-select:none;border-radius:var(--border-radius);padding-bottom:5px;height:24px}",""]),e.exports=n},cbbf:function(e,n,t){var a=t("6fc0");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var o=t("499e").default;o("77ad5056",a,!0,{sourceMap:!1,shadowMode:!1})},d144:function(e,n,t){var a=t("4bad");n=a(!1),n.push([e.i,".overlay[data-v-59c249e4]{width:100%;height:100%;position:absolute;top:0;left:0;background-color:var(--overlay-bg);z-index:1}",""]),e.exports=n},d1d7:function(e,n,t){"use strict";t("cbbf")},e10c:function(e,n,t){"use strict";t.r(n);t("d3b7"),t("25f0");var a=function(){var e=this,n=e._self._c;return e.$fetchState.pending?n("Loading"):n("div",[n("h1",{staticClass:"mb-20"},[e._v("\n    "+e._s(e.t("banner.label"))+"\n  ")]),e._v(" "),n("div",[n("label",{staticClass:"text-label"},[e._v("\n      "+e._s(e.t("advancedSettings.descriptions.".concat("ui-banners"),{},!0))+"\n    ")]),e._v(" "),[n("h2",{staticClass:"mt-40 mb-40"},[e._v("\n        "+e._s(e.t("banner.headerBanner"))+"\n      ")]),e._v(" "),n("div",{staticClass:"row mb-20"},[n("div",{staticClass:"col span-6"},[n("Checkbox",{attrs:{value:"true"===e.bannerVal.showHeader,label:e.t("banner.showHeader"),mode:e.mode},on:{input:function(n){return e.$set(e.bannerVal,"showHeader",n.toString())}}})],1)]),e._v(" "),n("BannerSettings",{attrs:{"banner-type":"bannerHeader",mode:e.headerMode},model:{value:e.bannerVal,callback:function(n){e.bannerVal=n},expression:"bannerVal"}}),e._v(" "),n("h2",{staticClass:"mt-40 mb-40"},[e._v("\n        "+e._s(e.t("banner.footerBanner"))+"\n      ")]),e._v(" "),n("div",{staticClass:"row mt-40 mb-20"},[n("div",{staticClass:"col span-6"},[n("Checkbox",{attrs:{value:"true"===e.bannerVal.showFooter,label:e.t("banner.showFooter"),mode:e.mode},on:{input:function(n){return e.$set(e.bannerVal,"showFooter",n.toString())}}})],1)]),e._v(" "),n("BannerSettings",{attrs:{"banner-type":"bannerFooter",mode:e.footerMode},model:{value:e.bannerVal,callback:function(n){e.bannerVal=n},expression:"bannerVal"}})],e._v(" "),n("h2",{staticClass:"mt-40 mb-40"},[e._v("\n      "+e._s(e.t("banner.loginScreenBanner"))+"\n    ")]),e._v(" "),[n("div",{staticClass:"row mt-40 mb-20"},[n("div",{staticClass:"col span-6"},[n("Checkbox",{attrs:{value:"true"===e.bannerVal.showConsent,label:e.t("banner.showConsent"),mode:e.mode},on:{input:function(n){return e.$set(e.bannerVal,"showConsent",n.toString())}}})],1)]),e._v(" "),n("BannerSettings",{attrs:{"banner-type":"bannerConsent",mode:e.consentMode},model:{value:e.bannerVal,callback:function(n){e.bannerVal=n},expression:"bannerVal"}})],e._v(" "),n("h2",{staticClass:"mt-40 mb-40"},[e._v("\n      "+e._s(e.t("notifications.loginError.header"))+"\n    ")]),e._v(" "),n("NotificationSettings",{attrs:{mode:e.mode,label:e.t("notifications.loginError.messageLabel")},model:{value:e.bannerVal.loginError,callback:function(n){e.$set(e.bannerVal,"loginError",n)},expression:"bannerVal.loginError"}})],2),e._v(" "),e._l(e.errors,(function(e){return[n("Banner",{key:e,attrs:{color:"error",label:e}})]})),e._v(" "),"edit"===e.mode?n("div",[n("AsyncButton",{staticClass:"pull-right mt-20",attrs:{mode:"apply"},on:{click:e.save}})],1):e._e()],2)},o=[],r=(t("b64b"),t("a4d3"),t("4de4"),t("e439"),t("159b"),t("dbb4"),t("ade3")),l=t("1da1"),s=t("a34a"),i=t.n(s),c=(t("96cf"),t("cca6"),t("caad"),t("2532"),t("e260"),t("e6cf"),t("3ca3"),t("ddb0"),t("13ea")),u=t.n(c),b=t("4de2"),d=t("c778"),v=t("67c9"),p=t("bec1"),f=function(){var e=this,n=e._self._c;return n("div",{staticClass:"row mb-20"},[n("div",{staticClass:"col span-12"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col span-6"},[n("LabeledInput",{attrs:{disabled:e.isUiDisabled,label:e.t("banner.text"),type:"multiline"},model:{value:e.value[e.bannerType].text,callback:function(n){e.$set(e.value[e.bannerType],"text",n)},expression:"value[bannerType].text"}}),e._v(" "),e.isConsentBanner?n("p",{staticClass:"banner-input-footnote mt-5 mb-20"},[e._v("\n          "+e._s(e.t("banner.consentFootnote"))+"\n        ")]):e._e(),e._v(" "),e.isConsentBanner?n("div",{staticClass:"mt-10"},[n("Checkbox",{staticClass:"banner-decoration-checkbox",attrs:{name:"bannerDecoration",mode:e.mode,label:e.t("banner.showAsDialog.label"),tooltip:e.t("banner.showAsDialog.tooltip")},model:{value:e.showAsDialog,callback:function(n){e.showAsDialog=n},expression:"showAsDialog"}}),e._v(" "),n("LabeledInput",{attrs:{disabled:!e.showAsDialog||e.isUiDisabled,label:e.t("banner.buttonText")},model:{value:e.buttonText,callback:function(n){e.buttonText=n},expression:"buttonText"}})],1):e._e()],1),e._v(" "),n("div",{staticClass:"col span-2"},[n("RadioGroup",{attrs:{name:"bannerAlignment",label:e.t("banner.bannerAlignment.label"),options:e.radioOptions.options,labels:e.radioOptions.labels,mode:e.mode},model:{value:e.value[e.bannerType].textAlignment,callback:function(n){e.$set(e.value[e.bannerType],"textAlignment",n)},expression:"value[bannerType].textAlignment"}})],1),e._v(" "),n("div",{staticClass:"col span-2"},[n("h3",[e._v("\n          "+e._s(e.t("banner.bannerDecoration.label"))+"\n        ")]),e._v(" "),e._l(e.textDecorationOptions,(function(t){return n("div",{key:t.style},[n("Checkbox",{staticClass:"banner-decoration-checkbox",attrs:{name:"bannerDecoration",mode:e.mode,label:t.label},model:{value:e.value[e.bannerType][t.style],callback:function(n){e.$set(e.value[e.bannerType],t.style,n)},expression:"value[bannerType][o.style]"}})],1)}))],2),e._v(" "),n("div",{staticClass:"col span-2"},[n("LabeledSelect",{attrs:{disabled:e.isUiDisabled,label:e.t("banner.bannerFontSize.label"),options:e.uiBannerFontSizeOptions},model:{value:e.value[e.bannerType].fontSize,callback:function(n){e.$set(e.value[e.bannerType],"fontSize",n)},expression:"value[bannerType].fontSize"}})],1)]),e._v(" "),n("div",{staticClass:"row mt-10"},[n("div",{staticClass:"col span-6"},[n("ColorInput",{attrs:{"default-value":e.themeVars.bannerTextColor,label:e.t("banner.textColor"),mode:e.mode},model:{value:e.value[e.bannerType].color,callback:function(n){e.$set(e.value[e.bannerType],"color",n)},expression:"value[bannerType].color"}})],1),e._v(" "),n("div",{staticClass:"col span-6"},[n("ColorInput",{attrs:{"default-value":e.themeVars.bannerBgColor,label:e.t("banner.background"),mode:e.mode},model:{value:e.value[e.bannerType].background,callback:function(n){e.$set(e.value[e.bannerType],"background",n)},expression:"value[bannerType].background"}})],1)])])])},h=[],g=t("5ed1"),m=t("84d3"),x=t("a95f"),y=t("fa35"),C=t("fa3b"),w={name:"BannerSettings",props:{value:{type:Object,default:function(){}},mode:{type:String,validator:function(e){return[C["M"],C["T"]].includes(e)},default:C["M"]},bannerType:{type:String,required:!0}},components:{Checkbox:b["a"],ColorInput:g["a"],LabeledInput:m["a"],LabeledSelect:x["a"],RadioGroup:y["b"]},data:function(){var e,n,t=!(null===(e=this.value[this.bannerType])||void 0===e||!e.button)||!1,a=(null===(n=this.value[this.bannerType])||void 0===n?void 0:n.button)||this.t("banner.showAsDialog.defaultButtonText");return{showAsDialog:t,buttonText:a,uiBannerFontSizeOptions:["10px","12px","14px","16px","18px","20px"],themeVars:{bannerBgColor:getComputedStyle(document.body).getPropertyValue("--default"),bannerTextColor:getComputedStyle(document.body).getPropertyValue("--banner-text-color")}}},watch:{showAsDialog:function(e,n){this.value[this.bannerType].button=e===n||e?this.buttonText:""},buttonText:function(e,n){e!==n&&(this.value[this.bannerType].button=e)}},computed:{radioOptions:function(){var e=["left","center","right"],n=[this.t("banner.bannerAlignment.leftOption"),this.t("banner.bannerAlignment.centerOption"),this.t("banner.bannerAlignment.rightOption")];return{options:e,labels:n}},isUiDisabled:function(){return this.mode===C["T"]},textDecorationOptions:function(){var e=[{style:"fontWeight",label:this.t("banner.bannerDecoration.bannerBold")},{style:"fontStyle",label:this.t("banner.bannerDecoration.bannerItalic")},{style:"textDecoration",label:this.t("banner.bannerDecoration.bannerUnderline")}];return e},isConsentBanner:function(){return"bannerConsent"===this.bannerType}}},_=w,S=(t("5383"),t("0c7c")),k=Object(S["a"])(_,f,h,!1,null,"359c970c",null),T=k.exports,O=t("fa98"),B=t("a788"),D=t("58ec"),M=t("c5b9"),V=t("de78"),A=function(){var e=this,n=e._self._c;return n("div",[n("div",{staticClass:"row mb-20"},[n("div",{staticClass:"col span-6"},[n("Checkbox",{attrs:{mode:e.mode,value:"true"===e.value.showMessage,label:e.t("notifications.loginError.showCheckboxLabel")},on:{input:function(n){return e.$set(e.value,"showMessage",n.toString())}}})],1)]),e._v(" "),n("div",{staticClass:"row mb-20"},[n("div",{staticClass:"col span-6"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col span-12"},[n("LabeledInput",{attrs:{mode:e.mode,disabled:"false"===e.value.showMessage,label:e.t("notifications.loginError.messageLabel")},model:{value:e.value.message,callback:function(n){e.$set(e.value,"message",n)},expression:"value.message"}})],1)])])])])},j=[],E={name:"NotificationSettings",components:{LabeledInput:m["a"],Checkbox:b["a"]},props:{value:{type:Object,default:function(){}},mode:{type:String,validator:function(e){return[C["M"],C["T"]].includes(e)},default:C["M"]}}},F=E,$=(t("d1d7"),Object(S["a"])(F,A,j,!1,null,"62b5f52a",null)),L=$.exports;function z(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function I(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?z(Object(t),!0).forEach((function(n){Object(r["a"])(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):z(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var P={loginError:{message:"",showMessage:"false"},bannerHeader:{background:null,color:null,textAlignment:"center",fontWeight:null,fontStyle:null,fontSize:"14px",textDecoration:null,text:null},bannerFooter:{background:null,color:null,textAlignment:"center",fontWeight:null,fontStyle:null,fontSize:"14px",textDecoration:null,text:null},bannerConsent:{background:null,color:null,textAlignment:"center",fontWeight:null,fontStyle:null,fontSize:"14px",textDecoration:null,text:null,button:null},showHeader:"false",showFooter:"false",showConsent:"false"},H={layout:"authenticated",components:{Checkbox:b["a"],Loading:d["a"],AsyncButton:v["b"],Banner:p["a"],BannerSettings:T,NotificationSettings:L},fetch:function(){var e=this;return Object(l["a"])(i.a.mark((function n(){var t;return i.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,Object(O["a"])({uiBannerSetting:e.$store.dispatch("management/find",{type:B["A"].SETTING,id:M["c"].BANNERS})});case 2:t=n.sent,Object.assign(e,t);case 4:case"end":return n.stop()}}),n)})))()},data:function(){return{vendor:Object(D["d"])(),uiBannerSetting:null,bannerVal:{},errors:[]}},computed:{mode:function(){var e,n=this.$store.getters["management/schemaFor"](B["A"].SETTING);return null!==n&&void 0!==n&&null!==(e=n.resourceMethods)&&void 0!==e&&e.includes("PUT")?C["M"]:C["T"]},headerMode:function(){var e;return"true"===(null===(e=this.bannerVal)||void 0===e?void 0:e.showHeader)?C["M"]:C["T"]},footerMode:function(){var e;return"true"===(null===(e=this.bannerVal)||void 0===e?void 0:e.showFooter)?C["M"]:C["T"]},consentMode:function(){var e;return"true"===(null===(e=this.bannerVal)||void 0===e?void 0:e.showConsent)?C["M"]:C["T"]}},watch:{uiBannerSetting:function(e){if(null!==e&&void 0!==e&&e.value&&""!==e.value)try{var n=JSON.parse(e.value);this.bannerVal=this.checkOrUpdateLegacyUIBannerSetting(n)}catch(t){}}},methods:{checkOrUpdateLegacyUIBannerSetting:function(e){var n=e.bannerHeader,t=e.bannerFooter,a=e.bannerConsent,o=e.banner,r=e.loginError;if(u()(n)&&u()(t)&&u()(a)){var l=P;if(!u()(o)){var s=Object(V["clone"])(null!==o&&void 0!==o?o:{});null!==s&&void 0!==s&&s.textColor&&(s["color"]=s.textColor,delete s.textColor),l={bannerHeader:I({},s),bannerFooter:I({},s),loginError:I(I({},P.loginError),{},{loginError:"false"===(null===r||void 0===r?void 0:r.showMessage)?"false":"true"}),bannerConsent:I({},P.bannerConsent),showHeader:"true"===(null===e||void 0===e?void 0:e.showHeader)?"true":"false",showFooter:"true"===(null===e||void 0===e?void 0:e.showFooter)?"true":"false",showConsent:"true"===(null===e||void 0===e?void 0:e.showConsent)?"true":"false"}}return l}return u()(a)&&(e.bannerConsent=I({},P.bannerConsent)),u()(r)&&(e.loginError=I({},P.loginError)),e},save:function(e){var n=this;return Object(l["a"])(i.a.mark((function t(){return i.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n.uiBannerSetting.value=JSON.stringify(n.bannerVal),n.errors=[],t.prev=2,t.next=5,Promise.all([n.uiBannerSetting.save()]);case 5:e(!0),t.next=12;break;case 8:t.prev=8,t.t0=t["catch"](2),n.errors.push(t.t0),e(!1);case 12:case"end":return t.stop()}}),t,null,[[2,8]])})))()}}},U=H,N=(t("606f"),Object(S["a"])(U,a,o,!1,null,"59c249e4",null));n["default"]=N.exports}}]);
//# sourceMappingURL=banners.bb3354e9.js.map