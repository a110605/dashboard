(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages/home"],{2044:function(e,t,a){var s=a("4bad");t=s(!1),t.push([e.i,".home-page .search{align-items:center;display:flex}.home-page .search>INPUT{background-color:transparent;height:30px;padding:8px}.home-page h2{font-size:16px}",""]),e.exports=t},"400a":function(e,t,a){var s=a("8fee");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);var n=a("499e").default;n("b5362316",s,!0,{sourceMap:!1,shadowMode:!1})},"4a08":function(e,t,a){var s=a("8588");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);var n=a("499e").default;n("53c5f980",s,!0,{sourceMap:!1,shadowMode:!1})},8588:function(e,t,a){var s=a("4bad");t=s(!1),t.push([e.i,".home-panels[data-v-2c83293d]{display:flex;align-items:stretch}.home-panels .col[data-v-2c83293d]{margin:0}.home-panels .main-panel[data-v-2c83293d]{flex:auto}.home-panels .side-panel[data-v-2c83293d]{margin-left:1.75%}.set-login-page[data-v-2c83293d]> .banner__content,.whats-new[data-v-2c83293d]> .banner__content{display:flex}.set-login-page[data-v-2c83293d]> .banner__content>div,.whats-new[data-v-2c83293d]> .banner__content>div{flex:1}.set-login-page[data-v-2c83293d]> .banner__content>a,.whats-new[data-v-2c83293d]> .banner__content>a{align-self:flex-end}.banner.set-login-page[data-v-2c83293d]{border:1px solid var(--border)}.table-heading[data-v-2c83293d]{align-items:center;display:flex;height:39px}.table-heading>a[data-v-2c83293d]{margin-left:10px}.panel[data-v-2c83293d]:not(:first-child){margin-top:20px}.getting-started[data-v-2c83293d]{align-items:flex-end;display:flex}.getting-started>span[data-v-2c83293d]{flex:1;margin-right:20px}.getting-started-btn[data-v-2c83293d]{display:contents;white-space:nowrap}.list-cluster-name[data-v-2c83293d]{align-items:center;display:flex}.list-cluster-name .conditions-alert-icon[data-v-2c83293d]{color:var(--error);margin-left:4px}@media screen and (max-width:996px){.side-panel[data-v-2c83293d]{display:none}}",""]),e.exports=t},"8fee":function(e,t,a){var s=a("4bad");t=s(!1),t.push([e.i,".single-cluster-header[data-v-aadee766]{align-items:center;display:flex}.single-cluster-header .rancher-icon[data-v-aadee766]{margin-right:10px}.single-cluster-header h1[data-v-aadee766]{font-size:20px;margin:0}.single-cluster-info[data-v-aadee766]{margin-top:20px}.single-cluster-info .section[data-v-aadee766]{margin:15px 0 5px 0;font-weight:700}.single-cluster-info .cluster-counts[data-v-aadee766]{display:flex;margin:10px 0}.single-cluster-info .cluster-counts>*[data-v-aadee766]{flex:1}.single-cluster-info .cluster-counts[data-v-aadee766]>:not(:last-child){margin-right:20px}.single-cluster-info .glance-item[data-v-aadee766]{font-size:14px;padding:5px 0}.single-cluster-info .glance-item .cluster-link[data-v-aadee766]{font-size:14px}",""]),e.exports=t},b5d3:function(e,t,a){var s=a("2044");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);var n=a("499e").default;n("3eb443ca",s,!0,{sourceMap:!1,shadowMode:!1})},d71f:function(e,t,a){"use strict";a.r(t);a("d3b7"),a("25f0"),a("99af"),a("ac1f"),a("466d");var s=function(){var e=this,t=e._self._c;return e.managementReady?t("div",{staticClass:"home-page"},[t("BannerGraphic",{attrs:{small:!0,title:e.t("landing.welcomeToRancher",{vendor:e.vendor}),pref:e.HIDE_HOME_PAGE_CARDS,"pref-key":"welcomeBanner"}}),e._v(" "),t("IndentedPanel",{staticClass:"mt-20 mb-20"},[e.readWhatsNewAlready?e._e():t("div",{staticClass:"row"},[t("div",{staticClass:"col span-12"},[t("Banner",{attrs:{"data-testid":"changelog-banner",color:"info whats-new"}},[t("div",[e._v("\n            "+e._s(e.t("landing.seeWhatsNew"))+"\n          ")]),e._v(" "),t("a",{staticClass:"hand",on:{click:function(t){return t.preventDefault(),t.stopPropagation(),e.showWhatsNew.apply(null,arguments)}}},[t("span",{directives:[{name:"clean-html",rawName:"v-clean-html",value:e.t("landing.whatsNewLink"),expression:"t('landing.whatsNewLink')"}]})])])],1)]),e._v(" "),t("div",{staticClass:"row home-panels"},[t("div",{staticClass:"col main-panel"},[e.showSetLoginBanner?e._e():t("div",{staticClass:"mb-10 row"},[t("div",{staticClass:"col span-12"},[t("Banner",{attrs:{color:"set-login-page mt-0",closable:!0},on:{close:function(t){return e.closeSetLoginBanner()}}},[t("div",[e._v("\n                "+e._s(e.t("landing.landingPrefs.title"))+"\n              ")]),e._v(" "),t("a",{staticClass:"hand mr-20",on:{click:function(t){return t.preventDefault(),t.stopPropagation(),e.showUserPrefs.apply(null,arguments)}}},[t("span",{directives:[{name:"clean-html",rawName:"v-clean-html",value:e.t("landing.landingPrefs.userPrefs"),expression:"t('landing.landingPrefs.userPrefs')"}]})])])],1)]),e._v(" "),t("div",{staticClass:"row panel"},[e.mcm?t("div",{staticClass:"col span-12"},[t("SortableTable",{attrs:{"table-actions":!1,"row-actions":!1,"key-field":"id",rows:e.kubeClusters,headers:e.clusterHeaders,loading:!e.kubeClusters},scopedSlots:e._u([{key:"header-left",fn:function(){return[t("div",{staticClass:"row table-heading"},[t("h2",{staticClass:"mb-0"},[e._v("\n                    "+e._s(e.t("landing.clusters.title"))+"\n                  ")]),e._v(" "),e.kubeClusters?t("BadgeState",{attrs:{label:e.kubeClusters.length.toString(),color:"role-tertiary ml-20 mr-20"}}):e._e()],1)]},proxy:!0},e.canCreateCluster||e.canManageClusters?{key:"header-middle",fn:function(){return[t("div",{staticClass:"table-heading"},[e.canManageClusters?t("n-link",{staticClass:"btn btn-sm role-secondary",attrs:{to:e.manageLocation}},[e._v("\n                    "+e._s(e.t("cluster.manageAction"))+"\n                  ")]):e._e(),e._v(" "),e.canCreateCluster?t("n-link",{staticClass:"btn btn-sm role-primary",attrs:{to:e.importLocation}},[e._v("\n                    "+e._s(e.t("cluster.importAction"))+"\n                  ")]):e._e(),e._v(" "),e.canCreateCluster?t("n-link",{staticClass:"btn btn-sm role-primary",attrs:{to:e.createLocation}},[e._v("\n                    "+e._s(e.t("generic.create"))+"\n                  ")]):e._e()],1)]},proxy:!0}:null,{key:"col:name",fn:function(a){var s=a.row;return[t("td",[t("div",{staticClass:"list-cluster-name"},[s.mgmt?t("span",[s.mgmt.isReady&&!s.hasError?t("n-link",{attrs:{to:{name:"c-cluster-explorer",params:{cluster:s.mgmt.id}}}},[e._v("\n                        "+e._s(s.nameDisplay)+"\n                      ")]):t("span",[e._v(e._s(s.nameDisplay))])],1):e._e(),e._v(" "),s.unavailableMachines?t("i",{directives:[{name:"clean-tooltip",rawName:"v-clean-tooltip",value:s.unavailableMachines,expression:"row.unavailableMachines"}],staticClass:"conditions-alert-icon icon-alert icon"}):e._e()])])]}},{key:"col:cpu",fn:function(a){var s=a.row;return[s.mgmt&&e.cpuAllocatable(s.mgmt)?t("td",[e._v("\n                  "+e._s("".concat(e.cpuAllocatable(s.mgmt)," ").concat(e.t("landing.clusters.cores",{count:e.cpuAllocatable(s.mgmt)})))+"\n                ")]):t("td",[e._v("\n                  —\n                ")])]}},{key:"col:memory",fn:function(a){var s=a.row;return[s.mgmt&&e.memoryAllocatable(s.mgmt)&&!e.memoryAllocatable(s.mgmt).match(/^0 [a-zA-z]/)?t("td",[e._v("\n                  "+e._s(e.memoryAllocatable(s.mgmt))+"\n                ")]):t("td",[e._v("\n                  —\n                ")])]}}],null,!0)})],1):t("div",{staticClass:"col span-12"},[t("SingleClusterInfo")],1)])]),e._v(" "),t("CommunityLinks",{staticClass:"col span-3 side-panel"})],1)])],1):e._e()},n=[],r=(a("b64b"),a("a4d3"),a("4de4"),a("e439"),a("159b"),a("dbb4"),a("1da1")),l=a("ade3"),c=a("a34a"),o=a.n(c),i=(a("96cf"),a("7db0"),a("e528")),u=a("bec1"),d=a("ea35"),m=a("a707"),p=a("40d2"),v=a("4297"),g=a("7e6f"),f=function(){var e=this,t=e._self._c;return e.clusterDetail?t("div",[t("div",{staticClass:"single-cluster-header"},[t("ClusterProviderIcon",{staticClass:"rancher-icon",attrs:{cluster:e.clusterDetail,width:"32"}}),e._v(" "),t("h1",[e._v(e._s(e.t("glance.clusterInfo")))])],1),e._v(" "),t("div",{staticClass:"single-cluster-info"},[t("div",{staticClass:"cluster-counts"},[t("ResourceSummary",{attrs:{"spoofed-counts":e.totalCountGaugeInput}}),e._v(" "),e.canAccessNodes?t("ResourceSummary",{attrs:{cluster:e.clusterDetail.id,resource:"node"}}):e._e(),e._v(" "),e.canAccessNamespaces?t("ResourceSummary",{attrs:{cluster:e.clusterDetail.id,resource:"namespace"}}):e._e()],1),e._v(" "),t("div",{staticClass:"glance-item"},[t("label",[e._v(e._s(e.t("glance.provider"))+": ")]),e._v(" "),t("span",[e._v(e._s(e.t("cluster.provider.".concat(e.clusterDetail.status.provider||"other"))))])]),e._v(" "),e.clusterDetail.kubernetesVersionRaw?t("div",{staticClass:"glance-item"},[t("label",[e._v(e._s(e.t("glance.version"))+": ")]),e._v(" "),t("span",[e._v(e._s(e.clusterDetail.kubernetesVersionBase))]),e._v(" "),e.clusterDetail.kubernetesVersionExtension?t("span",{staticStyle:{"font-size":"0.75em"}},[e._v(e._s(e.clusterDetail.kubernetesVersionExtension))]):e._e()]):e._e(),e._v(" "),t("div",{staticClass:"glance-item"},[t("label",[e._v(e._s(e.t("glance.created"))+": ")]),e._v(" "),t("span",[t("LiveDate",{attrs:{value:e.clusterDetail.metadata.creationTimestamp,"add-suffix":!0,"show-tooltip":!0}})],1)]),e._v(" "),t("div",{staticClass:"section"},[e._v("\n      "+e._s(e.t("generic.links"))+"\n    ")]),e._v(" "),t("div",{staticClass:"glance-item"},[t("nuxt-link",{staticClass:"cluster-link",attrs:{to:e.exploreLink}},[e._v("\n        "+e._s(e.t("nav.categories.explore"))+"\n      ")])],1),e._v(" "),e.showClusterTools?t("div",{staticClass:"glance-item"},[t("nuxt-link",{staticClass:"cluster-link",attrs:{to:e.clusterToolsLink}},[e._v("\n        "+e._s(e.t("nav.clusterTools"))+"\n      ")])],1):e._e()])]):e._e()},h=[],b=(a("4fad"),a("e3303")),_=a("c859"),C=a("a788"),y=a("1acf"),w={components:{ClusterProviderIcon:b["a"],ResourceSummary:_["b"]},fetch:function(){var e=this;return Object(r["a"])(o.a.mark((function t(){return o.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("management/findAll",{type:C["A"].CLUSTER,opt:{url:C["A"].CLUSTER}});case 2:e.clusters=t.sent;case 3:case"end":return t.stop()}}),t)})))()},data:function(){return{clusters:[],clusterDetail:null,clusterCounts:{}}},computed:{exploreLink:function(){return{name:"c-cluster",params:{cluster:this.clusterDetail.id}}},clusterToolsLink:function(){return{name:"c-cluster-explorer-tools",params:{cluster:this.clusterDetail.id}}},accessibleResources:function(){var e=this;return y["RESOURCES"].filter((function(t){return e.$store.getters["cluster/schemaFor"](t)}))},totalCountGaugeInput:function(){var e=this,t={name:this.t("clusterIndexPage.resourceGauge.totalResources"),total:0,useful:0,warningCount:0,errorCount:0};return this.accessibleResources.forEach((function(a){var s=Object(_["c"])(e.$store,a);Object.entries(s).forEach((function(e){t[e[0]]+=e[1]}))})),t},canAccessNodes:function(){var e,t,a;return!(null===(e=this.clusterCounts)||void 0===e||null===(t=e[0])||void 0===t||null===(a=t.counts)||void 0===a||!a[C["G"]])},canAccessNamespaces:function(){var e,t,a;return!(null===(e=this.clusterCounts)||void 0===e||null===(t=e[0])||void 0===t||null===(a=t.counts)||void 0===a||!a[C["D"]])},showClusterTools:function(){return this.$store.getters["cluster/canList"](C["f"].CLUSTER_REPO)&&this.$store.getters["cluster/canList"](C["f"].APP)}},watch:{clusters:function(e){var t=this;return Object(r["a"])(o.a.mark((function a(){return o.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.clusterDetail=e[0],a.next=3,t.$store.dispatch("loadCluster",{id:t.clusterDetail.id});case 3:t.clusterCounts=t.$store.getters["cluster/all"](C["i"]);case 4:case"end":return a.stop()}}),a)})))()}}},E=w,A=(a("e6ac"),a("0c7c")),x=Object(A["a"])(E,f,h,!1,null,"aadee766",null),O=x.exports,L=a("2f62"),R=a("5bbf"),k=a("9149"),D=a("fa3b"),P=a("04e8"),S=a("55a3"),N=a("8414"),j=a("58ec"),T=a("c2de"),$=a("5f76"),H=a("2ade"),M="reset-homepage-cards",U="set-as-login";function I(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,s)}return a}function B(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?I(Object(a),!0).forEach((function(t){Object(l["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):I(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var G={name:"Home",layout:"home",components:{Banner:u["a"],BannerGraphic:d["a"],IndentedPanel:m["a"],SortableTable:p["c"],BadgeState:v["a"],CommunityLinks:g["a"],SingleClusterInfo:O},mixins:[N["a"]],fetch:function(){this.$store.getters["management/schemaFor"](C["e"].RANCHER_CLUSTER)&&this.$store.dispatch("management/findAll",{type:C["e"].RANCHER_CLUSTER}),this.$store.getters["management/schemaFor"](C["A"].CLUSTER)&&this.$store.dispatch("management/findAll",{type:C["A"].CLUSTER}),this.$store.getters["management/canList"](C["e"].MACHINE)&&this.$store.dispatch("management/findAll",{type:C["e"].MACHINE}),this.$store.getters["management/canList"](C["A"].NODE)&&this.$store.dispatch("management/findAll",{type:C["A"].NODE}),this.$store.getters["management/canList"](C["A"].NODE_POOL)&&this.$store.dispatch("management/findAll",{type:C["A"].NODE_POOL}),this.$store.getters["management/canList"](C["A"].NODE_TEMPLATE)&&this.$store.dispatch("management/findAll",{type:C["A"].NODE_TEMPLATE})},data:function(){var e=Object(S["b"])(this.$store).fullVersion,t=[{labelKey:"nav.header.setLoginPage",action:U},{separator:!0},{labelKey:"nav.header.restoreCards",action:M}];return{HIDE_HOME_PAGE_CARDS:i["HIDE_HOME_PAGE_CARDS"],fullVersion:e,pageActions:t,vendor:Object(j["d"])()}},computed:B(B(B(B({},Object(L["c"])(["managementReady"])),Object(L["b"])(["currentCluster"])),{},{mcm:Object(T["mapFeature"])(T["MULTI_CLUSTER"]),provClusters:function(){return this.$store.getters["management/all"](C["e"].RANCHER_CLUSTER)},canManageClusters:function(){var e=this.$store.getters["management/schemaFor"](C["e"].RANCHER_CLUSTER);return!!e},canCreateCluster:function(){var e=this.$store.getters["management/schemaFor"](C["e"].RANCHER_CLUSTER);return!(null===e||void 0===e||!e.collectionMethods.find((function(e){return"post"===e.toLowerCase()})))},manageLocation:function(){return{name:"c-cluster-product-resource",params:{product:R["NAME"],cluster:$["BLANK_CLUSTER"],resource:C["e"].RANCHER_CLUSTER}}},createLocation:function(){return{name:"c-cluster-product-resource-create",params:{product:R["NAME"],cluster:$["BLANK_CLUSTER"],resource:C["e"].RANCHER_CLUSTER}}},importLocation:function(){return{name:"c-cluster-product-resource-create",params:{product:R["NAME"],cluster:$["BLANK_CLUSTER"],resource:C["e"].RANCHER_CLUSTER},query:Object(l["a"])({},D["t"],D["P"])}},afterLoginRoute:Object(i["mapPref"])(i["AFTER_LOGIN_ROUTE"]),homePageCards:Object(i["mapPref"])(i["HIDE_HOME_PAGE_CARDS"]),readWhatsNewAlready:function(){return Object(S["h"])(this.$store)},showSetLoginBanner:function(){var e;return null===(e=this.homePageCards)||void 0===e?void 0:e.setLoginPage},clusterHeaders:function(){return[k["zb"],{name:"name",labelKey:"tableHeaders.name",value:"nameDisplay",sort:["nameSort"],canBeVariable:!0,getValue:function(e){var t;return null===(t=e.mgmt)||void 0===t?void 0:t.nameDisplay}},{label:this.t("landing.clusters.provider"),value:"mgmt.status.provider",name:"Provider",sort:["mgmt.status.provider"],formatter:"ClusterProvider"},{label:this.t("landing.clusters.kubernetesVersion"),value:"kubernetesVersion",name:"Kubernetes Version"},{label:this.t("tableHeaders.cpu"),value:"",name:"cpu",sort:["status.allocatable.cpu","status.available.cpu"]},{label:this.t("tableHeaders.memory"),value:"",name:"memory",sort:["status.allocatable.memory","status.available.memory"]},{label:this.t("tableHeaders.pods"),name:"pods",value:"",sort:["status.allocatable.pods","status.available.pods"],formatter:"PodsUsage",delayLoading:!0}]}},Object(L["b"])(["currentCluster","defaultClusterId"])),{},{kubeClusters:function(){return Object(H["a"])(Object(H["b"])(this.provClusters||[],this.$store),this.$store)}}),created:function(){var e=this;return Object(r["a"])(o.a.mark((function t(){return o.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("prefs/setLastVisited",{name:"home"});case 2:Object(S["f"])(e.$store);case 3:case"end":return t.stop()}}),t)})))()},beforeDestroy:function(){this.$store.dispatch("management/forgetType",C["e"].MACHINE),this.$store.dispatch("management/forgetType",C["A"].NODE),this.$store.dispatch("management/forgetType",C["A"].NODE_POOL),this.$store.dispatch("management/forgetType",C["A"].NODE_TEMPLATE)},methods:{handlePageAction:function(e){switch(e.action){case M:this.resetCards();break;case U:this.afterLoginRoute="home";break}},cpuUsed:function(e){var t;return Object(P["g"])(null===(t=e.status.requested)||void 0===t?void 0:t.cpu)},cpuAllocatable:function(e){var t;return Object(P["g"])(null===(t=e.status.allocatable)||void 0===t?void 0:t.cpu)},memoryAllocatable:function(e){var t,a=(Object(P["g"])(null===(t=e.status.allocatable)||void 0===t?void 0:t.memory)||0).toString(),s=Object(P["c"])(a);return Object(P["f"])(a,s)},memoryReserved:function(e){var t,a,s,n,r=Object(P["d"])(null===e||void 0===e||null===(t=e.status)||void 0===t||null===(a=t.allocatable)||void 0===a?void 0:a.memory,null===e||void 0===e||null===(s=e.status)||void 0===s||null===(n=s.requested)||void 0===n?void 0:n.memory);return"".concat(r.useful,"/").concat(r.total," ").concat(r.units)},showWhatsNew:function(){Object(S["e"])(this.$store),this.$router.push({name:"docs-doc",params:{doc:"whats-new"}})},showUserPrefs:function(){this.$router.push({name:"prefs"})},resetCards:function(){var e=this;return Object(r["a"])(o.a.mark((function t(){return o.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("prefs/set",{key:i["HIDE_HOME_PAGE_CARDS"],value:{}});case 2:return t.next=4,e.$store.dispatch("prefs/set",{key:i["READ_WHATS_NEW"],value:""});case 4:case"end":return t.stop()}}),t)})))()},closeSetLoginBanner:function(){var e=arguments,t=this;return Object(r["a"])(o.a.mark((function a(){var s,n,r;return o.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return s=e.length>0&&void 0!==e[0]?e[0]:0,n=t.$store.getters["prefs/get"](i["HIDE_HOME_PAGE_CARDS"]),(!0===n||!1===n||n.length>0)&&(n={}),n.setLoginPage=!0,a.next=6,t.$store.dispatch("prefs/set",{key:i["HIDE_HOME_PAGE_CARDS"],value:n});case 6:if(r=a.sent,0!==s||"error"!==(null===r||void 0===r?void 0:r.type)||500!==(null===r||void 0===r?void 0:r.status)){a.next=10;break}return a.next=10,t.closeSetLoginBanner(s+1);case 10:case"end":return a.stop()}}),a)})))()}}},V=G,z=(a("ecab"),a("e403"),Object(A["a"])(V,s,n,!1,null,"2c83293d",null));t["default"]=z.exports},e403:function(e,t,a){"use strict";a("b5d3")},e6ac:function(e,t,a){"use strict";a("400a")},ecab:function(e,t,a){"use strict";a("4a08")}}]);
//# sourceMappingURL=home.83ebc5b4.js.map