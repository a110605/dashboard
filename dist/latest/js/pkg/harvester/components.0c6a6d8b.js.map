{"version":3,"sources":["webpack:///./pkg/harvester/components/HarvesterUpgradeProgressBarList.vue?f606","webpack:///./shell/components/Collapse.vue?0545","webpack:///./shell/components/Collapse.vue?7061","webpack:///./pkg/harvester/components/HarvesterUpgradeProgressBarList.vue?ed3c","webpack:///./pkg/harvester/components/HarvesterUpgradeHeader.vue?9243","webpack:///./pkg/harvester/components/HarvesterUpgradeHeader.vue?21e8","webpack:///./pkg/harvester/components/HarvesterUpgradeHeader.vue?4bf8","webpack:///./pkg/harvester/components/HarvesterUpgradeHeader.vue","webpack:///./pkg/harvester/components/HarvesterUpgradeProgressBarList.vue","webpack:///./shell/components/Collapse.vue","webpack:///shell/components/Collapse.vue","webpack:///./shell/components/Collapse.vue?3aaa","webpack:///./shell/components/Collapse.vue?b684","webpack:///pkg/harvester/components/HarvesterUpgradeProgressBarList.vue","webpack:///./pkg/harvester/components/HarvesterUpgradeProgressBarList.vue?1eba","webpack:///./pkg/harvester/components/HarvesterUpgradeProgressBarList.vue?5857","webpack:///pkg/harvester/components/HarvesterUpgradeHeader.vue","webpack:///./pkg/harvester/components/HarvesterUpgradeHeader.vue?1856","webpack:///./pkg/harvester/components/HarvesterUpgradeHeader.vue?bc7e","webpack:///./pkg/harvester/components/HarvesterUpgradeProgressBarList.vue?2f5e","webpack:///./shell/components/Collapse.vue?d3e9"],"names":["___CSS_LOADER_API_IMPORT___","exports","push","module","i","content","__esModule","default","locals","add","render","_vm","this","_c","_self","enabled","isShow","staticClass","directives","name","rawName","value","placement","expression","_t","_v","slot","repoInfo","attrs","releaseLink","_s","upgradeVersion","latestResource","t","_e","downloadLogFailReason","release","os","harvester","harvesterChart","monitoringChart","kubernetes","rancher","overallMessage","showImage","imageProgress","imageMessage","repoReady","isReady","message","nodesPercent","nodesStatus","sysServiceTotal","sysServiceUpgradeMessage","canStartedDownload","logDownloading","on","$event","downloadLog","class","isUpgradeSucceeded","ignoreMessage","staticRenderFns","title","precent","open","scopedSlots","_u","key","fn","handleSwitch","proxy","_l","list","item","_defineProperty","state","percent","showAdvanced","props","type","Boolean","String","methods","$emit","component","components","PercentageBar","Collapse","Number","Array","data","ProgressBarList","BadgeStateFormatter","fetch","_this","_asyncToGenerator","_regeneratorRuntime","mark","_callee","hash","wrap","_context","prev","next","$store","getters","HCI","IMAGE","images","dispatch","UPGRADE","upgrades","NODE","nodes","UPGRADE_LOG","upgradeLogs","allHash","stop","filename","computed","_objectSpread","mapGetters","isVirtualCluster","currentProduct","HARVESTER","find","U","isLatestUpgrade","latestUpgradeLogResource","upgradeLogId","concat","id","_this$latestUpgradeLo3","_this$latestUpgradeLo","_this$latestUpgradeLo2","latestArchivesFileName","downloadArchivesStatus","_this$latestUpgradeLo4","_this$latestResource","upgradeImage","_this$latestResource2","I","_this$upgradeImage","progress","_this$latestResource3","upgradeImageMessage","createRepo","hasReadMessage","_this$latestResource4","nodeUpgradeMessage","_this$latestResource5","_this$sysServiceUpgra","_this$latestResource6","nodeTotalPercent","_this$latestResource7","_this$latestResource8","spec","version","_this$latestResource9","_this$latestResource10","setLabel","HCI_ANNOTATIONS","REAY_MESSAGE","save","generateLogFileName","_this2","_callee2","res","_context2","doActionGrowl","sent","waitFileGeneratedReady","_this3","Promise","resolve","log","timer","setInterval","_callee3","_context3","opt","force","root","fileIsReady","clearInterval","_this4","_callee4","_context4","then"],"mappings":"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","file":"js/pkg/harvester/components.0c6a6d8b.js","sourcesContent":["export * from \"-!../../../node_modules/vue-style-loader/index.js??ref--9-oneOf-1-0!../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-3!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./HarvesterUpgradeProgressBarList.vue?vue&type=style&index=0&id=bf8d50ce&prod&lang=scss&scoped=true&\"","export * from \"-!../../node_modules/vue-style-loader/index.js??ref--9-oneOf-1-0!../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-3!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-4!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./Collapse.vue?vue&type=style&index=0&id=e32ea930&prod&lang=scss&scoped=true&\"","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../node_modules/@vue/cli-service/node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".advanced[data-v-e32ea930]{-webkit-user-select:none;-moz-user-select:none;user-select:none;padding:0 5px;cursor:pointer;line-height:40px;font-size:15px;font-weight:500}.content[data-v-e32ea930]{background:var(--nav-active);padding:10px;margin-top:6px;border-radius:4px}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-3!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./HarvesterUpgradeProgressBarList.vue?vue&type=style&index=0&id=bf8d50ce&prod&lang=scss&scoped=true&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"70e333ca\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-3!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./HarvesterUpgradeHeader.vue?vue&type=style&index=0&id=5ab69a39&prod&lang=scss&scoped=true&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"12d361e6\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","export * from \"-!../../../node_modules/vue-style-loader/index.js??ref--9-oneOf-1-0!../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-3!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./HarvesterUpgradeHeader.vue?vue&type=style&index=0&id=5ab69a39&prod&lang=scss&scoped=true&\"","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"a[data-v-5ab69a39]{float:right;color:var(--link)!important;text-decoration:none}.upgrade[data-v-5ab69a39]{height:100%;min-width:40px;display:flex;align-items:center}.upgrade .dot-icon[data-v-5ab69a39]{font-size:24px;vertical-align:middle;color:#00a483}.upgrade-info[data-v-5ab69a39]{min-width:550px;max-height:90vh;overflow-y:scroll}.upgrade-info .repoInfo .col span[data-v-5ab69a39]{word-break:break-all}.upgrade-info .repoInfo p.state[data-v-5ab69a39]{display:flex;align-items:center}.upgrade-info .error[data-v-5ab69a39]{color:var(--error)}.upgrade-info .float-r[data-v-5ab69a39]{float:right}.upgrade-info p[data-v-5ab69a39]{word-break:break-word;margin-top:5px}.footer[data-v-5ab69a39]{display:flex;justify-content:flex-end}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.enabled && _vm.isShow)?_c('div',{staticClass:\"upgrade\"},[_c('v-popover',{directives:[{name:\"clean-tooltip\",rawName:\"v-clean-tooltip\",value:({\n      placement: 'bottom-left',\n    }),expression:\"{\\n      placement: 'bottom-left',\\n    }\"}],staticClass:\"hand\"},[_vm._t(\"button-content\",function(){return [_c('i',{staticClass:\"warning icon-fw icon icon-dot-open dot-icon\"})]}),_vm._v(\" \"),_c('template',{slot:\"popover\"},[_c('div',{staticClass:\"upgrade-info mb-10\"},[(_vm.repoInfo)?_c('div',{staticClass:\"repoInfo\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col span-12\"},[_c('a',{attrs:{\"href\":_vm.releaseLink,\"target\":\"_blank\"}},[_vm._v(_vm._s(_vm.upgradeVersion))])])]),_vm._v(\" \"),(_vm.latestResource)?_c('div',{staticClass:\"row mb-5\"},[_c('div',{staticClass:\"col span-12\"},[_c('p',{staticClass:\"state\"},[_vm._v(\"\\n                \"+_vm._s(_vm.t('harvester.upgradePage.repoInfo.upgradeStatus'))+\": \"),_c('BadgeStateFormatter',{staticClass:\"ml-5\",attrs:{\"row\":_vm.latestResource}})],1)])]):_vm._e(),_vm._v(\" \"),(_vm.downloadLogFailReason)?_c('div',{staticClass:\"row mb-5\"},[_c('div',{staticClass:\"col span-12\"},[_c('p',{staticClass:\"state\"},[_vm._v(\"\\n                \"+_vm._s(_vm.t('harvester.upgradePage.repoInfo.logStatus'))+\": \"),_c('span',{staticClass:\"error ml-5\"},[_vm._v(_vm._s(_vm.downloadLogFailReason))])])])]):_vm._e(),_vm._v(\" \"),_c('p',{staticClass:\"bordered-section\"}),_vm._v(\" \"),_c('div',{staticClass:\"row mb-5\"},[_c('div',{staticClass:\"col span-6\"},[_vm._v(\"\\n              \"+_vm._s(_vm.t('harvester.upgradePage.repoInfo.os'))+\": \"),_c('span',{staticClass:\"text-muted\"},[_vm._v(_vm._s(_vm.repoInfo.release.os))])]),_vm._v(\" \"),_c('div',{staticClass:\"col span-6\"},[_vm._v(\"\\n              \"+_vm._s(_vm.t('harvester.productLabel'))+\": \"),_c('span',{staticClass:\"text-muted\"},[_vm._v(_vm._s(_vm.repoInfo.release.harvester))])])]),_vm._v(\" \"),_c('div',{staticClass:\"row mb-5\"},[_c('div',{staticClass:\"col span-6\"},[_vm._v(\"\\n              \"+_vm._s(_vm.t('harvester.upgradePage.repoInfo.harvesterChart'))+\": \"),_c('span',{staticClass:\"text-muted\"},[_vm._v(_vm._s(_vm.repoInfo.release.harvesterChart))])]),_vm._v(\" \"),_c('div',{staticClass:\"col span-6\"},[_vm._v(\"\\n              \"+_vm._s(_vm.t('harvester.upgradePage.repoInfo.monitoringChart'))+\": \"),_c('span',{staticClass:\"text-muted\"},[_vm._v(_vm._s(_vm.repoInfo.release.monitoringChart))])])]),_vm._v(\" \"),_c('div',{staticClass:\"row mb-5\"},[_c('div',{staticClass:\"col span-6\"},[_vm._v(\"\\n              \"+_vm._s(_vm.t('harvester.upgradePage.repoInfo.kubernetes'))+\": \"),_c('span',{staticClass:\"text-muted\"},[_vm._v(_vm._s(_vm.repoInfo.release.kubernetes))])]),_vm._v(\" \"),_c('div',{staticClass:\"col span-6\"},[_vm._v(\"\\n              \"+_vm._s(_vm.t('product.rancher'))+\": \"),_c('span',{staticClass:\"text-muted\"},[_vm._v(_vm._s(_vm.repoInfo.release.rancher))])])]),_vm._v(\" \"),_c('p',{staticClass:\"bordered-section\"})]):_vm._e(),_vm._v(\" \"),(_vm.overallMessage)?_c('p',{staticClass:\"text-warning mb-20\"},[_vm._v(\"\\n          \"+_vm._s(_vm.overallMessage)+\"\\n        \")]):_vm._e(),_vm._v(\" \"),(_vm.showImage)?_c('div',[_c('h4',[_vm._v(_vm._s(_vm.t('harvester.upgradePage.upgradeImage'))),_c('span',{staticClass:\"float-r text-info\"},[_vm._v(_vm._s(_vm.imageProgress)+\"%\")])]),_vm._v(\" \"),_c('PercentageBar',{attrs:{\"value\":_vm.imageProgress,\"preferred-direction\":\"MORE\"}}),_vm._v(\" \"),_c('p',{staticClass:\"text-warning\"},[_vm._v(\"\\n            \"+_vm._s(_vm.imageMessage)+\"\\n          \")]),_vm._v(\" \"),_c('p',{staticClass:\"bordered-section\"})],1):_vm._e(),_vm._v(\" \"),_c('h4',[_vm._v(_vm._s(_vm.t('harvester.upgradePage.createRepository'))+\" \"),_c('span',{staticClass:\"float-r text-info\"},[_vm._v(_vm._s(_vm.repoReady.isReady ? _vm.t('harvester.upgradePage.succeeded') : _vm.t('harvester.upgradePage.pending')))])]),_vm._v(\" \"),(_vm.repoReady.message)?_c('p',{staticClass:\"text-warning\"},[_vm._v(\"\\n          \"+_vm._s(_vm.repoReady.message)+\"\\n        \")]):_vm._e(),_vm._v(\" \"),_c('p',{staticClass:\"bordered-section\"}),_vm._v(\" \"),_c('ProgressBarList',{attrs:{\"title\":_vm.t('harvester.upgradePage.upgradeNode'),\"precent\":_vm.nodesPercent,\"list\":_vm.nodesStatus}}),_vm._v(\" \"),_c('p',{staticClass:\"bordered-section\"}),_vm._v(\" \"),_c('ProgressBarList',{attrs:{\"title\":_vm.t('harvester.upgradePage.upgradeSysService'),\"precent\":_vm.sysServiceTotal,\"list\":_vm.sysServiceUpgradeMessage}})],1),_vm._v(\" \"),_c('div',{staticClass:\"footer\"},[(_vm.canStartedDownload)?_c('button',{staticClass:\"btn role-primary mr-10\",attrs:{\"disabled\":_vm.logDownloading},on:{\"click\":function($event){return _vm.downloadLog()}}},[_c('i',{staticClass:\"icon mr-10\",class:[_vm.logDownloading ? 'icon-spinner icon-spin' : 'icon-download']}),_vm._v(\" \"+_vm._s(_vm.t('harvester.upgradePage.repoInfo.downloadLog'))+\"\\n        \")]):_vm._e(),_vm._v(\" \"),(_vm.latestResource.isUpgradeSucceeded)?_c('button',{staticClass:\"btn role-primary\",on:{\"click\":function($event){return _vm.ignoreMessage()}}},[_vm._v(\"\\n          \"+_vm._s(_vm.t('harvester.upgradePage.dismissMessage'))+\"\\n        \")]):_vm._e()])])],2)],1):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"bar-list\"},[_c('h4',[_vm._v(_vm._s(_vm.title)+\" \"),_c('span',{staticClass:\"float-r text-info\"},[_vm._v(_vm._s(_vm.precent)+\"%\")])]),_vm._v(\" \"),_c('div',[_c('div',[_c('Collapse',{attrs:{\"open\":_vm.open},on:{\"update:open\":function($event){_vm.open=$event}},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_c('div',{staticClass:\"total-bar\"},[_c('span',{staticClass:\"bar\"},[_c('PercentageBar',{attrs:{\"value\":_vm.precent,\"preferred-direction\":\"MORE\"}})],1),_vm._v(\" \"),_c('span',{staticClass:\"on-off\",on:{\"click\":_vm.handleSwitch}},[_vm._v(\" \"+_vm._s(_vm.open ? _vm.t('harvester.generic.close') : _vm.t('harvester.generic.open')))])])]},proxy:true}])},[_vm._v(\" \"),[_c('div',{staticClass:\"custom-content\"},_vm._l((_vm.list),function(item){return _c('div',{key:item.name,staticClass:\"item\"},[_c('p',[_vm._v(_vm._s(item.name)+\" \"),_c('span',{staticClass:\"status\",class:{ [item.state]: true }},[_vm._v(_vm._s(item.state))])]),_vm._v(\" \"),_c('PercentageBar',{attrs:{\"value\":item.percent,\"preferred-direction\":\"MORE\"}}),_vm._v(\" \"),_c('p',{staticClass:\"warning\"},[_vm._v(\"\\n                \"+_vm._s(item.message)+\"\\n              \")])],1)}),0)]],2)],1)])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"collapse\"},[_vm._t(\"title\",function(){return [_c('div',{staticClass:\"advanced text-link\",attrs:{\"data-testid\":\"collapse-div\"},on:{\"click\":_vm.showAdvanced}},[(_vm.open)?_c('i',{staticClass:\"icon icon-chevron-down\",attrs:{\"data-testid\":\"collapse-icon-down\"}}):_c('i',{staticClass:\"icon icon-chevron-right\",attrs:{\"data-testid\":\"collapse-icon-right\"}}),_vm._v(\"\\n      \"+_vm._s(_vm.title)+\"\\n    \")])]}),_vm._v(\" \"),(_vm.open)?_c('div',{staticClass:\"content\",attrs:{\"data-testid\":\"collapse-content\"}},[_vm._t(\"default\")],2):_vm._e()],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nexport default {\n  name:  'Collapse',\n  props: {\n    open: {\n      type:    Boolean,\n      default: true\n    },\n\n    title: {\n      type:    String,\n      default: ''\n    }\n  },\n\n  methods: {\n    showAdvanced() {\n      this.$emit('update:open', !this.open);\n    }\n  }\n};\n</script>\n\n<template>\n  <div class=\"collapse\">\n    <slot name=\"title\">\n      <div\n        class=\"advanced text-link\"\n        data-testid=\"collapse-div\"\n        @click=\"showAdvanced\"\n      >\n        <i\n          v-if=\"open\"\n          class=\"icon icon-chevron-down\"\n          data-testid=\"collapse-icon-down\"\n        />\n        <i\n          v-else\n          class=\"icon icon-chevron-right\"\n          data-testid=\"collapse-icon-right\"\n        />\n        {{ title }}\n      </div>\n    </slot>\n\n    <div\n      v-if=\"open\"\n      class=\"content\"\n      data-testid=\"collapse-content\"\n    >\n      <slot />\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n.advanced {\n  user-select: none;\n  padding: 0 5px;\n  cursor: pointer;\n  line-height: 40px;\n  font-size: 15px;\n  font-weight: 500;\n}\n.content {\n  background: var(--nav-active);\n  padding: 10px;\n  margin-top: 6px;\n  border-radius: 4px;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--16-0!../../node_modules/babel-loader/lib/index.js??ref--16-1!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./Collapse.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--16-0!../../node_modules/babel-loader/lib/index.js??ref--16-1!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./Collapse.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Collapse.vue?vue&type=template&id=e32ea930&scoped=true&\"\nimport script from \"./Collapse.vue?vue&type=script&lang=js&\"\nexport * from \"./Collapse.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Collapse.vue?vue&type=style&index=0&id=e32ea930&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"e32ea930\",\n  null\n  \n)\n\nexport default component.exports","<script>\nimport Collapse from '@shell/components/Collapse';\nimport PercentageBar from '@shell/components/PercentageBar';\n\nexport default {\n  name:       'HarvesterUpgradeProgressList',\n  components: { PercentageBar, Collapse },\n\n  props: {\n    title: {\n      type:    String,\n      default: ''\n    },\n\n    precent: {\n      type:    Number,\n      default: 0\n    },\n\n    list: {\n      type:    Array,\n      default: () => {\n        return [];\n      }\n    }\n  },\n\n  data() {\n    return { open: true };\n  },\n\n  methods: {\n    handleSwitch() {\n      this.open = !this.open;\n    }\n  }\n};\n</script>\n\n<template>\n  <div class=\"bar-list\">\n    <h4>{{ title }} <span class=\"float-r text-info\">{{ precent }}%</span></h4>\n    <div>\n      <div>\n        <Collapse :open.sync=\"open\">\n          <template #title>\n            <div class=\"total-bar\">\n              <span class=\"bar\"><PercentageBar :value=\"precent\" preferred-direction=\"MORE\" /></span>\n              <span class=\"on-off\" @click=\"handleSwitch\"> {{ open ? t('harvester.generic.close') : t('harvester.generic.open') }}</span>\n            </div>\n          </template>\n\n          <template>\n            <div class=\"custom-content\">\n              <div v-for=\"item in list\" :key=\"item.name\" class=\"item\">\n                <p>{{ item.name }} <span class=\"status\" :class=\"{ [item.state]: true }\">{{ item.state }}</span></p>\n                <PercentageBar :value=\"item.percent\" preferred-direction=\"MORE\" />\n                <p class=\"warning\">\n                  {{ item.message }}\n                </p>\n              </div>\n            </div>\n          </template>\n        </Collapse>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n.bar-list {\n  .float-r {\n    float: right;\n  }\n\n  .total-bar {\n    display: flex;\n    user-select: none;\n    .bar {\n      width: 85%;\n    }\n    .on-off {\n      margin-left: 10px;\n      cursor: pointer;\n    }\n  }\n  .custom-content {\n    .item {\n      margin-bottom: 14px;\n      p {\n        margin-bottom: 4px;\n      }\n      .status {\n        float: right;\n      }\n      .Succeeded, .Upgrading, .Pending {\n        color: var(--success);\n      }\n      .failed {\n        color: var(--error)\n      }\n      .warning {\n        color: var(--error);\n      }\n    }\n  }\n}\n\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--16-0!../../../node_modules/babel-loader/lib/index.js??ref--16-1!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./HarvesterUpgradeProgressBarList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--16-0!../../../node_modules/babel-loader/lib/index.js??ref--16-1!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./HarvesterUpgradeProgressBarList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./HarvesterUpgradeProgressBarList.vue?vue&type=template&id=bf8d50ce&scoped=true&\"\nimport script from \"./HarvesterUpgradeProgressBarList.vue?vue&type=script&lang=js&\"\nexport * from \"./HarvesterUpgradeProgressBarList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./HarvesterUpgradeProgressBarList.vue?vue&type=style&index=0&id=bf8d50ce&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"bf8d50ce\",\n  null\n  \n)\n\nexport default component.exports","<script>\nimport { NODE } from '@shell/config/types';\nimport { HCI } from '../types';\nimport { allHash } from '@shell/utils/promise';\nimport { HCI as HCI_ANNOTATIONS } from '@pkg/harvester/config/labels-annotations';\nimport PercentageBar from '@shell/components/PercentageBar';\nimport ProgressBarList from './HarvesterUpgradeProgressBarList';\nimport BadgeStateFormatter from '@shell/components/formatter/BadgeStateFormatter';\nimport { PRODUCT_NAME as HARVESTER } from '../config/harvester';\nimport { mapGetters } from 'vuex';\n\nexport default {\n  name:       'HarvesterUpgradeHeader',\n  components: {\n    PercentageBar, ProgressBarList, BadgeStateFormatter\n  },\n\n  async fetch() {\n    const hash = {};\n\n    if (this.$store.getters['harvester/schemaFor'](HCI.IMAGE)) {\n      hash.images = this.$store.dispatch('harvester/findAll', { type: HCI.IMAGE });\n    }\n\n    if (this.$store.getters['harvester/schemaFor'](HCI.UPGRADE)) {\n      hash.upgrades = this.$store.dispatch('harvester/findAll', { type: HCI.UPGRADE });\n    }\n\n    if (this.$store.getters['harvester/schemaFor'](NODE)) {\n      hash.nodes = this.$store.dispatch('harvester/findAll', { type: NODE });\n    }\n\n    if (this.$store.getters['harvester/schemaFor'](HCI.UPGRADE_LOG)) {\n      hash.upgradeLogs = this.$store.dispatch('harvester/findAll', { type: HCI.UPGRADE_LOG });\n    }\n\n    await allHash(hash);\n  },\n\n  data() {\n    return {\n      filename:       '',\n      logDownloading: false\n    };\n  },\n\n  computed: {\n    ...mapGetters(['currentProduct', 'isVirtualCluster']),\n\n    enabled() {\n      return this.isVirtualCluster && this.currentProduct.name === HARVESTER;\n    },\n\n    latestResource() {\n      return this.$store.getters['harvester/all'](HCI.UPGRADE).find( U => U.isLatestUpgrade);\n    },\n\n    latestUpgradeLogResource() {\n      const upgradeLogId = `${ this.latestResource.id }-upgradelog`;\n\n      return this.$store.getters['harvester/all'](HCI.UPGRADE_LOG).find( U => U.id === upgradeLogId);\n    },\n\n    downloadLogFailReason() {\n      if (!this.filename) {\n        const filename = this.latestUpgradeLogResource?.latestArchivesFileName;\n\n        return this.latestUpgradeLogResource?.downloadArchivesStatus(filename);\n      }\n\n      return this.latestUpgradeLogResource?.downloadArchivesStatus(this.filename);\n    },\n\n    canStartedDownload() {\n      return this.latestUpgradeLogResource?.canStartedDownload || false;\n    },\n\n    overallMessage() {\n      return this.latestResource?.overallMessage;\n    },\n\n    upgradeImage() {\n      const id = this.latestResource?.upgradeImage;\n\n      return this.$store.getters['harvester/all'](HCI.IMAGE).find(I => I.id === id);\n    },\n\n    imageProgress() {\n      return this.upgradeImage?.progress || 0;\n    },\n\n    showImage() {\n      return !this.latestResource.isUpgradeSucceeded;\n    },\n\n    imageMessage() {\n      return this.latestResource?.upgradeImageMessage;\n    },\n\n    repoReady() {\n      return this.latestResource.createRepo;\n    },\n\n    isShow() {\n      return this.latestResource && !this.latestResource.hasReadMessage;\n    },\n\n    nodesStatus() {\n      return this.latestResource?.nodeUpgradeMessage;\n    },\n\n    sysServiceUpgradeMessage() {\n      return this.latestResource?.sysServiceUpgradeMessage;\n    },\n\n    sysServiceTotal() {\n      return this.sysServiceUpgradeMessage?.[0].percent || 0;\n    },\n\n    nodesPercent() {\n      return this.latestResource?.nodeTotalPercent || 0;\n    },\n\n    repoInfo() {\n      return this.latestResource.repoInfo;\n    },\n\n    releaseLink() {\n      return `https://github.com/harvester/harvester/releases/tag/${ this.latestResource?.spec?.version }`;\n    },\n\n    upgradeVersion() {\n      return this.latestResource?.spec?.version;\n    }\n  },\n\n  methods: {\n    ignoreMessage() {\n      this.latestResource.setLabel(HCI_ANNOTATIONS.REAY_MESSAGE, 'true');\n      this.latestResource.save();\n    },\n\n    async generateLogFileName() {\n      const res = await this.latestUpgradeLogResource.doActionGrowl('generate');\n\n      this.filename = res?.data;\n    },\n\n    waitFileGeneratedReady() {\n      const id = this.latestUpgradeLogResource.id;\n\n      return new Promise((resolve) => {\n        let log;\n\n        const timer = setInterval(async() => {\n          log = await this.$store.dispatch('harvester/find', {\n            type: HCI.UPGRADE_LOG,\n            id,\n            opt:  { force: true }\n          }, { root: true });\n\n          if (log.fileIsReady(this.filename)) {\n            this.logDownloading = false;\n            clearInterval(timer);\n            resolve();\n          }\n        }, 2500);\n      });\n    },\n\n    async downloadLog() {\n      this.logDownloading = true;\n      await this.generateLogFileName();\n      this.waitFileGeneratedReady().then(() => {\n        if (!this.downloadLogFailReason) {\n          this.latestUpgradeLogResource.downloadLog(this.filename);\n        }\n        this.logDownloading = false;\n      });\n    }\n  }\n};\n</script>\n<template>\n  <div v-if=\"enabled && isShow\" class=\"upgrade\">\n    <v-popover\n      v-clean-tooltip=\"{\n        placement: 'bottom-left',\n      }\"\n      class=\"hand\"\n    >\n      <slot name=\"button-content\">\n        <i class=\"warning icon-fw icon icon-dot-open dot-icon\" />\n      </slot>\n\n      <template slot=\"popover\">\n        <div class=\"upgrade-info mb-10\">\n          <div v-if=\"repoInfo\" class=\"repoInfo\">\n            <div class=\"row\">\n              <div class=\"col span-12\">\n                <a :href=\"releaseLink\" target=\"_blank\">{{ upgradeVersion }}</a>\n              </div>\n            </div>\n            <div v-if=\"latestResource\" class=\"row mb-5\">\n              <div class=\"col span-12\">\n                <p class=\"state\">\n                  {{ t('harvester.upgradePage.repoInfo.upgradeStatus') }}: <BadgeStateFormatter class=\"ml-5\" :row=\"latestResource\" />\n                </p>\n              </div>\n            </div>\n\n            <div v-if=\"downloadLogFailReason\" class=\"row mb-5\">\n              <div class=\"col span-12\">\n                <p class=\"state\">\n                  {{ t('harvester.upgradePage.repoInfo.logStatus') }}: <span class=\"error ml-5\">{{ downloadLogFailReason }}</span>\n                </p>\n              </div>\n            </div>\n\n            <p class=\"bordered-section\"></p>\n\n            <div class=\"row mb-5\">\n              <div class=\"col span-6\">\n                {{ t('harvester.upgradePage.repoInfo.os') }}: <span class=\"text-muted\">{{ repoInfo.release.os }}</span>\n              </div>\n\n              <div class=\"col span-6\">\n                {{ t('harvester.productLabel') }}: <span class=\"text-muted\">{{ repoInfo.release.harvester }}</span>\n              </div>\n            </div>\n\n            <div class=\"row mb-5\">\n              <div class=\"col span-6\">\n                {{ t('harvester.upgradePage.repoInfo.harvesterChart') }}: <span class=\"text-muted\">{{ repoInfo.release.harvesterChart }}</span>\n              </div>\n\n              <div class=\"col span-6\">\n                {{ t('harvester.upgradePage.repoInfo.monitoringChart') }}: <span class=\"text-muted\">{{ repoInfo.release.monitoringChart }}</span>\n              </div>\n            </div>\n\n            <div class=\"row mb-5\">\n              <div class=\"col span-6\">\n                {{ t('harvester.upgradePage.repoInfo.kubernetes') }}: <span class=\"text-muted\">{{ repoInfo.release.kubernetes }}</span>\n              </div>\n\n              <div class=\"col span-6\">\n                {{ t('product.rancher') }}: <span class=\"text-muted\">{{ repoInfo.release.rancher }}</span>\n              </div>\n            </div>\n\n            <p class=\"bordered-section\"></p>\n          </div>\n\n          <p v-if=\"overallMessage\" class=\"text-warning mb-20\">\n            {{ overallMessage }}\n          </p>\n\n          <div v-if=\"showImage\">\n            <h4>{{ t('harvester.upgradePage.upgradeImage') }}<span class=\"float-r text-info\">{{ imageProgress }}%</span></h4>\n            <PercentageBar :value=\"imageProgress\" preferred-direction=\"MORE\" />\n            <p class=\"text-warning\">\n              {{ imageMessage }}\n            </p>\n            <p class=\"bordered-section\"></p>\n          </div>\n\n          <h4>{{ t('harvester.upgradePage.createRepository') }} <span class=\"float-r text-info\">{{ repoReady.isReady ? t('harvester.upgradePage.succeeded') : t('harvester.upgradePage.pending') }}</span></h4>\n          <p v-if=\"repoReady.message\" class=\"text-warning\">\n            {{ repoReady.message }}\n          </p>\n          <p class=\"bordered-section\"></p>\n\n          <ProgressBarList :title=\"t('harvester.upgradePage.upgradeNode')\" :precent=\"nodesPercent\" :list=\"nodesStatus\" />\n          <p class=\"bordered-section\"></p>\n\n          <ProgressBarList :title=\"t('harvester.upgradePage.upgradeSysService')\" :precent=\"sysServiceTotal\" :list=\"sysServiceUpgradeMessage\" />\n        </div>\n\n        <div class=\"footer\">\n          <button v-if=\"canStartedDownload\" :disabled=\"logDownloading\" class=\"btn role-primary mr-10\" @click=\"downloadLog()\">\n            <i class=\"icon mr-10\" :class=\"[logDownloading ? 'icon-spinner icon-spin' : 'icon-download']\"></i> {{ t('harvester.upgradePage.repoInfo.downloadLog') }}\n          </button>\n\n          <button v-if=\"latestResource.isUpgradeSucceeded\" class=\"btn role-primary\" @click=\"ignoreMessage()\">\n            {{ t('harvester.upgradePage.dismissMessage') }}\n          </button>\n        </div>\n      </template>\n    </v-popover>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\na {\n  float: right;\n  color: var(--link) !important;\n  text-decoration: none;\n}\n\n.upgrade {\n  height: 100%;\n  min-width: 40px;\n  display: flex;\n  align-items: center;\n\n  .dot-icon {\n    font-size: 24px;\n    vertical-align: middle;\n    color: #00a483;\n  }\n}\n\n.upgrade-info {\n  min-width: 550px;\n  max-height: 90vh;\n  overflow-y: scroll;\n\n  .repoInfo {\n    .col span {\n      word-break: break-all\n    }\n\n    p.state {\n      display: flex;\n      align-items: center;\n    }\n  }\n\n  .error {\n    color: var(--error);\n  }\n\n  .float-r {\n    float: right;\n  }\n\n  p {\n    word-break: break-word;\n    margin-top: 5px;\n  }\n}\n\n.footer {\n  display: flex;\n  justify-content: flex-end;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--16-0!../../../node_modules/babel-loader/lib/index.js??ref--16-1!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./HarvesterUpgradeHeader.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--16-0!../../../node_modules/babel-loader/lib/index.js??ref--16-1!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./HarvesterUpgradeHeader.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./HarvesterUpgradeHeader.vue?vue&type=template&id=5ab69a39&scoped=true&\"\nimport script from \"./HarvesterUpgradeHeader.vue?vue&type=script&lang=js&\"\nexport * from \"./HarvesterUpgradeHeader.vue?vue&type=script&lang=js&\"\nimport style0 from \"./HarvesterUpgradeHeader.vue?vue&type=style&index=0&id=5ab69a39&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5ab69a39\",\n  null\n  \n)\n\nexport default component.exports","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".bar-list .float-r[data-v-bf8d50ce]{float:right}.bar-list .total-bar[data-v-bf8d50ce]{display:flex;-webkit-user-select:none;-moz-user-select:none;user-select:none}.bar-list .total-bar .bar[data-v-bf8d50ce]{width:85%}.bar-list .total-bar .on-off[data-v-bf8d50ce]{margin-left:10px;cursor:pointer}.bar-list .custom-content .item[data-v-bf8d50ce]{margin-bottom:14px}.bar-list .custom-content .item p[data-v-bf8d50ce]{margin-bottom:4px}.bar-list .custom-content .item .status[data-v-bf8d50ce]{float:right}.bar-list .custom-content .item .Pending[data-v-bf8d50ce],.bar-list .custom-content .item .Succeeded[data-v-bf8d50ce],.bar-list .custom-content .item .Upgrading[data-v-bf8d50ce]{color:var(--success)}.bar-list .custom-content .item .failed[data-v-bf8d50ce],.bar-list .custom-content .item .warning[data-v-bf8d50ce]{color:var(--error)}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-3!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-4!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./Collapse.vue?vue&type=style&index=0&id=e32ea930&prod&lang=scss&scoped=true&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"3cae2364\", content, true, {\"sourceMap\":false,\"shadowMode\":false});"],"sourceRoot":""}