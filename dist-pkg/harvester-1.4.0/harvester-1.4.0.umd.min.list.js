(("undefined"!==typeof self?self:this)["webpackJsonpharvester_1_4_0"]=("undefined"!==typeof self?self:this)["webpackJsonpharvester_1_4_0"]||[]).push([[10],{"00fb":function(e,t,s){"use strict";s("a23d")},"0c34":function(e,t,s){"use strict";s.r(t);var r=function(){var e=this,t=e._self._c;return e.$fetchState.pending?t("Loading"):e.listSchema?t("div",[!1===e.loggingEnabled?t("Banner",{attrs:{color:"info"}},[t("MessageLink",{attrs:{to:e.to,"prefix-label":"harvester.logging.diabledTips.prefix","middle-label":"harvester.logging.diabledTips.middle","suffix-label":"harvester.logging.diabledTips.suffix"}})],1):e._e(),t("ResourceTable",{attrs:{schema:e.schema,rows:e.rows,"ignore-filter":!0,groupable:!1}})],1):t("Banner",{attrs:{color:"warning"}},[e._v(" "+e._s(e.t("harvester.generic.noSchema",{schema:e.schema.id}))+" ")])},a=[],o=s("b837"),i=s("efbe"),n=s("2a88"),l=s("203b"),c=s("70a6"),d=s("56a4"),u=s("90cd");const h={id:u["b"].CLUSTER_FLOW,type:d["J"],attributes:{kind:u["b"].CLUSTER_FLOW,namespaced:!0},metadata:{name:u["b"].CLUSTER_FLOW}},p="cattle-logging-system/rancher-logging";var m={name:"ListApps",components:{Loading:c["a"],ResourceTable:i["a"],Banner:n["a"],MessageLink:l["a"]},async fetch(){var e;const t=this.$store.getters["currentProduct"].inStore,s={};this.listSchema=this.$store.getters[t+"/schemaFor"](d["s"].CLUSTER_FLOW),this.listSchema&&(s.clusteroutput=this.$store.dispatch(t+"/findAll",{type:d["s"].CLUSTER_OUTPUT}),s.rows=this.$store.dispatch(t+"/findAll",{type:d["s"].CLUSTER_FLOW})),this.$store.getters[t+"/schemaFor"](u["b"].ADD_ONS)&&(s.loggingAddon=this.$store.dispatch(t+"/find",{type:u["b"].ADD_ONS,id:p}));const r=await Object(o["a"])(s);this.rows=r.rows,this.loggingAddon=r.loggingAddon,this.$store.dispatch("type-map/configureType",{match:u["b"].CLUSTER_FLOW,isCreatable:this.listSchema&&(null===(e=this.listSchema)||void 0===e?void 0:e.collectionMethods.find(e=>"post"===e.toLowerCase()))})},data(){return{rows:[],listSchema:null,loggingAddon:null}},computed:{schema(){return h},to(){return u["b"].ADD_ONS+"/cattle-logging-system/rancher-logging?mode=edit#basic"},loggingEnabled(){var e,t;return null===(e=this.loggingAddon)||void 0===e||null===(t=e.spec)||void 0===t?void 0:t.enabled}},typeDisplay(){return this.$store.getters["type-map/labelFor"](h,99)}},v=m,f=s("d802"),g=Object(f["a"])(v,r,a,!1,null,null,null);t["default"]=g.exports},1772:function(e,t,s){"use strict";function r(e){const t=Object.keys(e),s=Object.values(e);return Promise.allSettled(s).then(e=>{const s={};for(let r=0;r<t.length;r++)"fulfilled"===e[r].status?s[t[r]]=e[r].value:s[t[r]]=[];return s})}s.d(t,"a",(function(){return r}))},"1e1b":function(e,t,s){"use strict";s("7542")},"203b":function(e,t,s){"use strict";var r=function(){var e=this,t=e._self._c;return t("div",[e._t("prefix",(function(){return[e.prefixLabel?t("t",{attrs:{k:e.prefixLabel,raw:!0}}):e._e(),e._v(" "+e._s(e.prefix)+" ")]})),t("nuxt-link",{attrs:{to:e.to,target:e.target}},[e._t("middle",(function(){return[e.middleLabel?t("t",{attrs:{k:e.middleLabel,raw:!0}}):e._e(),e._v(" "+e._s(e.middle)+" ")]}))],2),e._t("suffix",(function(){return[e.suffixLabel?t("t",{attrs:{k:e.suffixLabel,raw:!0}}):e._e(),e._v(" "+e._s(e.suffix)+" ")]}))],2)},a=[],o={props:{to:{type:[String,Object],required:!0},prefix:{type:String,default:""},suffix:{type:String,default:""},middle:{type:String,default:""},prefixLabel:{type:String,default:""},suffixLabel:{type:String,default:""},middleLabel:{type:String,default:""},target:{type:String,default:"self"}}},i=o,n=s("d802"),l=Object(n["a"])(i,r,a,!1,null,null,null);t["a"]=l.exports},"20e2":function(e,t,s){"use strict";s("3e9e")},"252b":function(e,t,s){var r=s("943c");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var a=s("0ed3").default;a("36cedc3e",r,!0,{sourceMap:!1,shadowMode:!1})},2640:function(e,t,s){"use strict";s.r(t);var r=function(){var e=this,t=e._self._c;return e.$fetchState.pending||!e.currentCluster?t("Loading"):t("section",[t("HarvesterUpgrade"),t("div",{staticClass:"cluster-dashboard-glance"},[t("div",[t("label",[e._v(" "+e._s(e.t("harvester.dashboard.version"))+": ")]),t("span",[t("span",{directives:[{name:"clean-tooltip",rawName:"v-clean-tooltip",value:{content:e.currentVersion},expression:"{content: currentVersion}"}]},[e._v(" "+e._s(e.currentVersion)+" ")])])]),t("div",[t("label",[e._v(" "+e._s(e.t("glance.created"))+": ")]),t("span",[t("LiveDate",{attrs:{value:e.firstNodeCreationTimestamp,"add-suffix":!0,"show-tooltip":!0}})],1)])]),!e.enabledMonitoringAddon&&e.canEnableMonitoringAddon?t("div",[t("Banner",{attrs:{color:"info"}},[t("MessageLink",{attrs:{to:e.toEnableMonitoringAddon,"prefix-label":"harvester.monitoring.alertmanagerConfig.disabledAddon.prefix","middle-label":"harvester.monitoring.alertmanagerConfig.disabledAddon.middle","suffix-label":"harvester.monitoring.alertmanagerConfig.disabledAddon.suffix"}})],1)],1):e._e(),t("div",{staticClass:"resource-gauges"},e._l(e.totalCountGaugeInput,(function(e){return t("ResourceSummary",{key:e.resource,attrs:{"spoofed-counts":e.isSpoofed?e:null,resource:e.resource}})})),1),e.nodes.length&&e.hasMetricNodeSchema?[t("h3",{staticClass:"mt-40"},[e._v(" "+e._s(e.t("clusterIndexPage.sections.capacity.label"))+" ")]),t("div",{staticClass:"hardware-resource-gauges",class:{live:!e.hasLonghornSchema}},[t("HardwareResourceGauge",{attrs:{name:e.t("harvester.dashboard.hardwareResourceGauge.cpu"),reserved:e.cpuReserved,used:e.cpuUsed}}),t("HardwareResourceGauge",{attrs:{name:e.t("harvester.dashboard.hardwareResourceGauge.memory"),reserved:e.ramReserved,used:e.ramUsed}}),e.hasLonghornSchema?t("HardwareResourceGauge",{attrs:{name:e.t("harvester.dashboard.hardwareResourceGauge.storage"),used:e.storageUsed,reserved:e.storageAllocated,"reserved-title":e.t("harvester.dashboard.hardwareResourceGauge.allocated")}}):e._e()],1)]:e._e(),e.hasMetricsTabs&&e.enabledMonitoringAddon?t("Tabbed",{staticClass:"mt-30"},[e.showClusterMetrics?t("Tab",{attrs:{name:"cluster-metrics",label:e.t("clusterIndexPage.sections.clusterMetrics.label"),weight:99},scopedSlots:e._u([{key:"default",fn:function(s){return[s.active?t("DashboardMetrics",{attrs:{"detail-url":e.CLUSTER_METRICS_DETAIL_URL,"summary-url":e.CLUSTER_METRICS_SUMMARY_URL,"graph-height":"825px"}}):e._e()]}}],null,!1,1229087076)}):e._e(),e.showVmMetrics?t("Tab",{attrs:{name:"vm-metric",label:e.t("harvester.dashboard.sections.vmMetrics.label"),weight:98},scopedSlots:e._u([{key:"default",fn:function(s){return[s.active?t("DashboardMetrics",{attrs:{"detail-url":e.VM_DASHBOARD_METRICS_URL,"graph-height":"825px","has-summary-and-detail":!1}}):e._e()]}}],null,!1,1558151507)}):e._e()],1):e._e(),t("div",{staticClass:"mb-40 mt-40"},[t("h3",[e._v(" "+e._s(e.t("clusterIndexPage.sections.events.label"))+" ")]),t("Tabbed",{staticClass:"mt-20"},[t("Tab",{attrs:{name:"host",label:"Hosts",weight:98}},[t("SortableTable",{attrs:{rows:e.hostEvents,headers:e.eventHeaders,"key-field":"id",search:!1,"table-actions":!1,"row-actions":!1,paging:!0,"rows-per-page":10,"default-sort-by":"date"},scopedSlots:e._u([{key:"cell:resource",fn:function({row:s,value:r}){return[t("div",{staticClass:"text-info"},[e._v(" "+e._s(r)+" ")]),s.message?t("div",[e._v(" "+e._s(s.displayMessage)+" ")]):e._e()]}}])})],1),t("Tab",{attrs:{name:"vm",label:"VMs",weight:99}},[t("SortableTable",{attrs:{rows:e.vmEvents,headers:e.eventHeaders,"key-field":"id",search:!1,"table-actions":!1,"row-actions":!1,paging:!0,"rows-per-page":10,"default-sort-by":"date"},scopedSlots:e._u([{key:"cell:resource",fn:function({row:s,value:r}){return[t("div",{staticClass:"text-info"},[e._v(" "+e._s(r)+" ")]),s.message?t("div",[e._v(" "+e._s(s.displayMessage)+" ")]):e._e()]}}])})],1),t("Tab",{attrs:{name:"volume",label:"Volumes",weight:97}},[t("SortableTable",{attrs:{rows:e.volumeEvents,headers:e.eventHeaders,"key-field":"id",search:!1,"table-actions":!1,"row-actions":!1,paging:!0,"rows-per-page":10,"default-sort-by":"date"},scopedSlots:e._u([{key:"cell:resource",fn:function({row:s,value:r}){return[t("div",{staticClass:"text-info"},[e._v(" "+e._s(r)+" ")]),s.message?t("div",[e._v(" "+e._s(s.displayMessage)+" ")]):e._e()]}}])})],1),t("Tab",{attrs:{name:"image",label:"Images",weight:96}},[t("SortableTable",{attrs:{rows:e.imageEvents,headers:e.eventHeaders,"key-field":"id",search:!1,"table-actions":!1,"row-actions":!1,paging:!0,"rows-per-page":10,"default-sort-by":"date"},scopedSlots:e._u([{key:"cell:resource",fn:function({row:s,value:r}){return[t("div",{staticClass:"text-info"},[e._v(" "+e._s(r)+" ")]),s.message?t("div",[e._v(" "+e._s(s.displayMessage)+" ")]):e._e()]}}])})],1)],1)],1)],2)},a=[],o=s("050d"),i=s.n(o),n=s("bf2c"),l=s.n(n),c=s("68f9"),d=s.n(c),u=s("9ce4"),h=s("70a6"),p=s("2a88"),m=s("203b"),v=s("fc28"),f=s("b837"),g=s("67ab"),b=s("d6d1"),y=s("56a4"),_=s("90cd"),w=function(){var e=this,t=e._self._c;return t("div",[t("SimpleBox",{staticClass:"container",class:{"has-link":!!e.location},on:{click:e.goToResource}},[t("h1",[e._v(e._s(e.resourceCounts.total))]),t("h3",[e._v(" "+e._s(e.name)+" ")]),t("div",{staticClass:"warnings"},[e.resourceCounts.warningCount?t("div",{staticClass:"warn-count mb-10 chip"},[e._v(" "+e._s(e.resourceCounts.warningCount)+" ")]):e._e(),e.resourceCounts.errorCount?t("div",{staticClass:"error-count chip"},[e._v(" "+e._s(e.resourceCounts.errorCount)+" ")]):e._e()])])],1)},S=[],C=s("09e9"),T=s("35ef");function $(e){switch(e){case"text-success":case"text-info":return"useful";case"text-warning":return"warningCount";default:return"errorCount"}}function k(e,t){var s,r,a;const o=e.getters["currentStore"](y["f"]),i=null===(s=e.getters[o+"/all"](y["f"]))||void 0===s||null===(r=s[0])||void 0===r?void 0:r.counts,n=(null===i||void 0===i||null===(a=i[t])||void 0===a?void 0:a.summary)||{},l={total:n.count||0,useful:n.count||0,warningCount:0,errorCount:0};return Object.entries(n.states||{}).forEach(e=>{const t=Object(T["d"])(e[0]),s=e[1],r=$(t);l["useful"]-=s,l[r]+=s}),l}var O={components:{SimpleBox:C["a"]},props:{resource:{type:String,default:""},spoofedCounts:{type:Object,default:null},cluster:{type:String,default:null}},computed:{resourceCounts(){return this.spoofedCounts?this.spoofedCounts:k(this.$store,this.resource)},location(){if(this.spoofedCounts)return this.spoofedCounts.location;const e={name:"c-cluster-product-resource",params:{product:this.$store.getters["currentProduct"].name,resource:this.resource}};return this.cluster&&(e.params.cluster=this.cluster),e},name(){if(this.spoofedCounts)return this.spoofedCounts.name;const e=this.$store.getters["currentStore"](this.resource),t=this.$store.getters[e+"/schemaFor"](this.resource);return this.$store.getters["type-map/labelFor"](t,this.resourceCounts.useful)}},methods:{goToResource(){this.location&&this.$router.push(this.location)}}},x=O,A=(s("e5f7"),s("d802")),R=Object(A["a"])(x,w,S,!1,null,"7a7c6c24",null),E=R.exports,L=function(){var e=this,t=e._self._c;return t("SimpleBox",{staticClass:"hardware-resource-gauge"},[t("div",{staticClass:"chart"},[t("h3",[e._v(" "+e._s(e.name)+" ")]),!e.reserved||void 0===e.reserved.total&&void 0===e.reserved.useful?e._e():t("div",{staticClass:"hw-gauge"},[t("ConsumptionGauge",{attrs:{capacity:e.reserved.total,used:e.reserved.useful,"color-stops":e.colorStops},scopedSlots:e._u([{key:"title",fn:function(){var s;return[t("span",[e._v(" "+e._s(null!==(s=e.reservedTitle)&&void 0!==s?s:e.t("clusterIndexPage.hardwareResourceGauge.reserved"))+" "),t("span",{staticClass:"values text-muted"},[e.reserved.formattedUseful?t("span",[e._v(" "+e._s(e.reserved.formattedUseful)+" ")]):t("span",[e._v(" "+e._s(e.maxDecimalPlaces(e.reserved.useful))+" ")]),e._v(" / "),e.reserved.formattedTotal?t("span",[e._v(" "+e._s(e.reserved.formattedTotal)+" ")]):t("span",[e._v(" "+e._s(e.maxDecimalPlaces(e.reserved.total))+" "+e._s(e.reserved.units)+" ")])])]),t("span",[e._v(" "+e._s(e.percentage(e.reserved))+" ")])]},proxy:!0}],null,!1,1953325004)})],1),e.used&&void 0!==e.used.useful?t("div",{staticClass:"hw-gauge"},[t("ConsumptionGauge",{attrs:{capacity:e.used.total,used:e.used.useful,"color-stops":e.colorStops},scopedSlots:e._u([{key:"title",fn:function(){var s;return[t("span",[e._v(" "+e._s(null!==(s=e.usedTitle)&&void 0!==s?s:e.t("clusterIndexPage.hardwareResourceGauge.used"))+" "),t("span",{staticClass:"values text-muted"},[e.used.formattedUseful?t("span",[e._v(" "+e._s(e.used.formattedUseful)+" ")]):t("span",[e._v(" "+e._s(e.maxDecimalPlaces(e.used.useful))+" ")]),e._v(" / "),e.used.formattedTotal?t("span",[e._v(" "+e._s(e.used.formattedTotal)+" ")]):t("span",[e._v(" "+e._s(e.maxDecimalPlaces(e.used.total))+" "+e._s(e.used.units)+" ")])])]),t("span",[e._v(" "+e._s(e.percentage(e.used))+" ")])]},proxy:!0}],null,!1,1320086380)})],1):e._e()])])},N=[],M=s("3c8a"),D={components:{ConsumptionGauge:M["a"],SimpleBox:C["a"]},props:{name:{type:String,required:!0},units:{type:String,default:""},used:{type:Object,default:null},usedTitle:{type:String,default:null},reserved:{type:Object,default:null},reservedTitle:{type:String,default:null}},computed:{colorStops(){return{0:"--success",30:"--warning",70:"--error"}}},methods:{maxDecimalPlaces(e){return Math.round(100*e)/100},strokes(e,t){return{primaryStrokeColor:this.rgba(e,1),primaryStrokeGradientColor:this.rgba(t,1),secondaryStrokeColor:this.rgba(e,.1),secondaryStrokeGradientColor:this.rgba(t,.1)}},rgba(e,t){return`rgba(var(${e}), ${t})`},percentage(e){return 0===e.total?0:(e.useful/e.total*100).toFixed(2)+"%"}}},P=D,I=(s("6f7b"),Object(A["a"])(P,L,N,!1,null,"9c68fb20",null)),V=I.exports,U=s("ad61"),j=s("5ef9"),F=s("1828"),H=s("500e"),B=s("4543"),G=s("1832"),K=function(){var e=this,t=e._self._c;return e.currentCluster?t("div",[t("header",{staticClass:"header-layout header mb-0"},[t("h1",[t("t",{attrs:{k:"harvester.dashboard.header",cluster:e.currentCluster.nameDisplay}})],1),e.versionOptions.length&&!e.isUpgradeInProgress?t("button",{staticClass:"btn bg-warning btn-sm",attrs:{type:"button"},on:{click:e.open}},[t("t",{attrs:{k:"harvester.upgradePage.upgrade"}})],1):e._e()]),e.showModal?t("ModalWithCard",{attrs:{name:"deleteTip",width:850},scopedSlots:e._u([{key:"title",fn:function(){return[t("t",{attrs:{k:"harvester.upgradePage.upgradeApp"}})]},proxy:!0},{key:"content",fn:function(){return[t("UpgradeInfo",{attrs:{version:e.version}}),t("div",{staticClass:"currentVersion mb-15"},[t("span",[t("t",{attrs:{k:"harvester.upgradePage.currentVersion"}})],1),t("span",{staticClass:"version"},[e._v(e._s(e.currentVersion))])]),t("div",[t("LabeledSelect",{staticClass:"mb-10",attrs:{label:e.t("harvester.upgradePage.versionLabel"),options:e.versionOptions,clearable:!0},model:{value:e.version,callback:function(t){e.version=t},expression:"version"}}),e.canEnableLogging?t("div",{staticClass:"mb-5"},[t("Checkbox",{staticClass:"check",attrs:{type:"checkbox",label:e.t("harvester.upgradePage.enableLogging")},model:{value:e.enableLogging,callback:function(t){e.enableLogging=t},expression:"enableLogging"}})],1):e._e(),e.version?t("div",[t("p",{directives:[{name:"clean-html",rawName:"v-clean-html",value:e.t("harvester.upgradePage.releaseTip",{url:e.releaseLink},!0),expression:"t('harvester.upgradePage.releaseTip', {url: releaseLink}, true)"}],staticClass:"mb-10"}),t("Checkbox",{staticClass:"check",attrs:{type:"checkbox","label-key":"harvester.upgradePage.checkReady"},model:{value:e.readyReleaseNote,callback:function(t){e.readyReleaseNote=t},expression:"readyReleaseNote"}})],1):e._e(),e.errors.length?t("Banner",{attrs:{color:"error"}},[e._v(" "+e._s(e.errors)+" ")]):e._e()],1)]},proxy:!0},{key:"footer",fn:function(){return[t("div",{staticClass:"footer"},[t("button",{staticClass:"btn role-secondary mr-20",on:{click:function(t){return t.preventDefault(),e.cancel.apply(null,arguments)}}},[t("t",{attrs:{k:"generic.close"}})],1),t("button",{staticClass:"btn role-tertiary bg-primary",attrs:{disabled:!e.readyReleaseNote},on:{click:function(t){return t.preventDefault(),e.handleUpgrade.apply(null,arguments)}}},[t("t",{attrs:{k:"harvester.upgradePage.upgrade"}})],1)])]},proxy:!0}],null,!1,38769321)}):e._e()],1):e._e()},W=[],q=s("efb2"),z=s("5fe4"),J=s("53fe"),Y=s("dffb"),Z=s("95be"),Q={name:"HarvesterUpgrade",components:{Checkbox:q["a"],ModalWithCard:z["a"],LabeledSelect:J["a"],Banner:Y["a"],UpgradeInfo:Z["a"]},async fetch(){const e=this.$store.getters["currentProduct"].inStore,t=await Object(f["a"])({upgradeVersion:this.$store.dispatch(e+"/findAll",{type:_["b"].SETTING}),versions:this.$store.dispatch(e+"/findAll",{type:_["b"].VERSION}),upgrade:this.$store.dispatch(e+"/findAll",{type:_["b"].UPGRADE})});this.upgrade=t.upgrade},data(){return{upgrade:[],upgradeMessage:[],errors:"",selectMode:!0,version:"",enableLogging:!0,readyReleaseNote:!1,showModal:!1}},computed:{...Object(u["a"])(["currentCluster"]),latestUpgrade(){var e;return null===(e=this.upgrade)||void 0===e?void 0:e.find(e=>e.isLatestUpgrade)},isUpgradeInProgress(){return this.latestUpgrade&&!this.latestUpgrade.isUpgradeSucceeded&&!this.latestUpgrade.isUpgradeFailed},versionOptions(){const e=this.$store.getters["harvester/all"](_["b"].VERSION);return e.map(e=>e.metadata.name)},currentVersion(){const e=this.$store.getters["harvester/byId"](_["b"].SETTING,"server-version");return e.currentVersion||""},canEnableLogging(){return this.$store.getters["harvester/schemaFor"](_["b"].UPGRADE_LOG)},releaseLink(){return"https://github.com/harvester/harvester/releases/tag/"+this.version}},watch:{upgrade:{handler(e){let t=[];const s=e||[],r=s.find(e=>!!e.isLatestUpgrade);t=r?r.upgradeMessage:[],this.$set(this,"upgradeMessage",t)},deep:!0},version(){this.readyReleaseNote=!1}},methods:{async handleUpgrade(){const e={type:_["b"].UPGRADE,metadata:{generateName:"hvst-upgrade-",namespace:"harvester-system"},spec:{version:this.version}};this.canEnableLogging&&(e.spec.logEnabled=this.enableLogging);const t=await this.$store.dispatch("harvester/create",e);try{await t.save(),this.cancel()}catch(s){""!==(null===s||void 0===s?void 0:s.message)&&(this.errors=s.message)}},cancel(){this.showModal=!1,this.errors=""},open(){this.showModal=!0}}},X=Q,ee=(s("5d0b"),Object(A["a"])(X,K,W,!1,null,"588ed76d",null)),te=ee.exports,se=s("4aac");i.a.extend(d.a),i.a.extend(l.a);const re={memory:{format:{addSuffix:!0,firstSuffix:"B",increment:1024,maxExponent:99,maxPrecision:2,minExponent:0,startingExponent:0,suffix:"iB"}}},ae=[{type:y["A"],spoofed:{location:{name:se["PRODUCT_NAME"]+"-c-cluster-resource",params:{resource:_["b"].HOST}},name:_["b"].HOST}},{type:_["b"].VM,spoofed:{location:{name:se["PRODUCT_NAME"]+"-c-cluster-resource",params:{resource:_["b"].VM}},name:_["b"].VM}},{type:y["y"],spoofed:{location:{name:se["PRODUCT_NAME"]+"-c-cluster-resource",params:{resource:_["b"].NETWORK_ATTACHMENT}},name:_["b"].NETWORK_ATTACHMENT,filterNamespace:["harvester-system"]}},{type:_["b"].IMAGE,spoofed:{location:{name:se["PRODUCT_NAME"]+"-c-cluster-resource",params:{resource:_["b"].IMAGE}},name:_["b"].IMAGE}},{type:y["F"],spoofed:{location:{name:se["PRODUCT_NAME"]+"-c-cluster-resource",params:{resource:_["b"].VOLUME}},name:_["b"].VOLUME,filterNamespace:["cattle-monitoring-system"]}},{type:_["b"].BLOCK_DEVICE,spoofed:{location:{name:se["PRODUCT_NAME"]+"-c-cluster-resource",params:{resource:_["b"].HOST}},name:_["b"].BLOCK_DEVICE}}],oe="/api/v1/namespaces/cattle-monitoring-system/services/http:rancher-monitoring-grafana:80/proxy/d/rancher-cluster-nodes-1/rancher-cluster-nodes?orgId=1",ie="/api/v1/namespaces/cattle-monitoring-system/services/http:rancher-monitoring-grafana:80/proxy/d/rancher-cluster-1/rancher-cluster?orgId=1",ne="/api/v1/namespaces/cattle-monitoring-system/services/http:rancher-monitoring-grafana:80/proxy/d/harvester-vm-dashboard-1/vm-dashboard?orgId=1",le="cattle-monitoring-system/rancher-monitoring";var ce={mixins:[H["a"]],components:{Loading:h["a"],HardwareResourceGauge:V,SortableTable:v["b"],HarvesterUpgrade:te,ResourceSummary:E,Tabbed:U["a"],Tab:j["a"],DashboardMetrics:F["a"],Banner:p["a"],MessageLink:m["a"]},async fetch(){var e,t;const s=this.$store.getters["currentProduct"].inStore,r={vms:this.fetchClusterResources(_["b"].VM),nodes:this.fetchClusterResources(y["A"]),events:this.fetchClusterResources(y["j"]),metricNodes:this.fetchClusterResources(y["v"].NODE),settings:this.fetchClusterResources(_["b"].SETTING),services:this.fetchClusterResources(y["L"]),metric:this.fetchClusterResources(y["v"].NODE),longhornNodes:this.fetchClusterResources(y["t"].NODES),longhornSettings:this.fetchClusterResources(y["t"].SETTINGS),_pods:this.$store.dispatch("harvester/findAll",{type:y["C"]})};(this.accessibleResources||[]).map(e=>(r[e.type]=this.$store.dispatch(s+"/findAll",{type:e.type}),null)),this.$store.getters[s+"/schemaFor"](_["b"].ADD_ONS)&&(r.addons=this.$store.dispatch(s+"/findAll",{type:_["b"].ADD_ONS})),this.$store.getters[s+"/schemaFor"](y["t"].NODES)&&(this.hasLonghornSchema=!0);const a=await Object(f["a"])(r);for(const i in a)this[i]=a[i];Object(f["e"])(Object(B["a"])(this.$store,this.currentCluster.id,[oe,ie],"harvester"),this,"showClusterMetrics","Determine cluster metrics"),Object(f["e"])(Object(B["a"])(this.$store,this.currentCluster.id,[ne],"harvester"),this,"showVmMetrics","Determine vm metrics");const o=this.$store.getters[s+"/all"](_["b"].ADD_ONS);this.monitoring=o.find(e=>e.id===le),this.enabledMonitoringAddon=null===(e=this.monitoring)||void 0===e||null===(t=e.spec)||void 0===t?void 0:t.enabled},data(){const e={...b["L"],canBeVariable:!0,width:130},t=[e,{name:"resource",label:"Resource",labelKey:"clusterIndexPage.sections.events.resource.label",value:"displayInvolvedObject",sort:["involvedObject.kind","involvedObject.name"],canBeVariable:!0},{align:"right",name:"date",label:"Date",labelKey:"clusterIndexPage.sections.events.date.label",value:"lastTimestamp",sort:"lastTimestamp:desc",formatter:"LiveDate",formatterOpts:{addSuffix:!0},width:125,defaultSort:!0}];return{eventHeaders:t,constraints:[],events:[],nodeMetrics:[],nodes:[],metricNodes:[],vms:[],monitoring:{},VM_DASHBOARD_METRICS_URL:ne,CLUSTER_METRICS_SUMMARY_URL:ie,CLUSTER_METRICS_DETAIL_URL:oe,showClusterMetrics:!1,showVmMetrics:!1,enabledMonitoringAddon:!1,hasLonghornSchema:!1}},computed:{...Object(u["a"])(["currentCluster"]),accessibleResources(){const e=this.$store.getters["currentProduct"].inStore;return ae.filter(t=>this.$store.getters[e+"/schemaFor"](t.type))},totalCountGaugeInput(){const e={};return this.accessibleResources.forEach(t=>{const s=k(this.$store,t.type);if(e[t.type]={resource:t.type},Object.entries(s).forEach(s=>{e[t.type][s[0]]=s[1]}),t.spoofed){var r;if(null!==(r=t.spoofed)&&void 0!==r&&r.filterNamespace&&Array.isArray(t.spoofed.filterNamespace)){const s=this.$store.getters["harvester/all"](y["f"])[0].counts,r=s[t.type]||{};for(let o=0;o<t.spoofed.filterNamespace.length;o++){var a;const s=(null===r||void 0===r||null===(a=r.namespaces)||void 0===a?void 0:a[t.spoofed.filterNamespace[o]])||{};s.count&&(e[t.type]["useful"]-=s.count,e[t.type]["total"]-=s.count),Object.entries((null===s||void 0===s?void 0:s.states)||{}).forEach(s=>{const r=Object(T["d"])(s[0]),a=s[1],o=$(r);e[t.type]["useful"]-=a,e[t.type][o]+=a})}}e[t.type]={...e[t.type],...t.spoofed,isSpoofed:!0},e[t.type].name=this.t(`typeLabel."${t.spoofed.name}"`,{count:e[t.type].total})}if(t.type===_["b"].BLOCK_DEVICE){let s=0,r=0;(this.nodes||[]).map(e=>{s+=e.diskStatusCount.total,r+=e.diskStatusCount.errorCount}),e[t.type]={...e[t.type],total:s,errorCount:r,useful:s-r}}}),e},currentVersion(){const e=this.$store.getters["currentProduct"].inStore,t=this.$store.getters[e+"/byId"](_["b"].SETTING,"server-version");return(null===t||void 0===t?void 0:t.value)||(null===t||void 0===t?void 0:t.default)},firstNodeCreationTimestamp(){const e=this.$store.getters["currentProduct"].inStore,t=this.$store.getters[e+"/all"](y["A"]).map(e=>i()(e.metadata.creationTimestamp));return t.length?i.a.min(t).utc().format():i()().utc().format()},cpusTotal(){let e=0;return this.metricNodes.forEach(t=>{e+=t.cpuCapacity}),e},cpusUsageTotal(){let e=0;return this.metricNodes.forEach(t=>{e+=t.cpuUsage}),e},memoryTotal(){let e=0;return this.metricNodes.forEach(t=>{e+=t.memoryCapacity}),e},memoryUsageTotal(){let e=0;return this.metricNodes.forEach(t=>{e+=t.memoryUsage}),e},storageStats(){var e;const t=this.longhornSettings.find(e=>"longhorn-system/storage-over-provisioning-percentage"===e.id),s=this.longhornNodes.reduce((e,t)=>{var s,r,a;const o=(null===t||void 0===t||null===(s=t.spec)||void 0===s?void 0:s.disks)||{},i=(null===t||void 0===t||null===(r=t.status)||void 0===r?void 0:r.diskStatus)||{};return e.used+=null!==t&&void 0!==t&&null!==(a=t.spec)&&void 0!==a&&a.allowScheduling?t.used:0,Object.keys(o).map(s=>{var r,a,n;e.scheduled+=null!==t&&void 0!==t&&null!==(r=t.spec)&&void 0!==r&&r.allowScheduling&&(null===(a=i[s])||void 0===a?void 0:a.storageScheduled)||0,e.reserved+=(null===(n=o[s])||void 0===n?void 0:n.storageReserved)||0}),Object.values(i).map(t=>{e.maximum+=(null===t||void 0===t?void 0:t.storageMaximum)||0}),e},{used:0,scheduled:0,maximum:0,reserved:0,total:0});return s.total=(s.maximum-s.reserved)*Number(null!==(e=null===t||void 0===t?void 0:t.value)&&void 0!==e?e:0)/100,s},storageUsed(){const e=this.storageStats;return this.createMemoryValues(e.maximum,e.used)},storageAllocated(){const e=this.storageStats;return this.createMemoryValues(e.total,e.scheduled)},vmEvents(){return this.events.filter(e=>["VirtualMachineInstance","VirtualMachine"].includes(e.involvedObject.kind))},volumeEvents(){return this.events.filter(e=>["PersistentVolumeClaim"].includes(e.involvedObject.kind))},hostEvents(){return this.events.filter(e=>["Node"].includes(e.involvedObject.kind))},imageEvents(){return this.events.filter(e=>["VirtualMachineImage"].includes(e.involvedObject.kind))},hasMetricsTabs(){return this.showClusterMetrics||this.showVmMetrics},pods(){const e=this.$store.getters["currentProduct"].inStore,t=this.$store.getters[e+"/all"](y["C"])||[];return t.filter(e=>{var t;return"removing"!==(null===e||void 0===e||null===(t=e.metadata)||void 0===t?void 0:t.name)})},cpuReserved(){const e=this.nodes.reduce((e,t)=>e+t.cpuReserved,0);return{total:this.cpusTotal,useful:e}},ramReserved(){const e=this.nodes.reduce((e,t)=>e+t.memoryReserved,0);return Object(g["c"])(this.memoryTotal,e)},availableNodes(){return(this.metricNodes||[]).map(e=>e.id)},metricAggregations(){const e=this.nodes,t=this.nodes.some(e=>e.hasARole&&!e.isWorker),s=this.nodeMetrics.filter(s=>{const r=e.find(e=>e.id===s.id);return r&&(!t||r.isWorker)}),r={cpu:0,memory:0};return Object(G["i"])(s)?null:s.reduce((e,t)=>(e.cpu+=Object(g["f"])(t.usage.cpu),e.memory+=Object(g["f"])(t.usage.memory),e),r)},cpuUsed(){var e;return{total:this.cpusTotal,useful:null===(e=this.metricAggregations)||void 0===e?void 0:e.cpu}},ramUsed(){var e;return Object(g["c"])(this.memoryTotal,null===(e=this.metricAggregations)||void 0===e?void 0:e.memory)},hasMetricNodeSchema(){const e=this.$store.getters["currentProduct"].inStore;return!!this.$store.getters[e+"/schemaFor"](y["v"].NODE)},toEnableMonitoringAddon(){return _["b"].ADD_ONS+"/cattle-monitoring-system/rancher-monitoring?mode=edit#alertmanager"},canEnableMonitoringAddon(){const e=this.$store.getters["currentProduct"].inStore,t=this.$store.getters[e+"/schemaFor"](_["b"].ADD_ONS);return t&&this.monitoring}},methods:{createMemoryValues(e,t){const s=Object(g["f"])((e||"0").toString()),r=Object(g["f"])((t||"0").toString()),a=this.createMemoryFormat(s),o=Object(g["e"])(s,a);let i=Object(g["e"])(r,{...a,addSuffix:!1});return!Number.parseFloat(i)>0&&(i=Object(g["e"])(r,{...a,canRoundToZero:!1})),{total:Number(s),useful:Number(r),formattedTotal:o,formattedUseful:i,units:this.createMemoryUnits(s)}},createMemoryFormat(e){const t=Object(g["d"])(e,re.memory.format.increment);return{...re.memory.format,maxExponent:t,minExponent:t}},createMemoryUnits(e){const t=Object(g["d"])(e,re.memory.format.increment);return`${g["b"][t]}${re.memory.format.suffix}`},async fetchClusterResources(e,t={},s){const r=s||this.$store.getters["currentProduct"].inStore,a=this.$store.getters[r+"/schemaFor"](e);if(a)try{const s=await this.$store.dispatch(r+"/findAll",{type:e,opt:t});return s}catch(o){return console.error(`Failed fetching cluster resource ${e} with error:`,o),[]}return[]},async loadMetrics(){this.nodeMetrics=await this.fetchClusterResources(y["v"].NODE,{force:!0})}}},de=ce,ue=(s("58cd"),Object(A["a"])(de,r,a,!1,null,"5436c5f1",null));t["default"]=ue.exports},"2c0b":function(e,t,s){"use strict";var r=function(){var e=this,t=e._self._c;return t("div",[e.arbitrary?t("div",[e.value?t("BadgeState",{attrs:{color:e.stateBackground,label:e.stateDisplay}}):e._e()],1):t("BadgeState",{attrs:{value:e.row}})],1)},a=[],o=s("57ab"),i=s("35ef"),n={components:{BadgeState:o["a"]},props:{value:{type:String,default:""},row:{type:Object,required:!0},col:{type:Object,default:()=>{}},arbitrary:{type:Boolean,default:!1}},data(){return{stateDisplay:"",stateBackground:""}},watch:{value:{handler(){if(this.arbitrary){const e=Object(i["d"])(this.value);this.stateDisplay=Object(i["f"])(this.value),this.stateBackground=e.replace("text-","bg-")}},immediate:!0}}},l=n,c=s("d802"),d=Object(c["a"])(l,r,a,!1,null,null,null);t["a"]=d.exports},"2d97":function(e,t,s){var r=s("5eaa");t=r(!1),t.push([e.i,".col-link-detail{min-width:200px}",""]),e.exports=t},"30a5":function(e,t,s){var r=s("7b9a");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var a=s("0ed3").default;a("7e383d7f",r,!0,{sourceMap:!1,shadowMode:!1})},"331b":function(e,t,s){"use strict";s("e0d9")},"372a":function(e,t,s){var r=s("5eaa");t=r(!1),t.push([e.i,".console-button[data-v-c1a33eb6]{display:flex}",""]),e.exports=t},"377a":function(e,t,s){var r=s("b32a");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var a=s("0ed3").default;a("83e0682e",r,!0,{sourceMap:!1,shadowMode:!1})},"379b":function(e,t,s){var r=s("372a");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var a=s("0ed3").default;a("26694633",r,!0,{sourceMap:!1,shadowMode:!1})},"37f2":function(e,t,s){"use strict";s.r(t);var r=function(){var e=this,t=e._self._c;return t("ResourceTable",e._b({attrs:{groupable:!1,namespaced:!1,headers:e.headers,schema:e.schema,rows:e.rows,"key-field":"_key"}},"ResourceTable",e.$attrs,!1))},a=[],o=s("d6d1"),i=s("56a4"),n=s("efbe"),l={name:"ListHarvesterSRIOV",components:{ResourceTable:n["a"]},props:{schema:{type:Object,required:!0},rows:{type:Array,required:!0}},data(){const e=this.$store.getters["currentProduct"].inStore;return{hasNode:this.$store.getters[e+"/schemaFor"](i["A"])}},computed:{headers(){const e={name:"node",label:"Node",value:"realNodeName",sort:["realNodeName"],formatter:"CopyToClipboard",labelKey:"tableHeaders.node"},t=[o["T"],o["R"],{name:"numVFs",label:"Num VFs",sort:["numVFs"],value:"numVFs",formatter:"HarvesterVFsNum",align:"center",labelKey:"harvester.sriov.numVFs",dashIfEmpty:!0},{name:"vfAddresses",label:"VF Addresses",labelKey:"harvester.sriov.vfAddresses",sort:["status.vfAddresses"],value:"status.vfAddresses",formatter:"HarvesterVFAddress",align:"center",dashIfEmpty:!0},{...o["c"],sort:"metadata.creationTimestamp:desc"}];return this.hasNode&&t.splice(-1,0,e),t}}},c=l,d=s("d802"),u=Object(d["a"])(c,r,a,!1,null,null,null);t["default"]=u.exports},3840:function(e,t,s){var r=s("ecc0");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var a=s("0ed3").default;a("1429448e",r,!0,{sourceMap:!1,shadowMode:!1})},3976:function(e,t,s){var r=s("ea5f");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var a=s("0ed3").default;a("6ca48d5d",r,!0,{sourceMap:!1,shadowMode:!1})},"3aa3":function(e,t,s){"use strict";s.r(t);var r=function(){var e=this,t=e._self._c;return e.$fetchState.pending?t("Loading"):t("div",[t("ResourceTable",e._g(e._b({attrs:{schema:e.schema,groupable:!1,headers:e.headers,rows:[...e.rows],namespaced:!1,"key-field":"_key"},scopedSlots:e._u([{key:"cell:console",fn:function({row:s}){return[t("div",{staticClass:"console-button"},[t("button",{directives:[{name:"clean-tooltip",rawName:"v-clean-tooltip",value:e.consoleTooltip(s),expression:"consoleTooltip(row)"}],staticClass:"mr-5 btn btn-sm role-primary",attrs:{type:"button",disabled:!s.consoleUrl},on:{click:function(t){return e.goto(s)}}},[e._v(" "+e._s(e.t("harvester.host.console"))+" ")]),s.consoleUrl?e._e():t("a",{attrs:{href:e.consoleDocLink,target:"_blank"}},[t("i",{staticClass:"icon icon-info"})])])]}}])},"ResourceTable",e.$attrs,!1),e.$listeners))],1)},a=[],o=s("efbe"),i=s("70a6"),n=s("d6d1"),l=s("56a4"),c=s("90cd"),d=s("18ea"),u=s("b837"),h=s("500e");const p={id:c["b"].HOST,type:l["J"],attributes:{kind:c["b"].HOST,namespaced:!0},metadata:{name:c["b"].HOST}};var m={name:"HarvesterListHost",components:{ResourceTable:o["a"],Loading:i["a"]},mixins:[h["a"]],async fetch(){const e=this.$store.getters["currentProduct"].inStore,t={nodes:this.$store.dispatch(e+"/findAll",{type:l["A"]}),pods:this.$store.dispatch(e+"/findAll",{type:l["C"]})};this.$store.getters[e+"/schemaFor"](l["v"].NODE)?t.metric=this.$store.dispatch(e+"/findAll",{type:l["v"].NODE}):this.hasMetricSchema=!1,this.$store.getters[e+"/schemaFor"](l["t"].NODES)?t.longhornNodes=this.$store.dispatch(e+"/findAll",{type:l["t"].NODES}):this.hasLonghornSchema=!1,this.$store.getters[e+"/schemaFor"](c["b"].BLOCK_DEVICE)&&(t.blockDevices=this.$store.dispatch(e+"/findAll",{type:c["b"].BLOCK_DEVICE})),this.$store.getters[e+"/schemaFor"](c["b"].INVENTORY)&&(t.inventories=this.$store.dispatch(e+"/findAll",{type:c["b"].INVENTORY})),this.$store.getters[e+"/schemaFor"](l["b"].MACHINE)&&(t.machines=this.$store.dispatch(e+"/findAll",{type:l["b"].MACHINE}));const s=await Object(u["a"])(t);this.rows=s.nodes},data(){return{rows:[],hasMetricSchema:!0,hasLonghornSchema:!0}},computed:{headers(){const e=[{...n["T"],formatter:"StateWithPopover"},{...n["y"],width:130},{name:"host-ip",labelKey:"tableHeaders.hostIp",search:["internalIp"],value:"internalIp",formatter:"CopyToClipboard",sort:["internalIp"],align:"center"}];if(this.hasMetricSchema){const t=[{name:"cpu",labelKey:"node.detail.glance.consumptionGauge.cpu",value:"id",formatter:"HarvesterCPUUsed",formatterOpts:{showUsed:!0}},{name:"memory",labelKey:"node.detail.glance.consumptionGauge.memory",value:"id",formatter:"HarvesterMemoryUsed",formatterOpts:{showUsed:!0}}];e.splice(-1,0,...t)}if(this.hasLonghornSchema){const t={name:"storage",labelKey:"tableHeaders.storage",value:"id",formatter:"HarvesterStorageUsed",formatterOpts:{showAllocated:!0}};e.splice(-1,0,t)}return e.push({name:"cpuManager",labelKey:"harvester.tableHeaders.cpuManager",value:"id",formatter:"HarvesterCPUPinning",formatterOpts:{rows:this.rows},width:150,align:"center"}),this.hasLonghornSchema&&e.push({name:"diskState",labelKey:"tableHeaders.diskState",value:"diskState",formatter:"HarvesterDiskState",width:130}),e.push(n["c"]),e.push({name:"console",label:" ",align:"right",width:80}),e},schema(){return p},consoleDocLink(){return d["a"].CONSOLE_URL}},methods:{async loadMetrics(){const e=this.$store.getters["harvester/schemaFor"](l["v"].NODE);e&&(await this.$store.dispatch("harvester/findAll",{type:l["v"].NODE,opt:{force:!0}}),this.$forceUpdate())},goto(e){window.open(e.consoleUrl,"_blank")},consoleTooltip(e){return e.consoleUrl?"":this.t("harvester.host.noConsoleUrl")}},typeDisplay(){const{params:{resource:e}}=this.$route;let t=p;return e!==p.id&&(t=this.$store.getters["harvester/schemaFor"](e)),this.$store.getters["type-map/labelFor"](t,99)}},v=m,f=(s("a7af"),s("d802")),g=Object(f["a"])(v,r,a,!1,null,"c1a33eb6",null);t["default"]=g.exports},"3db7":function(e,t,s){"use strict";s.r(t),s.d(t,"schema",(function(){return m}));var r=function(){var e=this,t=e._self._c;return e.$fetchState.pending?t("Loading"):t("div",[t("Masthead",{attrs:{schema:null,resource:e.resource,"type-display":e.typeDisplay,"create-button-label":e.t("harvester.vmSnapshot.createText")}}),t("ResourceTable",e._g(e._b({attrs:{headers:e.headers,groupable:!0,rows:e.filteredRows,schema:e.schema,"sort-generation-fn":e.sortGenerationFn,"key-field":"_key","default-sort-by":"age"},scopedSlots:e._u([{key:"more-header-middle",fn:function(){return[t("FilterVMSchedule",{attrs:{rows:e.getRawRows},on:{"change-rows":e.changeRows}})]},proxy:!0},{key:"col:name",fn:function({row:s}){return[t("td",[t("span",[s.status&&s.status.source?t("n-link",{attrs:{to:s.detailLocation}},[e._v(" "+e._s(s.nameDisplay)+" ")]):t("span",[e._v(" "+e._s(s.nameDisplay)+" ")])],1)])]}}])},"ResourceTable",e.$attrs,!1),e.$listeners))],1)},a=[],o=s("70a6"),i=s("d1ba"),n=s("efbe"),l=s("90cd"),c=s("56a4"),d=s("b837"),u=s("7e4b"),h=s("d6d1"),p=s("e603");const m={id:l["b"].VM_SNAPSHOT,type:c["J"],attributes:{kind:l["b"].VM_SNAPSHOT,namespaced:!0},metadata:{name:l["b"].VM_SNAPSHOT}};var v={name:"HarvesterListVMSnapshot",components:{ResourceTable:n["a"],Loading:o["a"],Masthead:i["a"],FilterVMSchedule:u["a"]},async fetch(){const e=this.$store.getters["currentProduct"].inStore,t=await Object(d["a"])({vms:this.$store.dispatch(e+"/findAll",{type:l["b"].VM}),rows:this.$store.dispatch(e+"/findAll",{type:l["b"].BACKUP})}),s=this.$store.getters[e+"/schemaFor"](l["b"].BACKUP);null!==s&&void 0!==s&&s.collectionMethods.find(e=>"post"===e.toLowerCase())||this.$store.dispatch("type-map/configureType",{match:l["b"].VM_SNAPSHOT,isCreatable:!1}),this.rows=t.rows,this.snapshots=t.rows},data(){const e={...this.$route.params},t=e.resource;return{rows:[],snapshots:[],searchSchedule:"",resource:t}},computed:{headers(){return[h["T"],h["y"],h["z"],{name:"targetVM",labelKey:"harvester.tableHeaders.targetVm",value:"attachVM",align:"left",sort:"attachVM",formatter:"AttachVMWithName"},{name:"backupCreatedFrom",labelKey:"harvester.tableHeaders.vmSchedule",value:"sourceSchedule",sort:"sourceSchedule",formatter:"BackupCreatedFrom"},{name:"readyToUse",labelKey:"tableHeaders.readyToUse",value:"status.readyToUse",align:"center",sort:"status.readyToUse",formatter:"Checked"},h["c"]]},getRawRows(){return this.rows.filter(e=>{var t;return(null===(t=e.spec)||void 0===t?void 0:t.type)===p["a"].SNAPSHOT})},schema(){return m},typeDisplay(){return this.$store.getters["type-map/labelFor"](m,99)},filteredRows(){return this.snapshots.filter(e=>{var t;return(null===(t=e.spec)||void 0===t?void 0:t.type)!==p["a"].BACKUP})}},methods:{changeRows(e,t){this.$set(this,"searchSchedule",t),this.$set(this,"snapshots",e)},sortGenerationFn(){let e=Object(n["b"])(this.schema,this.$store);return e+=this.searchSchedule,e}}},f=v,g=s("d802"),b=Object(g["a"])(f,r,a,!1,null,null,null);t["default"]=b.exports},"3e9e":function(e,t,s){var r=s("6c3a");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var a=s("0ed3").default;a("a8bc053a",r,!0,{sourceMap:!1,shadowMode:!1})},4097:function(e,t,s){"use strict";s("fb66")},4461:function(e,t,s){"use strict";s("3840")},"4bd0":function(e,t,s){"use strict";s.r(t);var r=function(){var e=this,t=e._self._c;return t("div",[e.$fetchState.pending?t("Loading"):t("div",[t("Masthead",{attrs:{schema:e.clusterNetworkSchema,"type-display":e.t("harvester.clusterNetwork.title"),resource:e.HCI.CLUSTER_NETWORK,"create-location":e.createClusterNetworkLocation,"create-button-label":e.t("harvester.clusterNetwork.create.button.label")}}),t("ResourceTable",{attrs:{rows:e.rowsWithFakeClusterNetworks,headers:e.headers,groupable:!0,schema:e.vlanConfigSchema,"group-by":"groupByClusterNetwork"},scopedSlots:e._u([{key:"header-middle",fn:function(){return[t("div")]},proxy:!0},{key:"group-by",fn:function({group:s}){return[t("div",{staticClass:"group-bar"},[t("div",{staticClass:"group-tab"},[t("span",[e._v(" "+e._s(e.groupLabel(s))+" ")])]),t("div",{staticClass:"right"},[e.isClusterNetworkCreatable&&"mgmt"!==s.key?t("n-link",{staticClass:"btn btn-sm role-secondary mr-5",attrs:{to:e.createVlanConfigLocation(s)}},[e._v(" "+e._s(e.t("harvester.vlanConfig.createNetworkConfig"))+" ")]):e._e(),t("button",{staticClass:"btn btn-sm role-multi-action actions mr-10",class:{invisible:!e.showClusterNetworkActionButton(s)},attrs:{type:"button"},on:{click:function(t){return e.showClusterNetworkAction(t,s)}}},[t("i",{staticClass:"icon icon-actions"})])],1)])]}},e._l(e.clusterNetworkWithoutConfigs,(function(s){return{key:e.slotName(s.id),fn:function(){return[t("tr",{directives:[{name:"show",rawName:"v-show",value:!s.hasChild,expression:"!clusterNetwork.hasChild"}],key:s.id,staticClass:"main-row"},[t("td",{staticClass:"empty text-center",attrs:{colspan:"12"}},[e._v(" "+e._s("mgmt"===s.id?e.t("harvester.clusterNetwork.mgmt"):e.t("harvester.clusterNetwork.clusterNetwork"))+" ")])])]},proxy:!0}}))],null,!0)})],1)],1)},a=[],o=s("70a6"),i=s("efbe"),n=s("d1ba"),l=s("b837"),c=s("d6d1"),d=s("005f"),u=s("56a4"),h=s("4aac");const p="clusterNetwork";var m=s("90cd"),v={name:"ListHarvesterVLANConfigs",components:{ResourceTable:i["a"],Loading:o["a"],Masthead:n["a"]},async fetch(){const e=this.$store.getters["currentProduct"].inStore;await Object(l["a"])({configs:this.$store.dispatch(e+"/findAll",{type:m["b"].VLAN_CONFIG}),clusterNetworks:this.$store.dispatch(e+"/findAll",{type:m["b"].CLUSTER_NETWORK}),vlanStatuses:this.$store.dispatch(e+"/findAll",{type:m["b"].VLAN_STATUS}),nodes:this.$store.dispatch(e+"/findAll",{type:u["A"]})})},data(){return{HCI:m["b"]}},computed:{groupPreference:Object(d["w"])(d["h"]),headers(){return[c["T"],{...c["y"],width:300},{name:"type",labelKey:"tableHeaders.type",value:"typeDisplay",getValue:e=>e.typeDisplay,sort:["typeDisplay"]},c["c"]]},rows(){const e=this.$store.getters["currentProduct"].inStore,t=this.$store.getters[e+"/all"](m["b"].VLAN_CONFIG);return t},vlanConfigSchema(){const e=this.$store.getters["currentProduct"].inStore;return this.$store.getters[e+"/schemaFor"](m["b"].VLAN_CONFIG)},clusterNetworkSchema(){const e=this.$store.getters["currentProduct"].inStore;return this.$store.getters[e+"/schemaFor"](m["b"].CLUSTER_NETWORK)},isClusterNetworkCreatable(){var e;return((null===(e=this.clusterNetworkSchema)||void 0===e?void 0:e.collectionMethods)||[]).includes("POST")},createClusterNetworkLocation(){const e={name:h["PRODUCT_NAME"]+"-c-cluster-resource-create",params:{product:h["PRODUCT_NAME"],resource:m["b"].CLUSTER_NETWORK}};return e},clusterNetworkWithoutConfigs(){const e=this.$store.getters["currentProduct"].inStore,t=this.$store.getters[e+"/all"](m["b"].CLUSTER_NETWORK),s=t.map(e=>{const t=!!this.rows.find(t=>{var s;return(null===t||void 0===t||null===(s=t.spec)||void 0===s?void 0:s.clusterNetwork)===e.id});return{...e,hasChild:t}});return s},rowsWithFakeClusterNetworks(){const e=this.clusterNetworkWithoutConfigs.map(e=>({groupByLabel:e.id,isFake:!0,mainRowKey:e.id,nameDisplay:e.id,groupByClusterNetwork:e.id,availableActions:[]}));return[...this.rows,...e]}},methods:{showClusterNetworkActionButton(e){const t=this.$store.getters["currentProduct"].inStore,s=e.key,r=this.$store.getters[t+"/byId"](m["b"].CLUSTER_NETWORK,s);return!!r},showClusterNetworkAction(e,t){const s=this.$store.getters["currentProduct"].inStore,r=t.key,a=this.$store.getters[s+"/byId"](m["b"].CLUSTER_NETWORK,r);this.$store.commit("action-menu/show",{resources:[a],elem:e.target})},createVlanConfigLocation(e){const t=e.key,s={name:h["PRODUCT_NAME"]+"-c-cluster-resource-create",params:{product:h["PRODUCT_NAME"],resource:m["b"].VLAN_CONFIG}};return s.query={[p]:t},s},slotName(e){return"main-row:"+e},groupLabel(e){const t=e.rows[0];return t.isFake?`${this.t("harvester.network.clusterNetwork.label")}: ${t.nameDisplay}`:`${this.t("harvester.network.clusterNetwork.label")}: ${e.key}`}}},f=v,g=(s("64a6"),s("91e0"),s("d802")),b=Object(g["a"])(f,r,a,!1,null,"6cb6c888",null);t["default"]=b.exports},"4d8e":function(e,t,s){var r=s("5eaa");t=r(!1),t.push([e.i,".hardware-resource-gauge[data-v-9c68fb20]{position:relative;display:flex;flex-direction:column}.hardware-resource-gauge .hw-gauge[data-v-9c68fb20]:not(:first-of-type){margin-top:20px}.hardware-resource-gauge .values[data-v-9c68fb20]{font-size:12px;padding-left:10px}",""]),e.exports=t},"500e":function(e,t,s){"use strict";function r(e,t,s){return t=a(t),t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function a(e){var t=o(e,"string");return"symbol"===typeof t?t:String(t)}function o(e,t){if("object"!==typeof e||null===e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var r=s.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}class i{constructor(e,t,s=Number.POSITIVE_INFINITY){r(this,"fn",void 0),r(this,"pollRateMs",void 0),r(this,"maxRetries",void 0),r(this,"intervalId",void 0),r(this,"tryCount",0),this.fn=e||(()=>{}),this.pollRateMs=t,this.maxRetries=s}start(){this.stop(),this._intervalMethod(),this.intervalId=setInterval(()=>this._intervalMethod(),this.pollRateMs)}stop(){this.intervalId&&(clearInterval(this.intervalId),this.intervalId=void 0)}async _intervalMethod(){try{await this.fn(),this.tryCount=0}catch(e){console.error("Error encountered while polling",e),++this.tryCount>=this.maxRetries&&this.stop()}}}const n=3e4,l=2;t["a"]={data(){return{metricPoller:null}},mounted(){this.metricPoller=new i(this.loadMetrics,n,l),this.metricPoller.start()},beforeDestroy(){this.metricPoller.stop()}}},"52f0":function(e,t,s){var r=s("5eaa");t=r(!1),t.push([e.i,".group-bar[data-v-6cb6c888]{display:flex;flex-direction:row;justify-content:space-between}.group-bar .right[data-v-6cb6c888]{margin-top:5px;margin-bottom:3px}.group-bar .group-tab[data-v-6cb6c888],.group-bar .group-tab[data-v-6cb6c888]:after{height:50px}.group-bar .group-tab[data-v-6cb6c888]:after{right:-20px}.group-bar .group-tab SPAN[data-v-6cb6c888]{color:var(--body-text)!important}",""]),e.exports=t},"54f5":function(e,t,s){"use strict";s("556a")},"554f":function(e,t,s){var r=s("5eaa");t=r(!1),t.push([e.i,".overview-web-console .btn{line-height:24px;min-height:24px}",""]),e.exports=t},"556a":function(e,t,s){var r=s("f1e8");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var a=s("0ed3").default;a("a1a8c3a6",r,!0,{sourceMap:!1,shadowMode:!1})},"58cd":function(e,t,s){"use strict";s("a924")},"5d0b":function(e,t,s){"use strict";s("9572")},"5f49":function(e,t,s){"use strict";s.r(t);var r=function(){var e=this,t=e._self._c;return e.$fetchState.pending?t("Loading"):e.hasAddonSchema?e.hasPCIAddon?e.hasSchema?t("DeviceList",{attrs:{devices:e.devices,schema:e.schema}}):e._e():t("div",[t("Banner",{attrs:{color:"warning"}},[t("MessageLink",{attrs:{to:e.toPciAddon,"prefix-label":"harvester.usb.goSetting.prefix","middle-label":"harvester.usb.goSetting.middle","suffix-label":"harvester.usb.goSetting.suffix"}})],1)],1):t("div",[t("Banner",{attrs:{color:"warning"}},[e._v(" "+e._s(e.t("harvester.usb.noPermission"))+" ")])],1)},a=[],o=s("90cd"),i=s("b837"),n=s("2a88"),l=s("70a6"),c=s("203b"),d=s("7c47"),u=s("f7ff"),h={name:"ListUsbDevicePage",components:{Banner:n["a"],DeviceList:u["default"],Loading:l["a"],MessageLink:c["a"]},async fetch(){const e=this.$store.getters["currentProduct"].inStore;if(this.schema=this.$store.getters[e+"/schemaFor"](o["b"].USB_DEVICE),this.hasAddonSchema=this.$store.getters[e+"/schemaFor"](o["b"].ADD_ONS),this.hasSchema)try{var t,s;const r=await Object(i["a"])({usbDevices:this.$store.dispatch(e+"/findAll",{type:o["b"].USB_DEVICE}),addons:this.$store.dispatch(e+"/findAll",{type:o["b"].ADD_ONS})});this.hasPCIAddon=!0===(null===(t=r.addons.find(e=>e.name===d["b"].PCI_DEVICE_CONTROLLER))||void 0===t||null===(s=t.spec)||void 0===s?void 0:s.enabled)}catch(r){}},data(){return{hasAddonSchema:!1,hasPCIAddon:!1,schema:null,toPciAddon:`${o["b"].ADD_ONS}/harvester-system/${d["b"].PCI_DEVICE_CONTROLLER}?mode=edit`}},computed:{hasSchema(){return!!this.schema},devices(){const e=this.$store.getters["currentProduct"].inStore;return this.$store.getters[e+"/all"](o["b"].USB_DEVICE)||[]}},typeDisplay(){return this.t("harvester.usb.label")}},p=h,m=s("d802"),v=Object(m["a"])(p,r,a,!1,null,null,null);t["default"]=v.exports},"64a6":function(e,t,s){"use strict";s("eaea")},"68f9":function(e,t,s){!function(t,s){e.exports=s()}(0,(function(){"use strict";return function(e,t,s){var r=(new Date).getTimezoneOffset(),a=t.prototype;s.utc=function(e){return new t({date:e,utc:!0,args:arguments})},a.utc=function(){return s(this.toDate(),{locale:this.$L,utc:!0})},a.local=function(){return s(this.toDate(),{locale:this.$L,utc:!1})};var o=a.parse;a.parse=function(e){e.utc&&(this.$u=!0),this.$utils().u(e.$offset)||(this.$offset=e.$offset),o.call(this,e)};var i=a.init;a.init=function(){if(this.$u){var e=this.$d;this.$y=e.getUTCFullYear(),this.$M=e.getUTCMonth(),this.$D=e.getUTCDate(),this.$W=e.getUTCDay(),this.$H=e.getUTCHours(),this.$m=e.getUTCMinutes(),this.$s=e.getUTCSeconds(),this.$ms=e.getUTCMilliseconds()}else i.call(this)};var n=a.utcOffset;a.utcOffset=function(e){var t=this.$utils().u;if(t(e))return this.$u?0:t(this.$offset)?n.call(this):this.$offset;var s,a=Math.abs(e)<=16?60*e:e;return 0!==e?(s=this.local().add(a+r,"minute")).$offset=a:s=this.utc(),s};var l=a.format;a.format=function(e){var t=e||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return l.call(this,t)},a.valueOf=function(){var e=this.$utils().u(this.$offset)?0:this.$offset+r;return this.$d.valueOf()-6e4*e},a.isUTC=function(){return!!this.$u},a.toISOString=function(){return this.toDate().toISOString()},a.toString=function(){return this.toDate().toUTCString()};var c=a.toDate;a.toDate=function(e){return"s"===e&&this.$offset?s(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():c.call(this)}}}))},"6c3a":function(e,t,s){var r=s("5eaa");t=r(!1),t.push([e.i,".filter[data-v-019d9ce9]{display:inline-block}.filter .banner-item[data-v-019d9ce9]{display:inline-block;font-size:16px;margin-right:10px;padding:6px;border-radius:2px}.filter .banner-item i[data-v-019d9ce9]{cursor:pointer;vertical-align:middle}.filter-popup[data-v-019d9ce9]{width:300px}[data-v-019d9ce9] .box{display:grid;grid-template-columns:40% 40% 10%;-moz-column-gap:1.75%;column-gap:1.75%;margin-bottom:10px}.required[data-v-019d9ce9]{color:var(--error)}",""]),e.exports=t},"6e3a":function(e,t,s){"use strict";s.r(t),s.d(t,"NETWORK_HEADERS",(function(){return v}));var r=function(){var e=this,t=e._self._c;return e.$fetchState.pending?t("Loading"):t("div",[e.abnormalNetwork.length?e._l(e.abnormalNetwork,(function(s){return t("Banner",{key:s.name,attrs:{color:"error"}},[t("nuxt-link",{attrs:{to:s.to}},[e._v(" "+e._s(s.name)+": ")]),e._v(" "+e._s(s.message)+" ")],1)})):e._e(),t("ResourceTable",e._g(e._b({attrs:{headers:e.headers,"default-sort-by":"age",schema:e.schema,groupable:!0,rows:e.filterRows,"key-field":"_key"},scopedSlots:e._u([{key:"cell:state",fn:function({row:s}){return[t("div",{staticClass:"state"},[t("BadgeState",{attrs:{row:s}}),s.clusterNetworkErrorMessage?t("v-popover",{attrs:{trigger:"hover",offset:"16"}},[t("span",{staticClass:"tooltip-target"},[t("i",{staticClass:"icon icon-warning icon-lg text-warning"})]),t("template",{slot:"popover"},[t("p",[e._v(" "+e._s(s.clusterNetworkErrorMessage)+" ")])])],2):e._e()],1)]}}])},"ResourceTable",e.$attrs,!1),e.$listeners))],2)},a=[],o=s("dffb"),i=s("70a6"),n=s("efbe"),l=s("2c0b"),c=s("d6d1"),d=s("56a4"),u=s("873f"),h=s("90cd"),p=s("b837");const m={id:h["b"].NETWORK_ATTACHMENT,type:d["J"],attributes:{kind:h["b"].NETWORK_ATTACHMENT,namespaced:!0},metadata:{name:h["b"].NETWORK_ATTACHMENT}},v=[c["y"],c["z"],{name:"type",value:"vlanType",sort:"spec.config",labelKey:"tableHeaders.networkType"},{name:"vlan",value:"vlanId",sort:"spec.config",labelKey:"tableHeaders.networkVlan"},{name:"connectivity",value:"connectivity",labelKey:"tableHeaders.routeConnectivity",formatter:"BadgeStateFormatter",formatterOpts:{arbitrary:!0},width:130},c["c"]];var f={name:"HarvesterListNetworks",components:{ResourceTable:n["a"],Banner:o["a"],Loading:i["a"],BadgeState:l["a"]},async fetch(){const e=this.$store.getters["currentCluster"],t=e.isHarvester?"harvester":"cluster",s={rows:this.$store.dispatch(t+"/findAll",{type:d["y"]})};this.$store.getters[t+"/schemaFor"](h["b"].NODE_NETWORK)&&(s.hostNetworks=this.$store.dispatch(t+"/findAll",{type:h["b"].NODE_NETWORK})),this.$store.getters[t+"/schemaFor"](h["b"].CLUSTER_NETWORK)&&(s.clusterNetworks=this.$store.dispatch(t+"/findAll",{type:h["b"].CLUSTER_NETWORK}));const r=await Object(p["a"])(s);this.rows=r.rows,this.hostNetworks=r.hostNetworks||[]},data(){return{hash:{},rows:[],hosts:[],hostNetworks:[]}},computed:{headers(){return[c["T"],c["y"],c["z"],{name:"type",value:"vlanType",sort:"spec.config",labelKey:"tableHeaders.networkType"},{name:"clusterNetwork",value:"clusterNetwork",sort:"clusterNetwork",labelKey:"harvester.network.clusterNetwork.label"},{name:"vlan",value:"vlanId",sort:"spec.config",labelKey:"tableHeaders.networkVlan"},{name:"connectivity",value:"connectivity",labelKey:"tableHeaders.routeConnectivity",formatter:"NetworkRouteConnectivity",formatterOpts:{arbitrary:!0},width:130},c["c"]]},schema(){return m},abnormalNetwork(){const e=this.hostNetworks.filter(e=>!e.isReady);return e.map(e=>e.linkMessage)},filterRows(){return this.rows.filter(e=>{var t,s;return!(null!==(t=e.metadata)&&void 0!==t&&null!==(s=t.annotations)&&void 0!==s&&s[u["a"].STORAGE_NETWORK])})}},typeDisplay(){return this.$store.getters["type-map/labelFor"](m,99)}},g=f,b=(s("b83d"),s("d802")),y=Object(b["a"])(g,r,a,!1,null,"453e7022",null);t["default"]=y.exports},"6f7b":function(e,t,s){"use strict";s("82a4")},"713a":function(e,t,s){var r=s("5eaa");t=r(!1),t.push([e.i,".has-link[data-v-7a7c6c24]{cursor:pointer}.has-link[data-v-7a7c6c24]:hover{border-color:var(--link)}[data-v-7a7c6c24] .content{display:flex;justify-content:space-between;align-items:center}[data-v-7a7c6c24] .content H1,[data-v-7a7c6c24] .content H3{margin:0}[data-v-7a7c6c24] .content .chip{border-radius:2em;color:var(--body-bg);padding:0 1em}[data-v-7a7c6c24] .content .chip.warn-count{background:var(--warning)}[data-v-7a7c6c24] .content .chip.error-count{background:var(--error)}",""]),e.exports=t},"72ad":function(e,t,s){"use strict";s.r(t);var r=function(){var e=this,t=e._self._c;return e.$fetchState.pending?t("Loading"):t("ResourceTable",e._g(e._b({attrs:{headers:e.headers,groupable:!0,"default-sort-by":"age",namespaced:!0,rows:e.rows,schema:e.schema,"key-field":"_key"},scopedSlots:e._u([{key:"cell:state",fn:function(e){return[t("div",{staticClass:"state"},[t("HarvesterVolumeState",{staticClass:"vmstate",attrs:{row:e.row}})],1)]}},{key:"cell:AttachedVM",fn:function(s){return[t("div",[e.getVMName(s.row)?t("n-link",{attrs:{to:e.goTo(s.row)}},[e._v(" "+e._s(e.getVMName(s.row))+" ")]):e._e()],1)]}},{key:"col:name",fn:function({row:s}){return[t("td",[t("span",[null!==s&&void 0!==s&&s.detailLocation?t("n-link",{attrs:{to:s.detailLocation}},[e._v(" "+e._s(s.nameDisplay)+" "),s.isEncrypted?t("i",{staticClass:"icon icon-lock"}):e._e()]):t("span",[e._v(" "+e._s(s.nameDisplay)+" ")])],1)])]}}])},"ResourceTable",e.$attrs,!1),e.$listeners))},a=[],o=s("70a6"),i=s("efbe"),n=s("c3df"),l=s("1772"),c=s("56a4"),d=s("90cd"),u=s("d6d1");const h={id:d["b"].VOLUME,type:c["J"],attributes:{kind:d["b"].VOLUME,namespaced:!0},metadata:{name:d["b"].VOLUME}};var p={name:"HarvesterListVolume",components:{Loading:o["a"],ResourceTable:i["a"],HarvesterVolumeState:n["default"]},async fetch(){const e=this.$store.getters["currentProduct"].inStore,t={pvcs:this.$store.dispatch(e+"/findAll",{type:c["F"]}),pvs:this.$store.dispatch(e+"/findAll",{type:c["E"]}),vms:this.$store.dispatch(e+"/findAll",{type:d["b"].VM}),scs:this.$store.dispatch(e+"/findAll",{type:c["P"]})},s=this.$store.getters[e+"/schemaFor"](d["c"]);s&&(t.snapshots=this.$store.dispatch(e+"/findAll",{type:d["c"]})),this.$store.getters[e+"/schemaFor"](c["t"].VOLUMES)&&(t.longhornVolumes=this.$store.dispatch(e+"/findAll",{type:c["t"].VOLUMES})),this.$store.getters[e+"/schemaFor"](c["t"].ENGINES)&&(t.longhornEngines=this.$store.dispatch(e+"/findAll",{type:c["t"].ENGINES}));const r=await Object(l["a"])(t),a=this.$store.getters[e+"/schemaFor"](c["F"]);null!==a&&void 0!==a&&a.collectionMethods.find(e=>"post"===e.toLowerCase())||this.$store.dispatch("type-map/configureType",{match:d["b"].VOLUME,isCreatable:!1}),this.rows=r.pvcs},data(){return{rows:[]}},computed:{schema(){return h},headers(){return[u["T"],u["y"],u["z"],{name:"size",labelKey:"tableHeaders.size",value:"spec.resources.requests.storage",sort:"volumeSort",formatter:"Si",formatterOpts:{opts:{increment:1024,addSuffix:!0,maxExponent:3,minExponent:3,suffix:"i"},needParseSi:!0}},{name:"storageClass",labelKey:"tableHeaders.storageClass",value:"spec.storageClassName"},{name:"AttachedVM",labelKey:"tableHeaders.attachedVM",type:"attached",value:"spec.claimRef",sort:"name"},{name:"VolumeSnapshotCounts",labelKey:"harvester.tableHeaders.volumeSnapshotCounts",value:"relatedVolumeSnapshotCounts",formatter:"RelatedVolumeSnapshotCounts",sort:"name",align:"center"},{...u["T"],name:"phase",labelKey:"tableHeaders.phase",formatterOpts:{arbitrary:!0},value:"phaseState"},u["c"]]}},methods:{goTo(e){var t;return null===e||void 0===e||null===(t=e.attachVM)||void 0===t?void 0:t.detailLocation},getVMName(e){var t,s;return(null===(t=e.attachVM)||void 0===t||null===(s=t.metadata)||void 0===s?void 0:s.name)||""}},typeDisplay(){return this.$store.getters["type-map/labelFor"](h,99)}},m=p,v=(s("4097"),s("d802")),f=Object(v["a"])(m,r,a,!1,null,"60fb78f1",null);t["default"]=f.exports},7305:function(e,t,s){"use strict";s.r(t);var r=function(){var e=this,t=e._self._c;return e.$fetchState.pending?t("Loading"):t("div",[t("Masthead",{attrs:{schema:e.schema,resource:e.resource,"type-display":e.typeDisplay,parentNameOverride:"Virtual Machine schedule","create-button-label":e.t("harvester.schedule.createButtonText")}}),t("ResourceTable",e._g(e._b({attrs:{headers:e.headers,groupable:!0,rows:e.filteredRows,schema:e.schema,"key-field":"_key","default-sort-by":"age"},scopedSlots:e._u([{key:"col:name",fn:function({row:s}){return[t("td",[t("span",[e.getRow(s)?t("n-link",{attrs:{to:s.detailLocation}},[e._v(" "+e._s(s.nameDisplay)+" ")]):t("span",[e._v(" "+e._s(s.nameDisplay)+" ")])],1)])]}}])},"ResourceTable",e.$attrs,!1),e.$listeners))],1)},a=[],o=s("70a6"),i=s("d1ba"),n=s("efbe"),l=s("90cd"),c=s("1772"),d=s("d6d1"),u=s("c97e"),h=s("e603"),p={name:"HarvesterListSchedule",components:{ResourceTable:n["a"],Loading:o["a"],Masthead:i["a"]},props:{schema:{type:Object,required:!0}},async fetch(){const e=this.$store.getters["currentProduct"].inStore,t=await Object(c["a"])({vms:this.$store.dispatch(e+"/findAll",{type:l["b"].VM}),rows:this.$store.dispatch(e+"/findAll",{type:l["b"].SCHEDULE_VM_BACKUP})});this.rows=t.rows},data(){const e={...this.$route.params},t=e.resource;return{rows:[],settings:[],resource:t,to:l["b"].SETTING+"/backup-target?mode=edit"}},computed:{headers(){const e=[d["T"],d["y"],d["z"],{name:"sourceVm",labelKey:"harvester.tableHeaders.sourceVm",value:"spec.vmbackup.source.name",sort:"sourceVm",align:"center",formatter:"AttachVMWithName"},u["i"],u["f"],u["h"],u["g"],d["c"]];return e},filteredRows(){return this.rows.filter(e=>{var t;return(null===(t=e.spec)||void 0===t?void 0:t.type)!==h["a"].SNAPSHOT})},typeDisplay(){return this.t("harvester.schedule.label")}},methods:{getRow(e){var t,s,r;return null===(t=e.spec)||void 0===t||null===(s=t.vmbackup)||void 0===s||null===(r=s.source)||void 0===r?void 0:r.name}}},m=p,v=s("d802"),f=Object(v["a"])(m,r,a,!1,null,null,null);t["default"]=f.exports},"73e2":function(e,t,s){"use strict";var r=function(){var e=this,t=e._self._c;return t("div",{staticClass:"overview-web-console"},[t("ButtonDropdown",{attrs:{disabled:e.isOff,"no-drop":e.isOff,"button-label":"Console","dropdown-options":e.options,size:"sm"},on:{"click-action":e.handleDropdown}})],1)},a=[],o=s("98f3"),i=s("9ce4"),n=s("44f6"),l=s("4aac"),c={name:"VMConsoleBar",components:{ButtonDropdown:o["a"]},props:{resource:{type:Object,required:!0,default:()=>({})}},computed:{...Object(i["a"])({t:"i18n/t"}),isOff(){return this.resource.stateDisplay===n["OFF"]},options(){return[{label:this.t("harvester.virtualMachine.console.novnc"),value:"vnc"},{label:this.t("harvester.virtualMachine.console.serial"),value:"serial"}]}},methods:{handleDropdown(e){this.show(e.value)},show(e){var t,s,r,a;let o=null===(t=this.resource.metadata)||void 0===t||null===(s=t.ownerReferences)||void 0===s||null===(r=s[0])||void 0===r?void 0:r.uid;void 0===o&&(o=this.resource.metadata.uid);const i=window.location.host,n=window.location.pathname.replace(this.$route.path,""),c=null===(a=this.$route)||void 0===a?void 0:a.params,d=`https://${i}${n}/${l["PRODUCT_NAME"]}/c/${c.cluster}/console/${o}/${e}`;window.open(d,"_blank",`toolbars=0,width=${screen.width-200},height=${screen.height-200},left=0,top=0,noreferrer`)},isEmpty(e){return void 0!==e&&0===Object.keys(e).length}}},d=c,u=(s("00fb"),s("d802")),h=Object(u["a"])(d,r,a,!1,null,null,null);t["a"]=h.exports},"748a":function(e,t,s){var r=s("5eaa");t=r(!1),t.push([e.i,".cluster-dashboard-glance[data-v-5436c5f1]{border-top:1px solid var(--border);border-bottom:1px solid var(--border);padding:20px 0;display:flex}.cluster-dashboard-glance>*[data-v-5436c5f1]{margin-right:40px}.cluster-dashboard-glance>* SPAN[data-v-5436c5f1]{font-weight:700}.events[data-v-5436c5f1]{margin-top:30px}",""]),e.exports=t},7542:function(e,t,s){var r=s("a9f7");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var a=s("0ed3").default;a("2bc5ad22",r,!0,{sourceMap:!1,shadowMode:!1})},"79d7":function(e,t,s){"use strict";var r=function(){var e=this,t=e._self._c;return t("div",{staticClass:"filter"},[e.parentSriov?t("span",{staticClass:"banner-item bg-warning"},[e._v(" "+e._s(e.parentSriov)+" "),t("i",{staticClass:"icon icon-close",on:{click:function(t){return e.remove()}}})]):e._e(),t("v-popover",{attrs:{trigger:"click",placement:"bottom-end"},scopedSlots:e._u([{key:"popover",fn:function(){return[t("div",{staticClass:"filter-popup"},[t("div",[t("LabeledSelect",{attrs:{options:e.parentSriovOptions,searchable:!0,label:e.label},model:{value:e.parentSriov,callback:function(t){e.parentSriov=t},expression:"parentSriov"}})],1)])]},proxy:!0}])},[e._t("header",(function(){return[t("button",{ref:"actionDropDown",staticClass:"btn bg-primary mr-10"},[e._t("title",(function(){return[e._v(" "+e._s(e.label)+" ")]}))],2)]}))],2)],1)},a=[],o=s("53fe"),i={name:"HarvesterFilterLabel",components:{LabeledSelect:o["a"]},props:{rows:{type:Array,required:!0},parentSriovOptions:{type:Array,required:!0},parentSriovLabel:{type:String,required:!0},label:{type:String,required:!0}},data(){var e;return{parentSriov:(null===(e=this.$route.query)||void 0===e?void 0:e.parentSriov)||null}},methods:{remove(){this.parentSriov=null,this.filterRows()},filterRows(){const e=this.rows.filter(e=>{if(!this.parentSriov)return!0;const t=e.labels[this.parentSriovLabel];return t===this.parentSriov});this.$emit("change-rows",e,this.parentSriov)}},watch:{parentSriov:{deep:!0,immediate:!0,handler(){this.filterRows()}}}},n=i,l=(s("20e2"),s("d802")),c=Object(l["a"])(n,r,a,!1,null,"019d9ce9",null);t["a"]=c.exports},"7aae":function(e,t,s){"use strict";s.r(t);var r=function(){var e=this,t=e._self._c;return e.$fetchState.pending?t("Loading"):t("ResourceTable",e._g(e._b({attrs:{headers:e.headers,"sub-rows":!0,groupable:!1,rows:e.rows,"group-title-by":e.groupTitleBy,"group-by":e.groupBy,schema:e.schema,"group-can-action":!0,"key-field":"_key"},scopedSlots:e._u([{key:"group-by",fn:function(s){return[t("div",{staticClass:"group-bar"},[t("div",{staticClass:"group-tab"},[t("div",{directives:[{name:"clean-html",rawName:"v-clean-html",value:e.templateLabel(s.group),expression:"templateLabel(group.group)"}],staticClass:"project-name"})]),t("div",{staticClass:"right"},[t("div",{staticClass:"age"},[t("LiveData",{attrs:{value:e.valueFor(s.group),row:e.templateResource(s.group)}})],1),t("button",{staticClass:"btn btn-sm actions mr-10 role-multi-action",attrs:{type:"button"},on:{click:function(t){return e.showActions(t,s.group)}}},[t("i",{staticClass:"icon icon-actions"})])])])]}},{key:"col:defaultVersion",fn:function({row:e}){return[e.isDefaultVersion?t("td",[t("i",{staticClass:"icon icon-checkmark"})]):t("td")]}}])},"ResourceTable",e.$attrs,!1),e.$listeners))},a=[],o=s("70a6"),i=function(){var e=this,t=e._self._c;return e.suffixedLabel?e.showTooltip?t("span",{directives:[{name:"clean-tooltip",rawName:"v-clean-tooltip",value:{content:e.title,placement:e.tooltipPlacement},expression:"{content: title, placement: tooltipPlacement}"}],staticClass:"live-date"},[e._v(" "+e._s(e.suffixedLabel)+" ")]):t("span",{staticClass:"live-date"},[e._v(" "+e._s(e.suffixedLabel)+" ")]):t("span",{staticClass:"text-muted"},[e._v(" — ")])},n=[],l=s("050d"),c=s.n(l),d=s("005f"),u=s("06f6"),h=s("bea0"),p={props:{value:{type:[String,Number],default:""},addSuffix:{type:Boolean,default:!1},addPrefix:{type:Boolean,default:!1},suffix:{type:String,default:"ago"},tooltipPlacement:{type:String,default:"auto"},showTooltip:{type:Boolean,default:!0}},mounted(){this.liveUpdate(c()())},data(){return{label:"-"}},computed:{title(){if(!this.value)return"";const e=Object(u["g"])(this.$store.getters["prefs/get"](d["c"])),t=Object(u["g"])(this.$store.getters["prefs/get"](d["s"])),s=c()(this.value).format(`${e} ${t}`);return s},suffixedLabel(){if(!this.value)return this.label;let e=this.label||"";if(e&&this.addSuffix){const t=this.$store.getters["i18n/exists"],s="suffix."+this.suffix,r=t(s)?this.t(s):this.suffix;e=`${e} ${r}`}return e},dayValue(){return this.value?c()(this.value):null}},watch:{value(){this.liveUpdate(c()())}},methods:{liveUpdate(e){if(!this.dayValue)return"-"!==this.label&&(this.label="-"),300;const t=Object(h["a"])(this.dayValue,e),s=t.diff<0||!this.addPrefix?"":"-";let r=t.label;return 0===t.diff?r="Just now":(r+=` ${s}${this.t(t.unitsKey,{count:t.label})}`,r=r.trim()),this.label!==r&&(this.label=r),t.next||1}}},m=p,v=s("d802"),f=Object(v["a"])(m,i,n,!1,null,null,null),g=f.exports,b=s("efbe"),y=s("90cd"),_=s("b837"),w=s("d6d1"),S={name:"HarvesterListTemplate",components:{ResourceTable:b["a"],LiveData:g,Loading:o["a"]},props:{schema:{type:Object,required:!0}},async fetch(){const e=this.$store.getters["currentProduct"].inStore,t=await Object(_["a"])({template:this.$store.dispatch(e+"/findAll",{type:y["b"].VM_TEMPLATE}),templateVersion:this.$store.dispatch(e+"/findAll",{type:y["b"].VM_VERSION})});this.template=t.template,this.templateVersion=t.templateVersion},data(){return{template:[],templateVersion:[]}},computed:{headers(){return[w["T"],w["y"],w["z"],{name:"defaultVersion",value:"id",labelKey:"tableHeaders.defaultVersion"},w["c"]]},rows(){return[...this.templateVersion]},groupBy(){return"spec.templateId"},groupTitleBy(){return y["b"].VM_TEMPLATE}},methods:{showActions(e,t){const s=t.rows[0].template;this.$store.commit("action-menu/show",{resources:[s],elem:e.target})},valueFor(e){var t,s;const r=null===e||void 0===e||null===(t=e.rows)||void 0===t?void 0:t[0].template;return null===r||void 0===r||null===(s=r.metadata)||void 0===s?void 0:s.creationTimestamp},templateLabel(e){return e.key},templateResource(e){var t;return null===e||void 0===e||null===(t=e.rows)||void 0===t?void 0:t[0].template}}},C=S,T=(s("f26d"),Object(v["a"])(C,r,a,!1,null,"149cb180",null));t["default"]=T.exports},"7b0f":function(e,t,s){var r=s("fd53");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var a=s("0ed3").default;a("36b5090e",r,!0,{sourceMap:!1,shadowMode:!1})},"7b9a":function(e,t,s){var r=s("5eaa");t=r(!1),t.push([e.i,".settings-banner[data-v-5963cb06]{margin-top:0}.advanced-setting[data-v-5963cb06]{border:1px solid var(--border);padding:20px;border-radius:var(--border-radius)}.advanced-setting h1[data-v-5963cb06]{font-size:14px}.advanced-setting h2[data-v-5963cb06]{font-size:12px;margin-bottom:0;opacity:.8}.settings-value pre[data-v-5963cb06]{margin:0}.header[data-v-5963cb06]{display:flex;margin-bottom:20px}.title[data-v-5963cb06]{flex:1}.modified[data-v-5963cb06]{border:1px solid var(--primary);border-radius:5px}.experimental[data-v-5963cb06],.modified[data-v-5963cb06]{margin-left:10px;padding:2px 10px;font-size:12px}.experimental[data-v-5963cb06]{border:1px solid var(--error);border-radius:5px}",""]),e.exports=t},"7ce5":function(e,t,s){"use strict";var r=function(){var e=this,t=e._self._c;return t("div",{directives:[{name:"trim-whitespace",rawName:"v-trim-whitespace"}],class:{progress:!0,multi:e.pieces.length>1}},e._l(e.pieces,(function(e,s){return t("div",{directives:[{name:"trim-whitespace",rawName:"v-trim-whitespace"}],key:s,class:{piece:!0,[e.color]:!0},style:e.style})})),0)},a=[],o=s("7592"),i=s("1832"),n={props:{values:{type:Array,required:!0},colorKey:{type:String,default:"color"},labelKey:{type:String,default:"label"},valueKey:{type:String,default:"value"},min:{type:Number,default:0},max:{type:Number,default:null},minPercent:{type:Number,default:5},showZeros:{type:Boolean,default:!1}},computed:{pieces(){const e=[];for(const o of this.values){const t=Object(i["g"])(o,this.colorKey),s=Object(i["g"])(o,this.labelKey),r=Object(i["g"])(o,this.valueKey);(0!==r||this.showZeros)&&e.push({color:t,label:s,value:r})}const t=this.minPercent||0,s=this.min||0;let r=this.max,a=0;this.max||(r=100,e.length&&(r=e.map(e=>e.value).reduce((e,t)=>e+t)));for(const o of e){const e=Math.max(t,l(o.value,s,r));o.percent=e,a+=e}a>100&&(Object(o["b"])(e,"percent",!0)[0].percent-=a-100);for(const o of e)o.style=`width: ${o.percent}%`;return e.filter(e=>e.percent)}}};function l(e,t,s){e=Math.max(t,Math.min(s,e));let r=e/(s-t)*100;return r=Math.floor(100*r)/100,r}var c=n,d=(s("54f5"),s("d802")),u=Object(d["a"])(c,r,a,!1,null,"2a3a568d",null);t["a"]=u.exports},"7df9":function(e,t,s){var r=s("5eaa");t=r(!1),t.push([e.i,".empty[data-v-5884831e]{flex:1;display:flex;align-items:center;justify-content:center;flex-direction:column;margin-top:6em;min-height:100%}i[data-v-5884831e]{font-size:10em;opacity:1%}h2[data-v-5884831e],i[data-v-5884831e]{margin:0}h3[data-v-5884831e]{margin-top:2em}",""]),e.exports=t},"7e4b":function(e,t,s){"use strict";var r=function(){var e=this,t=e._self._c;return t("div",{staticClass:"vm-schedule-filter"},[[e.selected?t("span",{staticClass:"banner-item bg-warning"},[e._v(" "+e._s(e.t("harvester.tableHeaders.vmSchedule"))+e._s(e.selected?" = "+e.selected:"")),t("i",{staticClass:"icon icon-close ml-5",on:{click:e.remove}})]):e._e()],t("v-popover",{attrs:{trigger:e.scheduleOptions.length?"click":"manual",placement:"bottom-end"}},[e._t("header",(function(){return[t("button",{ref:"actionDropDown",staticClass:"btn bg-primary mr-10"},[e._t("title",(function(){return[e._v(" "+e._s(e.t("harvester.fields.filterSchedule"))+" ")]}))],2)]})),t("template",{slot:"popover"},[t("div",{staticClass:"filter-popup"},[t("RadioGroup",{staticClass:"mr-10 ml-10",attrs:{name:"model",options:e.scheduleOptions,labels:e.scheduleOptions},on:{input:e.onSelect},model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}})],1)])],2)],2)},a=[],o=s("f032"),i={name:"HarvesterFilterVMSchedule",components:{RadioGroup:o["b"]},props:{rows:{type:Array,required:!0}},data(){return{selected:""}},computed:{scheduleOptions(){const e=this.rows.map(e=>e.sourceSchedule).filter(e=>e);return Array.from(new Set(e))}},methods:{onSelect(e){this.selected=e,this.filterRows()},remove(){this.selected="",this.filterRows()},filterRows(){if(!this.selected)return void this.$emit("change-rows",this.rows);const e=this.rows.filter(e=>e.sourceSchedule===this.selected);this.$emit("change-rows",e,this.selected)}},watch:{rows:{deep:!0,immediate:!1,handler(){this.filterRows()}}}},n=i,l=(s("1e1b"),s("d802")),c=Object(l["a"])(n,r,a,!1,null,"24cc459c",null);t["a"]=c.exports},8077:function(e,t,s){"use strict";s.r(t);var r=function(){var e=this,t=e._self._c;return e.$fetchState.pending?t("Loading"):e.listSchema?t("div",[!1===e.loggingEnabled?t("Banner",{attrs:{color:"info"}},[t("MessageLink",{attrs:{to:e.to,"prefix-label":"harvester.logging.diabledTips.prefix","middle-label":"harvester.logging.diabledTips.middle","suffix-label":"harvester.logging.diabledTips.suffix"}})],1):e._e(),t("ResourceTable",{attrs:{schema:e.schema,rows:e.rows,"ignore-filter":!0,groupable:!1}})],1):t("Banner",{attrs:{color:"warning"}},[e._v(" "+e._s(e.t("harvester.generic.noSchema",{schema:e.schema.id}))+" ")])},a=[],o=s("b837"),i=s("efbe"),n=s("2a88"),l=s("203b"),c=s("70a6"),d=s("56a4"),u=s("90cd");const h={id:u["b"].OUTPUT,type:d["J"],attributes:{kind:u["b"].OUTPUT,namespaced:!0},metadata:{name:u["b"].OUTPUT}},p="cattle-logging-system/rancher-logging";var m={name:"ListApps",components:{Loading:c["a"],ResourceTable:i["a"],Banner:n["a"],MessageLink:l["a"]},async fetch(){var e;const t=this.$store.getters["currentProduct"].inStore,s={};this.listSchema=this.$store.getters[t+"/schemaFor"](d["s"].OUTPUT),this.listSchema&&(s.rows=this.$store.dispatch(t+"/findAll",{type:d["s"].OUTPUT})),this.$store.getters[t+"/schemaFor"](u["b"].ADD_ONS)&&(s.loggingAddon=this.$store.dispatch(t+"/find",{type:u["b"].ADD_ONS,id:p}));const r=await Object(o["a"])(s);this.rows=r.rows,this.loggingAddon=r.loggingAddon,this.$store.dispatch("type-map/configureType",{match:u["b"].OUTPUT,isCreatable:this.listSchema&&(null===(e=this.listSchema)||void 0===e?void 0:e.collectionMethods.find(e=>"post"===e.toLowerCase()))})},data(){return{rows:[],listSchema:null,loggingAddon:null}},computed:{schema(){return h},to(){return u["b"].ADD_ONS+"/cattle-logging-system/rancher-logging?mode=edit#basic"},loggingEnabled(){var e,t;return null===(e=this.loggingAddon)||void 0===e||null===(t=e.spec)||void 0===t?void 0:t.enabled}},typeDisplay(){return this.$store.getters["type-map/labelFor"](h,99)}},v=m,f=s("d802"),g=Object(f["a"])(v,r,a,!1,null,null,null);t["default"]=g.exports},"82a4":function(e,t,s){var r=s("4d8e");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var a=s("0ed3").default;a("ac8a41c6",r,!0,{sourceMap:!1,shadowMode:!1})},"85d7":function(e,t,s){"use strict";s("d6fb")},8614:function(e,t,s){"use strict";s.r(t);var r=function(){var e=this,t=e._self._c;return e.$fetchState.pending?t("Loading"):t("div",[!1===e.monitoringEnabled?t("Banner",{attrs:{color:"info"}},[t("MessageLink",{attrs:{to:e.to,"prefix-label":"harvester.monitoring.alertmanagerConfig.diabledMonitoringTips.prefix","middle-label":"harvester.monitoring.alertmanagerConfig.diabledMonitoringTips.middle","suffix-label":"harvester.monitoring.alertmanagerConfig.diabledMonitoringTips.suffix"}})],1):e._e(),!1===e.alertingEnabled?t("Banner",{attrs:{color:"info"}},[t("MessageLink",{attrs:{to:e.to,"prefix-label":"harvester.monitoring.alertmanagerConfig.diabledAlertingTips.prefix","middle-label":"harvester.monitoring.alertmanagerConfig.diabledAlertingTips.middle","suffix-label":"harvester.monitoring.alertmanagerConfig.diabledAlertingTips.suffix"}})],1):e._e(),t("Banner",{attrs:{color:"info"}},[e._v(" "+e._s(e.t("monitoring.alertmanagerConfig.description"))+" ")]),t("ResourceTable",e._g(e._b({attrs:{groupable:!0,schema:e.schema,rows:e.rows,"key-field":"_key"}},"ResourceTable",e.$attrs,!1),e.$listeners))],1)},a=[],o=s("7838"),i=s.n(o),n=s("b837"),l=s("dffb"),c=s("203b"),d=s("efbe"),u=s("70a6"),h=s("56a4"),p=s("90cd");const m={id:p["b"].ALERTMANAGERCONFIG,type:h["J"],attributes:{kind:p["b"].ALERTMANAGERCONFIG,namespaced:!0},metadata:{name:p["b"].ALERTMANAGERCONFIG}},v="cattle-monitoring-system/rancher-monitoring";var f={name:"ListAlertManagerConfigs",components:{Banner:l["a"],Loading:u["a"],ResourceTable:d["a"],MessageLink:c["a"]},async fetch(){const e=this.$store.getters["currentProduct"].inStore,t={rows:this.$store.dispatch(e+"/findAll",{type:h["w"].ALERTMANAGERCONFIG})};this.$store.getters[e+"/schemaFor"](p["b"].ADD_ONS)&&(t.monitoring=this.$store.dispatch(e+"/find",{type:p["b"].ADD_ONS,id:v}));const s=await Object(n["a"])(t);this.rows=s.rows,this.monitoringAddon=s.monitoring;const r=this.$store.getters[e+"/schemaFor"](h["w"].ALERTMANAGERCONFIG);this.$store.dispatch("type-map/configureType",{match:p["b"].ALERTMANAGERCONFIG,isCreatable:null===r||void 0===r?void 0:r.collectionMethods.find(e=>"post"===e.toLowerCase())})},data(){return{rows:null,monitoringAddon:null}},computed:{schema(){return m},to(){return p["b"].ADD_ONS+"/cattle-monitoring-system/rancher-monitoring?mode=edit#alertmanager"},monitoringEnabled(){var e,t;return null===(e=this.monitoringAddon)||void 0===e||null===(t=e.spec)||void 0===t?void 0:t.enabled},alertingEnabled(){var e,t,s;const r=i.a.load(null===(e=this.monitoringAddon)||void 0===e||null===(t=e.spec)||void 0===t?void 0:t.valuesContent);return null===r||void 0===r||null===(s=r.alertmanager)||void 0===s?void 0:s.enabled}},typeDisplay(){return this.$store.getters["type-map/labelFor"](m,99)}},g=f,b=(s("331b"),s("d802")),y=Object(b["a"])(g,r,a,!1,null,"5884831e",null);t["default"]=y.exports},"8fcc":function(e,t,s){"use strict";s.r(t);var r=function(){var e=this,t=e._self._c;return t("ResourceTable",{attrs:{headers:e.headers,schema:e.schema,rows:e.filterRows,"use-query-params-for-simple-filtering":!0,"sort-generation-fn":e.sortGenerationFn,"rows-per-page":10},scopedSlots:e._u([{key:"more-header-middle",fn:function(){return[t("FilterBySriov",{ref:"filterByParentSRIOV",attrs:{"parent-sriov-options":e.parentSriovOptions,"parent-sriov-label":e.parentSriovLabel,label:e.t("harvester.sriovgpu.parentSriov"),rows:e.rows},on:{"change-rows":e.changeRows}})]},proxy:!0}])})},a=[],o=s("efbe"),i=s("79d7"),n=s("90cd"),l=s("873f"),c=s("d6d1"),d=s("b837"),u={name:"VGpuDeviceList",components:{ResourceTable:o["a"],FilterBySriov:i["a"]},props:{schema:{type:Object,required:!0},devices:{type:Array,required:!0}},async fetch(){const e=this.$store.getters["currentProduct"].inStore,t={sriovgpus:this.$store.dispatch(e+"/findAll",{type:n["b"].SR_IOVGPU_DEVICE})};await Object(d["a"])(t)},data(){const e=[{...c["T"]},c["R"],{name:"vGPUTypeName",label:"vGPU Type",value:"spec.vGPUTypeName",sort:["spec.vGPUTypeName"]},{name:"node",labelKey:"tableHeaders.node",value:"spec.nodeName",sort:["spec.nodeName"]},{name:"address",label:"Address",value:"spec.address",sort:["spec.address"]}];return{headers:e,rows:[],parentSriov:null,filterRows:[]}},watch:{devices:{handler(e){this.rows=e,this.filterRows=this.rows},immediate:!0}},computed:{parentSriovOptions(){const e=this.$store.getters["currentProduct"].inStore,t=this.$store.getters[e+"/all"](n["b"].SR_IOVGPU_DEVICE)||[];return t.map(e=>e.id)},parentSriovLabel(){return l["a"].PARENT_SRIOV_GPU}},methods:{changeRows(e,t){this.$set(this,"filterRows",e),this.$set(this,"parentSriov",t)},sortGenerationFn(){let e=Object(o["b"])(this.schema,this.$store);return this.parentSriov&&(e+=this.parentSriov),e}}},h=u,p=s("d802"),m=Object(p["a"])(h,r,a,!1,null,null,null);t["default"]=m.exports},"91d8":function(e,t,s){var r=s("5eaa");t=r(!1),t.push([e.i,".state[data-v-60fb78f1]{display:flex}.state .vmstate[data-v-60fb78f1]{margin-right:6px}",""]),e.exports=t},"91e0":function(e,t,s){"use strict";s("ab69")},"93fe":function(e,t,s){"use strict";s.r(t);var r=function(){var e=this,t=e._self._c;return e.$fetchState.pending?t("Loading"):t("div",[t("Banner",{staticClass:"settings-banner",attrs:{color:"warning"}},[t("div",[e._v(" "+e._s(e.t("harvester.setting.modifiedMessage"))+" ")])]),t("Tabbed",{staticClass:"mt-30"},[t("Tab",{attrs:{name:"advanced",label:e.t("harvester.setting.tabs.advanced"),weight:99}},[t("Settings",{attrs:{settings:e.settings,category:"advanced"}})],1),t("Tab",{attrs:{name:"ui",label:e.t("harvester.setting.tabs.ui"),weight:89}},[t("Settings",{attrs:{settings:e.settings,category:"ui"}})],1)],1)],1)},a=[],o=s("9ce4"),i=s("dffb"),n=s("70a6"),l=s("005f"),c=s("56a4"),d=s("90cd"),u=s("b837"),h=s("fa85"),p=s("ad61"),m=s("5ef9"),v=function(){var e=this,t=e._self._c;return t("div",e._l(e.categorySettings,(function(s){return t("div",{key:s.id,staticClass:"advanced-setting mb-20"},[t("div",{staticClass:"header"},[t("div",{staticClass:"title"},[t("h1",[e._v(" "+e._s(s.id)+" "),s.customized?t("span",{staticClass:"modified"},[e._v(" Modified ")]):e._e(),s.experimental?t("span",{directives:[{name:"clean-tooltip",rawName:"v-clean-tooltip",value:e.t("advancedSettings.experimental"),expression:"t('advancedSettings.experimental')"}],staticClass:"experimental"},[e._v(" Experimental ")]):e._e()]),t("h2",{directives:[{name:"clean-html",rawName:"v-clean-html",value:e.t(s.description,{},!0),expression:"t(setting.description, {}, true)"}]})]),s.hasActions?t("div",{staticClass:"action",attrs:{id:s.id}},[t("button",{staticClass:"btn btn-sm role-multi-action actions",attrs:{"aria-haspopup":"true","aria-expanded":"false",type:"button"},on:{click:function(t){return e.showActionMenu(t,s)}}},[t("i",{staticClass:"icon icon-actions"})])]):e._e()]),t("div",{attrs:{value:""}},[s.hide?e._e():t("div",{staticClass:"settings-value"},["json"===s.kind?t("pre",[e._v(e._s(s.json))]):"multiline"===s.kind?t("pre",[e._v(e._s(s.data.value||s.data.default))]):"enum"===s.kind?t("pre",[e._v(e._s(e.t(s.enum)))]):"custom"===s.kind&&s.custom?t("pre",[e._v(e._s(s.custom))]):s.data.value||s.data.default?t("pre",[e._v(e._s(s.data.value||s.data.default))]):t("pre",{staticClass:"text-muted"},[e._v("<"+e._s(e.t("advancedSettings.none"))+">")])]),t("div",{staticClass:"mt-5"},[s.hide?t("button",{staticClass:"btn btn-sm role-primary",on:{click:function(t){return e.toggleHide(s)}}},[e._v(" "+e._s(e.t("advancedSettings.show"))+" "+e._s(s.id)+" ")]):e._e(),s.canHide&&!s.hide?t("button",{staticClass:"btn btn-sm role-primary",on:{click:function(t){return e.toggleHide(s)}}},[e._v(" "+e._s(e.t("advancedSettings.hide"))+" "+e._s(s.id)+" ")]):e._e(),s.id===e.HCI_SETTING.BACKUP_TARGET?t("AsyncButton",{staticClass:"backupButton ml-5",attrs:{mode:"apply",size:"sm",delay:0,"action-label":e.t("harvester.backup.message.testConnect.actionLabel"),"waiting-label":e.t("harvester.backup.message.testConnect.waitingLabel"),"success-label":e.t("harvester.backup.message.testConnect.successLabel")},on:{click:t=>e.testConnect(t,s.data.value)}}):e._e()],1)]),s.data.errMessage?t("Banner",{staticClass:"settings-banner",attrs:{color:"error mt-5"}},[e._v(" "+e._s(s.data.errMessage)+" ")]):e._e()],1)})),0)},f=[],g=s("a967");const b={ui:["branding","ui-source","ui-plugin-index","ui-index"]};var y={name:"SettingLists",components:{AsyncButton:g["b"],Banner:i["a"]},props:{settings:{type:Array,required:!0},category:{type:String,required:!0}},data(){const e=this.filterCategorySettings();return{HCI_SETTING:h["b"],categorySettings:e}},computed:{...Object(o["a"])({t:"i18n/t"})},watch:{settings:{deep:!0,handler(){this.$set(this,"categorySettings",this.filterCategorySettings())}}},methods:{filterCategorySettings(){return this.settings.filter(e=>{if("advanced"!==this.category)return(b[this.category]||[]).find(t=>t===e.id);if("advanced"===this.category){const t=Object.keys(b);return!t.some(t=>(b[t]||[]).find(t=>t===e.id))}})||[]},showActionMenu(e,t){const s=e.srcElement;this.$store.commit("action-menu/show",{resources:t.data,elem:s})},getSettingOption(e){return h["a"].find(t=>t.id===e)},toggleHide(e){this.categorySettings.find(t=>{t.id===e.id&&(t.hide=!t.hide)})},async testConnect(e,t){try{const s=this.$store.getters["harvester-common/getHarvesterClusterUrl"]("v1/harvester/backuptarget/healthz"),r=await this.$store.dispatch("harvester/request",{url:s}),a=JSON.parse(t);200===(null===r||void 0===r?void 0:r._status)&&this.$store.dispatch("growl/success",{title:this.t("harvester.notification.title.succeed"),message:this.t("harvester.backup.message.testConnect.successMessage",{endpoint:null===a||void 0===a?void 0:a.endpoint})},{root:!0}),e(!0)}catch(s){400!==(null===s||void 0===s?void 0:s._status)&&503!==(null===s||void 0===s?void 0:s._status)||this.$store.dispatch("growl/error",{title:this.t("harvester.notification.title.error"),message:null===s||void 0===s?void 0:s.errors[0]},{root:!0}),e(!1)}}}},_=y,w=(s("c704"),s("d802")),S=Object(w["a"])(_,v,f,!1,null,"5963cb06",null),C=S.exports,T={components:{Banner:i["a"],Loading:n["a"],Tabbed:p["a"],Tab:m["a"],Settings:C},async fetch(){let e;try{e=this.$store.getters["prefs/get"](l["t"])}catch{e=this.$store.getters["prefs/get"](l["d"])}const t=!!this.$store.getters["isSingleProduct"],s=this.$store.getters["currentProduct"].inStore,r={harvesterSettings:this.$store.dispatch(s+"/findAll",{type:d["b"].SETTING})};t&&(r.settings=this.$store.dispatch("management/findAll",{type:c["u"].SETTING}));const a=await Object(u["a"])(r);let o=[];o.push(...a.harvesterSettings),t&&(o=[...a.settings,...o]);const i=o.reduce((e,t)=>(e[t.id]=t,e),{}),n=[];let p=h["a"];this.isStandaloneHarvester&&(p={...p,...h["c"]}),Object.keys(p).forEach(t=>{var s;if(!i[t])return;const r=(null===(s=p[t])||void 0===s?void 0:s.alias)||t,a={...p[t],id:r,data:i[t]};a.hide=a.canHide="json"===a.kind||"multiline"===a.kind||"json"===a.customFormatter||"json"===a.data.customFormatter,a.hasActions=!a.readOnly||e,n.push(a)}),this.initSettings=n.sort((e,t)=>e.id<t.id?-1:e.id>t.id?1:0)},data(){return{initSettings:[]}},computed:{...Object(o["a"])({t:"i18n/t"}),...Object(o["a"])(["isStandaloneHarvester"]),settings(){return this.initSettings.map(e=>{var t,s;const r=e,a=null===(t=r.data)||void 0===t||null===(s=t.type)||void 0===s?void 0:s.includes("harvesterhci");if("json"===r.kind)try{r.json=JSON.stringify(JSON.parse(r.data.value||r.data.default||"{}"),null,2)}catch(o){console.error(r.data.id+": wrong format"),r.json={}}else if("enum"===r.kind){const e=r.data.value||r.data.default;r.enum=a?`advancedSettings.enum.harv-${r.id}.${e}`:`advancedSettings.enum.${r.id}.${e}`}else"custom"===r.kind&&(r.custom=r.data.customValue);return{...r,description:a?"advancedSettings.descriptions.harv-"+r.id:"advancedSettings.descriptions."+r.id,customized:!r.readOnly&&r.data.value&&r.data.value!==r.data.default||r.data.hasCustomized}})}}},$=T,k=(s("c6db"),Object(w["a"])($,r,a,!1,null,"2ef0d636",null));t["default"]=k.exports},"943c":function(e,t,s){var r=s("5eaa");t=r(!1),t.push([e.i,"[data-v-567156f9] .sortable-table TD .badge-state{max-width:250px;text-overflow:clip}[data-v-567156f9] .cell-name{white-space:nowrap}",""]),e.exports=t},9572:function(e,t,s){var r=s("ef5a");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var a=s("0ed3").default;a("fa26a3f4",r,!0,{sourceMap:!1,shadowMode:!1})},"984b":function(e,t,s){"use strict";s.r(t),s.d(t,"VM_HEADERS",(function(){return m}));var r=function(){var e=this,t=e._self._c;return e.$fetchState.pending?t("Loading"):t("div",[t("ResourceTable",e._g(e._b({attrs:{headers:e.headers,"default-sort-by":"age",rows:e.rows,schema:e.schema,groupable:!0,"key-field":"_key"},scopedSlots:e._u([{key:"cell:state",fn:function(s){return[t("div",{staticClass:"state"},[t("HarvesterVmState",{staticClass:"vmstate",attrs:{row:s.row,"all-node-network":e.allNodeNetworks,"all-cluster-network":e.allClusterNetworks}})],1)]}},{key:"cell:name",fn:function(s){return[t("div",{staticClass:"name-console"},[s.row.type!==e.HCI.VMI?t("n-link",{attrs:{to:s.row.detailLocation}},[e._v(" "+e._s(s.row.metadata.name)+" "),e.lockIconTooltipMessage(s.row)?t("i",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.lockIconTooltipMessage(s.row),expression:"lockIconTooltipMessage(scope.row)"}],staticClass:"icon icon-lock",class:{"green-icon":"all"===s.row.encryptedVolumeType,"yellow-icon":"partial"===s.row.encryptedVolumeType}}):e._e()]):t("span",[e._v(" "+e._s(s.row.metadata.name)+" ")]),t("ConsoleBar",{staticClass:"console mr-10 ml-10",attrs:{resource:s.row}})],1)]}}])},"ResourceTable",e.$attrs,!1),e.$listeners))],1)},a=[],o=s("73e2"),i=s("efbe"),n=s("2c7c"),l=s("56a4"),c=s("d6d1"),d=s("90cd"),u=s("b837"),h=s("70a6"),p=s("1832");const m=[c["T"],{...c["y"],width:350},c["z"],{name:"CPU",label:"CPU",sort:["spec.template.spec.domain.cpu.cores"],value:"spec.template.spec.domain.cpu.cores",align:"center",dashIfEmpty:!0},{name:"Memory",value:"displayMemory",sort:["memorySort"],align:"center",labelKey:"tableHeaders.memory",formatter:"Si",formatterOpts:{opts:{increment:1024,addSuffix:!0,maxExponent:3,minExponent:3,suffix:"i"},needParseSi:!0}},{name:"ip",label:"IP Address",value:"id",formatter:"HarvesterIpAddress",labelKey:"tableHeaders.ipAddress",sort:["id"]},{...c["c"],sort:"metadata.creationTimestamp:desc"}];var v={name:"HarvesterListVM",components:{Loading:h["a"],HarvesterVmState:n["default"],ConsoleBar:o["a"],ResourceTable:i["a"]},props:{schema:{type:Object,required:!0}},async fetch(){const e=this.$store.getters["currentProduct"].inStore,t={vms:this.$store.dispatch(e+"/findAll",{type:d["b"].VM}),pod:this.$store.dispatch(e+"/findAll",{type:l["C"]}),pvcs:this.$store.dispatch(e+"/findAll",{type:l["F"]}),pvs:this.$store.dispatch(e+"/findAll",{type:l["E"]}),images:this.$store.dispatch(e+"/findAll",{type:d["b"].IMAGE}),restore:this.$store.dispatch(e+"/findAll",{type:d["b"].RESTORE}),backups:this.$store.dispatch(e+"/findAll",{type:d["b"].BACKUP}),storage:this.$store.dispatch(e+"/findAll",{type:l["P"]})};this.$store.getters[e+"/schemaFor"](d["b"].RESOURCE_QUOTA)&&(t.resourceQuotas=this.$store.dispatch(e+"/findAll",{type:d["b"].RESOURCE_QUOTA})),this.$store.getters[e+"/schemaFor"](l["A"])&&(t.nodes=this.$store.dispatch(e+"/findAll",{type:l["A"]}),this.hasNode=!0),this.$store.getters[e+"/schemaFor"](d["b"].NODE_NETWORK)&&(t.nodeNetworks=this.$store.dispatch(e+"/findAll",{type:d["b"].NODE_NETWORK})),this.$store.getters[e+"/schemaFor"](d["b"].CLUSTER_NETWORK)&&(t.clusterNetworks=this.$store.dispatch(e+"/findAll",{type:d["b"].CLUSTER_NETWORK}));const s=await Object(u["a"])(t);this.allVMs=s.vms,this.allNodeNetworks=s.nodeNetworks||[],this.allClusterNetworks=s.clusterNetworks||[]},data(){return{hasNode:!1,allVMs:[],allVMIs:[],allNodeNetworks:[],allClusterNetworks:[],HCI:d["b"]}},computed:{headers(){const e={name:"restoreProgress",labelKey:"harvester.tableHeaders.restore",value:"restoreProgress",align:"left",formatter:"HarvesterBackupProgressBar",width:200},t={name:"node",label:"Node",value:"nodeName",sort:["realAttachNodeName"],formatter:"HarvesterHost",labelKey:"harvester.tableHeaders.vm.node"},s=Object(p["e"])(m);return this.hasNode&&s.splice(-1,0,t),this.hasBackUpRestoreInProgress&&s.splice(-1,0,e),s},rows(){const e=this.allVMIs.filter(e=>!this.allVMs.find(t=>t.id===e.id));return[...this.allVMs,...e]},hasBackUpRestoreInProgress(){return!!this.rows.find(e=>e.restoreResource&&!e.restoreResource.fromSnapshot&&!e.restoreResource.isComplete)}},async created(){const e=this.$store.getters["currentProduct"].inStore,t=await this.$store.dispatch(e+"/findAll",{type:d["b"].VMI});await this.$store.dispatch(e+"/findAll",{type:d["b"].VMIM}),this.$set(this,"allVMIs",t)},methods:{lockIconTooltipMessage(e){const t="";return"all"===e.encryptedVolumeType?this.t("harvester.virtualMachine.volume.lockTooltip.all"):"partial"===e.encryptedVolumeType?this.t("harvester.virtualMachine.volume.lockTooltip.partial"):t}}},f=v,g=(s("4461"),s("d802")),b=Object(g["a"])(f,r,a,!1,null,"79f59422",null);t["default"]=b.exports},"9a01":function(e,t,s){"use strict";s.r(t);var r=function(){var e=this,t=e._self._c;return t("ResourceTable",{attrs:{headers:e.headers,schema:e.schema,rows:e.filterRows,"use-query-params-for-simple-filtering":!0,"sort-generation-fn":e.sortGenerationFn,"rows-per-page":10},scopedSlots:e._u([{key:"group-by",fn:function({group:s}){return[t("div",{directives:[{name:"trim-whitespace",rawName:"v-trim-whitespace"}],ref:s.key,staticClass:"group-tab"},[e.groupIsAllEnabled(s.rows)?t("button",{staticClass:"btn btn-sm role-secondary mr-5",attrs:{type:"button"},on:{click:t=>{e.disableGroup(s.rows),t.target.blur()}}},[e._v(" "+e._s(e.t("harvester.pci.disableGroup"))+" ")]):t("button",{staticClass:"btn btn-sm role-secondary mr-5",attrs:{type:"button"},on:{click:t=>{e.enableGroup(s.rows),t.target.blur()}}},[e._v(" "+e._s(e.t("harvester.pci.enableGroup"))+" ")]),t("span",{directives:[{name:"clean-html",rawName:"v-clean-html",value:s.key,expression:"group.key"}]})])]}},{key:"cell:claimed",fn:function({row:s}){return[s.isEnabled?t("span",[e._v(e._s(s.claimedBy))]):t("span",{staticClass:"text-muted"},[e._v("—")])]}},{key:"more-header-middle",fn:function(){return[t("FilterBySriov",{ref:"filterByParentSRIOV",attrs:{"parent-sriov-options":e.parentSriovOptions,"parent-sriov-label":e.parentSriovLabel,label:e.t("harvester.sriov.parentSriov"),rows:e.rows},on:{"change-rows":e.changeRows}})]},proxy:!0}])})},a=[],o=s("efbe"),i=s("79d7"),n=s("90cd"),l=s("d6d1"),c=s("b837"),d=s("873f"),u={name:"ListPciDevices",components:{ResourceTable:o["a"],FilterBySriov:i["a"]},props:{schema:{type:Object,required:!0},devices:{type:Array,required:!0}},async fetch(){const e=this.$store.getters["currentProduct"].inStore,t={pciclaims:this.$store.dispatch(e+"/findAll",{type:n["b"].PCI_CLAIM}),sriovs:this.$store.dispatch(e+"/findAll",{type:n["b"].SR_IOV})};await Object(c["a"])(t)},data(){const e=this.$store.getters["isSingleProduct"],t=[{...l["T"]},l["R"],{name:"description",labelKey:"tableHeaders.description",value:"status.description",sort:["status.description"]},{name:"node",labelKey:"tableHeaders.node",value:"status.nodeName",sort:["status.nodeName"]},{name:"address",label:"Address",value:"status.address",sort:["status.address"]},{name:"vendorid",label:"Vendor ID",value:"status.vendorId",sort:["status.vendorId","status.deviceId"]},{name:"deviceid",label:"Device ID",value:"status.deviceId",sort:["status.deviceId","status.vendorId"]}];return e||t.push({name:"claimed",label:"Claimed By",value:"passthroughClaim.userName",sort:["passthroughClaim.userName"]}),{headers:t,rows:[],parentSriov:null,filterRows:[]}},watch:{devices:{handler(e){this.rows=e,this.parentSriov?this.filterRows=this.rows.filter(e=>e.labels[this.parentSriovLabel]===this.parentSriov):this.filterRows=this.rows},immediate:!0}},computed:{parentSriovOptions(){const e=this.$store.getters["currentProduct"].inStore,t=this.$store.getters[e+"/all"](n["b"].SR_IOV)||[];return t.map(e=>e.id)},parentSriovLabel(){return d["a"].PARENT_SRIOV}},methods:{enableGroup(e=[]){const t=e[0];t&&t.enablePassthroughBulk(e)},disableGroup(e=[]){e.forEach(e=>{e.passthroughClaim&&e.disablePassthrough()})},groupIsAllEnabled(e=[]){return!e.find(e=>!e.passthroughClaim)},changeRows(e,t){this.$set(this,"filterRows",e),this.$set(this,"parentSriov",t)},sortGenerationFn(){let e=Object(o["b"])(this.schema,this.$store);return this.parentSriov&&(e+=this.parentSriov),e}}},h=u,p=s("d802"),m=Object(p["a"])(h,r,a,!1,null,null,null);t["default"]=m.exports},"9d0c":function(e,t,s){"use strict";s.r(t);var r=function(){var e=this,t=e._self._c;return e.$fetchState.pending?t("Loading"):e.hasAddonSchema?e.hasSchema&&e.enabledPCI?t("DeviceList",{attrs:{devices:e.rows,schema:e.schema}}):t("div",[t("Banner",{attrs:{color:"warning"}},[t("MessageLink",{attrs:{to:e.to,"prefix-label":"harvester.pci.goSetting.prefix","middle-label":"harvester.pci.goSetting.middle","suffix-label":"harvester.pci.goSetting.suffix"}})],1)],1):t("div",[t("Banner",{attrs:{color:"warning"}},[e._v(" "+e._s(e.t("harvester.pci.noPCIPermission"))+" ")])],1)},a=[],o=s("90cd"),i=s("56a4"),n=s("b837"),l=s("2a88"),c=s("70a6"),d=s("203b"),u=s("9a01"),h=s("7c47");const p={id:o["b"].PCI_DEVICE,type:i["J"],attributes:{kind:o["b"].PCI_DEVICE,namespaced:!1},metadata:{name:o["b"].PCI_DEVICE}};var m={name:"ListPciDevicePage",components:{Banner:l["a"],DeviceList:u["default"],Loading:c["a"],MessageLink:d["a"]},async fetch(){const e=this.$store.getters["currentProduct"].inStore;if(this.hasSchema=this.$store.getters[e+"/schemaFor"](o["b"].PCI_DEVICE),this.hasAddonSchema=this.$store.getters[e+"/schemaFor"](o["b"].ADD_ONS),this.hasSchema)try{var t,s;const e=this.$store.getters["currentProduct"].inStore,r=await Object(n["a"])({pcidevice:this.$store.dispatch(e+"/findAll",{type:o["b"].PCI_DEVICE}),addons:this.$store.dispatch(e+"/findAll",{type:o["b"].ADD_ONS})});this.enabledPCI=!0===(null===(t=r.addons.find(e=>e.name===h["b"].PCI_DEVICE_CONTROLLER))||void 0===t||null===(s=t.spec)||void 0===s?void 0:s.enabled),this.$store.dispatch("type-map/configureType",{match:o["b"].PCI_DEVICE,isCreatable:this.enabledPCI})}catch(r){}},data(){return{enabledPCI:!1,hasSchema:!1,to:`${o["b"].ADD_ONS}/harvester-system/${h["b"].PCI_DEVICE_CONTROLLER}?mode=edit`}},computed:{schema(){return p},rows(){const e=this.$store.getters["currentProduct"].inStore,t=this.$store.getters[e+"/all"](o["b"].PCI_DEVICE);return t}},typeDisplay(){return this.$store.getters["type-map/labelFor"](p,99)}},v=m,f=s("d802"),g=Object(f["a"])(v,r,a,!1,null,null,null);t["default"]=g.exports},"9e0a":function(e,t,s){var r=s("a2aa");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var a=s("0ed3").default;a("20ae668a",r,!0,{sourceMap:!1,shadowMode:!1})},"9f87":function(e,t,s){var r=s("5eaa");t=r(!1),t.push([e.i,".state[data-v-78efe1e0]{display:flex}.state .icon-warning[data-v-78efe1e0]{margin-top:2px}.warning-message[data-v-78efe1e0]:first-letter{text-transform:uppercase}",""]),e.exports=t},a23d:function(e,t,s){var r=s("554f");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var a=s("0ed3").default;a("48fe72a6",r,!0,{sourceMap:!1,shadowMode:!1})},a2aa:function(e,t,s){var r=s("5eaa");t=r(!1),t.push([e.i,".settings-banner[data-v-2ef0d636]{margin-top:0}",""]),e.exports=t},a7af:function(e,t,s){"use strict";s("379b")},a924:function(e,t,s){var r=s("748a");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var a=s("0ed3").default;a("37f8bed4",r,!0,{sourceMap:!1,shadowMode:!1})},a9f7:function(e,t,s){var r=s("5eaa");t=r(!1),t.push([e.i,".vm-schedule-filter[data-v-24cc459c]{display:inline-block}.vm-schedule-filter .banner-item[data-v-24cc459c]{display:inline-block;font-size:16px;margin-right:10px;padding:6px;border-radius:2px}.vm-schedule-filter .banner-item i[data-v-24cc459c]{cursor:pointer;vertical-align:middle}.filter-popup[data-v-24cc459c]{width:-moz-max-content;width:max-content}",""]),e.exports=t},ab69:function(e,t,s){var r=s("2d97");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var a=s("0ed3").default;a("b00dcf4e",r,!0,{sourceMap:!1,shadowMode:!1})},af5c:function(e,t,s){"use strict";s.r(t);var r=function(){var e=this,t=e._self._c;return t("div",[e.uploadingImages.length>0?t("Banner",{attrs:{color:"warning",label:e.t("harvester.image.warning.uploading",{count:e.uploadingImages.length})}}):e._e(),t("ResourceTable",e._g(e._b({attrs:{rows:e.filterRows,schema:e.schema,"sort-generation-fn":e.sortGenerationFn,"key-field":"_key"},scopedSlots:e._u([{key:"more-header-middle",fn:function(){return[t("FilterLabel",{ref:"filterLabel",attrs:{rows:e.rows},on:{changeRows:e.changeRows}})]},proxy:!0},{key:"col:name",fn:function({row:s}){return[t("td",[t("span",[null!==s&&void 0!==s&&s.detailLocation?t("n-link",{attrs:{to:s.detailLocation}},[e._v(" "+e._s(s.nameDisplay)+" "),s.isEncrypted?t("i",{staticClass:"icon icon-lock"}):e._e()]):t("span",[e._v(" "+e._s(s.nameDisplay)+" ")])],1)])]}}])},"ResourceTable",e.$attrs,!1),e.$listeners))],1)},a=[],o=s("efbe"),i=s("dffb"),n=function(){var e=this,t=e._self._c;return t("div",{staticClass:"filter"},[e._l(e.searchLabels,(function(s,r){return[s.key?t("span",{key:`${s.key}${r}`,staticClass:"banner-item bg-warning"},[e._v(" "+e._s(s.key)+e._s(s.value?"=":"")+e._s(s.value)),t("i",{staticClass:"icon icon-close",on:{click:function(t){return e.remove(s)}}})]):e._e()]})),t("v-popover",{attrs:{trigger:"click",placement:"bottom-end"}},[e._t("header",(function(){return[t("button",{ref:"actionDropDown",staticClass:"btn bg-primary mr-10"},[e._t("title",(function(){return[e._v(" "+e._s(e.t("harvester.fields.filterLabels"))+" ")]}))],2)]})),t("template",{slot:"popover"},[t("div",{staticClass:"filter-popup"},[t("div",[t("ArrayList",{attrs:{"show-header":!0,"default-add-value":e.defaultAddValue,"initial-empty-row":!0},on:{input:e.filterRows},scopedSlots:e._u([{key:"column-headers",fn:function(){return[t("div",{staticClass:"box"},[t("div",{staticClass:"key"},[e._v(" "+e._s(e.t("generic.key"))+" "),t("span",{staticClass:"required"},[e._v("*")])]),t("div",{staticClass:"value"},[e._v(" "+e._s(e.t("generic.value"))+" ")]),t("div")])]},proxy:!0},{key:"columns",fn:function(s){return[t("div",{staticClass:"key"},[t("Select",{key:"label",ref:"select",attrs:{"append-to-body":!1,searchable:!0,options:e.optionLabels},on:{input:e.filterRows},model:{value:s.row.value.key,callback:function(t){e.$set(s.row.value,"key",t)},expression:"scope.row.value.key"}})],1),t("div",{staticClass:"value"},[e.calcValueOptions(s.row.value.key).length>0?t("Select",{key:"value",ref:"select",attrs:{"append-to-body":!1,searchable:!0,options:e.calcValueOptions(s.row.value.key)},on:{input:e.filterRows},model:{value:s.row.value.value,callback:function(t){e.$set(s.row.value,"value",t)},expression:"scope.row.value.value"}}):t("LabeledInput",{on:{input:e.filterRows},model:{value:s.row.value.value,callback:function(t){e.$set(s.row.value,"value",t)},expression:"scope.row.value.value"}})],1)]}},{key:"add",fn:function({add:s}){return[t("div",[t("button",{staticClass:"btn role-tertiary add",attrs:{type:"button","data-testid":"add-item"},on:{click:function(e){return s()}}},[e._v(" "+e._s(e.t("generic.add"))+" ")]),t("button",{staticClass:"btn role-tertiary add",attrs:{type:"button","data-testid":"remove-all-item"},on:{click:function(t){return e.removeAll()}}},[e._v(" "+e._s(e.t("generic.clearAll"))+" ")])])]}}]),model:{value:e.searchLabels,callback:function(t){e.searchLabels=t},expression:"searchLabels"}})],1)])])],2)],2)},l=[],c=s("da9e"),d=s("81a6"),u=s("d076"),h={name:"HarvesterFilterLabel",components:{Select:d["a"],ArrayList:c["a"],LabeledInput:u["a"]},props:{rows:{type:Array,required:!0}},data(){return{searchLabels:[],defaultAddValue:{key:"",value:""}}},computed:{optionLabels(){const e=this.rows.map(e=>Object.keys(e.labels));return Array.from(new Set(e.flat()))}},methods:{calcValueOptions(e){const t=[];return this.rows.map(s=>{const r=t.find(t=>t.label===s.labels[e]);Object.keys(s.labels).includes(e)&&e&&s.labels[e]&&!r&&t.push({value:s.labels[e],label:s.labels[e]})}),t},removeAll(){this.$set(this,"searchLabels",[]),this.filterRows()},remove(e){this.searchLabels.find((t,s)=>{if(t.key===e.key&&t.value===e.value)return this.searchLabels.splice(s,1),this.filterRows(),!0})},filterRows(){const e=this.rows.filter(e=>{const t=this.searchLabels.find(e=>e.key);if(!t)return this.rows;const s=e.labels,r=Object.keys(s);return this.searchLabels.find(e=>!(!e.key||!r.includes(e.key))&&(!e.value||(e.value===s[e.key]||e.value===s[e.key]&&void 0)))});this.$emit("changeRows",e,this.searchLabels)}},watch:{rows:{deep:!0,immediate:!0,handler(){this.filterRows()}}}},p=h,m=(s("dc10"),s("d802")),v=Object(m["a"])(p,n,l,!1,null,"dc148608",null),f=v.exports,g={name:"ListHarvesterImage",components:{ResourceTable:o["a"],Banner:i["a"],FilterLabel:f},props:{schema:{type:Object,required:!0},rows:{type:Array,required:!0}},data(){return{searchLabels:[],filterRows:[]}},computed:{uploadingImages(){return this.$store.getters["harvester-common/uploadingImages"]||[]}},methods:{changeRows(e,t){this.$set(this,"filterRows",e),this.$set(this,"searchLabels",t)},sortGenerationFn(){let e=Object(o["b"])(this.schema,this.$store);return this.searchLabels.map(t=>{e+=t.key,e+=t.value}),e}}},b=g,y=Object(m["a"])(b,r,a,!1,null,null,null);t["default"]=y.exports},b32a:function(e,t,s){var r=s("5eaa");t=r(!1),t.push([e.i,".state[data-v-453e7022]{display:flex;justify-content:space-between}.state .icon-warning[data-v-453e7022]{margin-top:2px}",""]),e.exports=t},b83d:function(e,t,s){"use strict";s("377a")},ba4c:function(e,t,s){"use strict";s.r(t);var r=function(){var e=this,t=e._self._c;return e.$fetchState.pending?t("Loading"):e.listSchema?t("div",[!1===e.loggingEnabled?t("Banner",{attrs:{color:"info"}},[t("MessageLink",{attrs:{to:e.to,"prefix-label":"harvester.logging.diabledTips.prefix","middle-label":"harvester.logging.diabledTips.middle","suffix-label":"harvester.logging.diabledTips.suffix"}})],1):e._e(),t("ResourceTable",{attrs:{schema:e.schema,rows:e.rows,"ignore-filter":!0,groupable:!1}})],1):t("Banner",{attrs:{color:"warning"}},[e._v(" "+e._s(e.t("harvester.generic.noSchema",{schema:e.schema.id}))+" ")])},a=[],o=s("b837"),i=s("efbe"),n=s("2a88"),l=s("203b"),c=s("70a6"),d=s("56a4"),u=s("90cd");const h={id:u["b"].CLUSTER_OUTPUT,type:d["J"],attributes:{kind:u["b"].CLUSTER_OUTPUT,namespaced:!0},metadata:{name:u["b"].CLUSTER_OUTPUT}},p="cattle-logging-system/rancher-logging";var m={name:"ListApps",components:{Loading:c["a"],ResourceTable:i["a"],Banner:n["a"],MessageLink:l["a"]},async fetch(){var e;const t=this.$store.getters["currentProduct"].inStore,s={};this.listSchema=this.$store.getters[t+"/schemaFor"](d["s"].CLUSTER_OUTPUT),this.listSchema&&(s.rows=this.$store.dispatch(t+"/findAll",{type:d["s"].CLUSTER_OUTPUT})),this.$store.getters[t+"/schemaFor"](u["b"].ADD_ONS)&&(s.loggingAddon=this.$store.dispatch(t+"/find",{type:u["b"].ADD_ONS,id:p}));const r=await Object(o["a"])(s);this.rows=r.rows,this.loggingAddon=r.loggingAddon,this.$store.dispatch("type-map/configureType",{match:u["b"].CLUSTER_OUTPUT,isCreatable:this.listSchema&&(null===(e=this.listSchema)||void 0===e?void 0:e.collectionMethods.find(e=>"post"===e.toLowerCase()))})},data(){return{rows:[],listSchema:null,loggingAddon:null}},computed:{schema(){return h},to(){return u["b"].ADD_ONS+"/cattle-logging-system/rancher-logging?mode=edit#basic"},loggingEnabled(){var e,t;return null===(e=this.loggingAddon)||void 0===e||null===(t=e.spec)||void 0===t?void 0:t.enabled}},typeDisplay(){return this.$store.getters["type-map/labelFor"](h,99)}},v=m,f=s("d802"),g=Object(f["a"])(v,r,a,!1,null,null,null);t["default"]=g.exports},bccc:function(e,t,s){"use strict";s.r(t);var r=function(){var e=this,t=e._self._c;return e.$fetchState.pending?t("Loading"):t("ResourceTable",e._g(e._b({attrs:{groupable:!0,schema:e.schema,rows:e.rows,"key-field":"_key"}},"ResourceTable",e.$attrs,!1),e.$listeners))},a=[],o=s("efbe"),i=s("70a6"),n=s("56a4"),l=s("90cd");const c={id:l["b"].SECRET,type:n["J"],attributes:{kind:l["b"].SECRET,namespaced:!0},metadata:{name:l["b"].SECRET}};var d={name:"HarvesterSecret",components:{ResourceTable:o["a"],Loading:i["a"]},async fetch(){const e=this.$store.getters["currentProduct"].inStore;this.rows=await this.$store.dispatch(e+"/findAll",{type:n["K"]});const t=this.$store.getters[e+"/schemaFor"](n["K"]);null!==t&&void 0!==t&&t.collectionMethods.find(e=>"post"===e.toLowerCase())||this.$store.dispatch("type-map/configureType",{match:l["b"].SECRET,isCreatable:!1})},data(){return{rows:[]}},computed:{schema(){return c}},typeDisplay(){return this.$store.getters["type-map/labelFor"](c,99)}},u=d,h=s("d802"),p=Object(h["a"])(u,r,a,!1,null,null,null);t["default"]=p.exports},bf2c:function(e,t,s){!function(t,s){e.exports=s()}(0,(function(){"use strict";return function(e,t,s){var r=function(e,t){if(!t.length)return s();var r;1===t.length&&t[0].length>0&&(t=t[0]),r=t[0];for(var a=1;a<t.length;a+=1)t[a].isValid()&&!t[a][e](r)||(r=t[a]);return r};s.max=function(){var e=[].slice.call(arguments,0);return r("isAfter",e)},s.min=function(){var e=[].slice.call(arguments,0);return r("isBefore",e)}}}))},c09b:function(e,t,s){"use strict";s.r(t);var r=function(){var e=this,t=e._self._c;return e.$fetchState.pending?t("Loading"):e.hasAddonSchema?e.hasSriovgpuAddon&&e.hasPCIAddon?e.hasSchema?t("ResourceTable",e._b({attrs:{groupable:!1,namespaced:!1,headers:e.headers,schema:e.schema,rows:e.rows,"key-field":"_key"}},"ResourceTable",e.$attrs,!1)):e._e():t("div",[e.hasSriovgpuAddon?e._e():t("Banner",{attrs:{color:"warning"}},[t("MessageLink",{attrs:{to:e.toVGpuAddon,"prefix-label":"harvester.sriovgpu.goSetting.prefix","middle-label":"harvester.sriovgpu.goSetting.middle","suffix-label":"harvester.sriovgpu.goSetting.suffix"}})],1),e.hasPCIAddon?e._e():t("Banner",{attrs:{color:"warning"}},[t("MessageLink",{attrs:{to:e.toPciAddon,"prefix-label":"harvester.pci.goSetting.prefix","middle-label":"harvester.pci.goSetting.middle","suffix-label":"harvester.pci.goSetting.suffix"}})],1)],1):t("div",[t("Banner",{attrs:{color:"warning"}},[e._v(" "+e._s(e.t("harvester.sriovgpu.noPermission"))+" ")])],1)},a=[],o=s("90cd"),i=s("7c47"),n=s("56a4"),l=s("d6d1"),c=s("b837"),d=s("2a88"),u=s("70a6"),h=s("203b"),p=s("efbe"),m={name:"ListSriovGpuDevices",components:{Banner:d["a"],Loading:u["a"],MessageLink:h["a"],ResourceTable:p["a"]},async fetch(){const e=this.$store.getters["currentProduct"].inStore;if(this.schema=this.$store.getters[e+"/schemaFor"](o["b"].SR_IOVGPU_DEVICE),this.hasAddonSchema=this.$store.getters[e+"/schemaFor"](o["b"].ADD_ONS),this.hasSchema)try{var t,s,r,a;const n=await Object(c["a"])({sriovgpus:this.$store.dispatch(e+"/findAll",{type:o["b"].SR_IOVGPU_DEVICE}),vGpuDevices:this.$store.dispatch(e+"/findAll",{type:o["b"].VGPU_DEVICE}),addons:this.$store.dispatch(e+"/findAll",{type:o["b"].ADD_ONS})});this.hasPCIAddon=!0===(null===(t=n.addons.find(e=>e.name===i["b"].PCI_DEVICE_CONTROLLER))||void 0===t||null===(s=t.spec)||void 0===s?void 0:s.enabled),this.hasSriovgpuAddon=!0===(null===(r=n.addons.find(e=>e.name===i["b"].NVIDIA_DRIVER_TOOLKIT_CONTROLLER))||void 0===r||null===(a=r.spec)||void 0===a?void 0:a.enabled)}catch(n){}},data(){const e=this.$store.getters["currentProduct"].inStore;return{hasAddonSchema:!1,hasPCIAddon:!1,hasSriovgpuAddon:!1,schema:null,hasNode:this.$store.getters[e+"/schemaFor"](n["A"]),toVGpuAddon:`${o["b"].ADD_ONS}/harvester-system/${i["b"].NVIDIA_DRIVER_TOOLKIT_CONTROLLER}?mode=edit`,toPciAddon:`${o["b"].ADD_ONS}/harvester-system/${i["b"].PCI_DEVICE_CONTROLLER}?mode=edit`}},computed:{hasSchema(){return!!this.schema},rows(){const e=this.$store.getters["currentProduct"].inStore,t=this.$store.getters[e+"/all"](o["b"].SR_IOVGPU_DEVICE);return t},headers(){const e={name:"node",label:"Node",value:"realNodeName",sort:["realNodeName"],formatter:"CopyToClipboard",labelKey:"tableHeaders.node"},t=[l["T"],l["R"],{name:"address",label:"Address",value:"spec.address",sort:["spec.address"]},{name:"vfAddresses",label:"VF Addresses",labelKey:"harvester.sriovgpu.vfAddresses",sort:["status.vfAddresses"],value:"status.vfAddresses",formatter:"HarvesterVFAddress",align:"center",dashIfEmpty:!0},{name:"vGpuDevices",label:"vGPU Devices",labelKey:"harvester.sriovgpu.vGpuDevices",sort:["status.vGPUDevices"],value:"status.vGPUDevices",formatter:"HarvesterVGpuDevices",align:"center",dashIfEmpty:!0},{...l["c"],sort:"metadata.creationTimestamp:desc"}];return this.hasNode&&t.splice(-1,0,e),t}}},v=m,f=s("d802"),g=Object(f["a"])(v,r,a,!1,null,null,null);t["default"]=g.exports},c168:function(e,t,s){"use strict";s.r(t);var r=function(){var e=this,t=e._self._c;return e.$fetchState.pending?t("Loading"):e.listSchema?t("div",[!1===e.loggingEnabled?t("Banner",{attrs:{color:"info"}},[t("MessageLink",{attrs:{to:e.to,"prefix-label":"harvester.logging.diabledTips.prefix","middle-label":"harvester.logging.diabledTips.middle","suffix-label":"harvester.logging.diabledTips.suffix"}})],1):e._e(),t("ResourceTable",{attrs:{schema:e.schema,rows:e.rows,"ignore-filter":!0,groupable:!1}})],1):t("Banner",{attrs:{color:"warning"}},[e._v(" "+e._s(e.t("harvester.generic.noSchema",{schema:e.schema.id}))+" ")])},a=[],o=s("b837"),i=s("efbe"),n=s("2a88"),l=s("203b"),c=s("70a6"),d=s("56a4"),u=s("90cd");const h={id:u["b"].FLOW,type:d["J"],attributes:{kind:u["b"].FLOW,namespaced:!0},metadata:{name:u["b"].FLOW}},p="cattle-logging-system/rancher-logging";var m={name:"ListApps",components:{Loading:c["a"],ResourceTable:i["a"],Banner:n["a"],MessageLink:l["a"]},async fetch(){var e;const t=this.$store.getters["currentProduct"].inStore,s={};this.listSchema=this.$store.getters[t+"/schemaFor"](d["s"].FLOW),this.clusteroutputSchema=this.$store.getters[t+"/schemaFor"](d["s"].CLUSTER_OUTPUT),this.listSchema&&(s.output=this.$store.dispatch(t+"/findAll",{type:d["s"].OUTPUT}),s.rows=this.$store.dispatch(t+"/findAll",{type:d["s"].FLOW})),this.clusteroutputSchema&&(s.clusteroutput=this.$store.dispatch(t+"/findAll",{type:d["s"].CLUSTER_OUTPUT})),this.$store.getters[t+"/schemaFor"](u["b"].ADD_ONS)&&(s.loggingAddon=this.$store.dispatch(t+"/find",{type:u["b"].ADD_ONS,id:p}));const r=await Object(o["a"])(s);this.rows=r.rows,this.loggingAddon=r.loggingAddon,this.$store.dispatch("type-map/configureType",{match:u["b"].FLOW,isCreatable:this.listSchema&&(null===(e=this.listSchema)||void 0===e?void 0:e.collectionMethods.find(e=>"post"===e.toLowerCase()))})},data(){return{rows:[],listSchema:null,loggingAddon:null}},computed:{schema(){return h},to(){return u["b"].ADD_ONS+"/cattle-logging-system/rancher-logging?mode=edit#basic"},loggingEnabled(){var e,t;return null===(e=this.loggingAddon)||void 0===e||null===(t=e.spec)||void 0===t?void 0:t.enabled}},typeDisplay(){return this.$store.getters["type-map/labelFor"](h,99)}},v=m,f=s("d802"),g=Object(f["a"])(v,r,a,!1,null,null,null);t["default"]=g.exports},c1a0:function(e,t,s){"use strict";s.r(t);var r=function(){var e=this,t=e._self._c;return e.$fetchState.pending?t("Loading"):t("div",[t("Masthead",{attrs:{schema:e.schema,resource:e.resource,"create-button-label":e.t("harvester.backup.createText")}}),(e.errorMessage||e.isEmptyValue)&&e.canUpdate?t("Banner",{attrs:{color:"error"}},[e.isEmptyValue?t("MessageLink",{attrs:{to:e.to,"prefix-label":"harvester.backup.message.noSetting.prefix","middle-label":"harvester.backup.message.noSetting.middle","suffix-label":"harvester.backup.message.noSetting.suffix"}}):t("MessageLink",{attrs:{to:e.to,"prefix-label":"harvester.backup.message.errorTip.prefix","middle-label":"harvester.backup.message.errorTip.middle"},scopedSlots:e._u([{key:"suffix",fn:function(){return[e._v(" "+e._s(e.t("harvester.backup.message.errorTip.suffix"))+" "+e._s(e.errorMessage)+" ")]},proxy:!0}],null,!1,1922728275)})],1):e.canUpdate?t("div",[t("Banner",{attrs:{color:"info"}},[t("MessageLink",{attrs:{to:e.to,"prefix-label":"harvester.backup.message.viewSetting.prefix","middle-label":"harvester.backup.message.viewSetting.middle","suffix-label":"harvester.backup.message.viewSetting.suffix"}})],1)],1):e._e(),t("ResourceTable",e._g(e._b({attrs:{headers:e.headers,groupable:!0,rows:e.filteredRows,"sort-generation-fn":e.sortGenerationFn,schema:e.schema,"key-field":"_key","default-sort-by":"age"},scopedSlots:e._u([{key:"more-header-middle",fn:function(){return[t("FilterVMSchedule",{attrs:{rows:e.getRawRows},on:{"change-rows":e.changeRows}})]},proxy:!0},{key:"col:name",fn:function({row:s}){return[t("td",[t("span",[e.getRow(s)?t("n-link",{attrs:{to:s.detailLocation}},[e._v(" "+e._s(s.nameDisplay)+" ")]):t("span",[e._v(" "+e._s(s.nameDisplay)+" ")])],1)])]}}])},"ResourceTable",e.$attrs,!1),e.$listeners))],1)},a=[],o=s("dffb"),i=s("70a6"),n=s("203b"),l=s("d1ba"),c=s("efbe"),d=s("7e4b"),u=s("90cd"),h=s("1772"),p=s("d6d1"),m=s("e603"),v={name:"HarvesterListBackup",components:{ResourceTable:c["a"],Banner:o["a"],Loading:i["a"],Masthead:l["a"],MessageLink:n["a"],FilterVMSchedule:d["a"]},props:{schema:{type:Object,required:!0}},async fetch(){const e=this.$store.getters["currentProduct"].inStore,t=await Object(h["a"])({vms:this.$store.dispatch(e+"/findAll",{type:u["b"].VM}),settings:this.$store.dispatch(e+"/findAll",{type:u["b"].SETTING}),backups:this.$store.dispatch(e+"/findAll",{type:u["b"].BACKUP}),scheduleList:this.$store.dispatch(e+"/findAll",{type:u["b"].SCHEDULE_VM_BACKUP})});if(this.backups=t.backups,this.rows=t.backups,this.settings=t.settings,this.$store.getters[e+"/schemaFor"](u["b"].SETTING)){const e=t.settings.find(e=>"backup-target"===e.id),s=this.getBackupTargetValueIsEmpty(e);e&&!s&&this.testConnect()}},data(){const e={...this.$route.params},t=e.resource;return{rows:[],backups:[],settings:[],resource:t,to:u["b"].SETTING+"/backup-target?mode=edit",searchSchedule:""}},methods:{async testConnect(){try{const e=this.$store.getters["harvester-common/getHarvesterClusterUrl"]("v1/harvester/backuptarget/healthz");await this.$store.dispatch("harvester/request",{url:e})}catch(e){400!==(null===e||void 0===e?void 0:e._status)&&503!==(null===e||void 0===e?void 0:e._status)||this.$store.dispatch("growl/error",{title:this.t("harvester.notification.title.error"),message:e.errors[0]},{root:!0})}},getBackupTargetValueIsEmpty(e){let t=!0;if(null!==e&&void 0!==e&&e.value)try{const s=JSON.parse(null===e||void 0===e?void 0:e.value);t=!s.type}catch(s){}return t},getRow(e){return e.status&&e.status.source},changeRows(e,t){this.$set(this,"searchSchedule",t),this.$set(this,"backups",e)},sortGenerationFn(){let e=Object(c["b"])(this.schema,this.$store);return e+=this.searchSchedule,e}},computed:{headers(){const e=[p["T"],p["y"],p["z"],{name:"targetVM",labelKey:"harvester.tableHeaders.targetVm",value:"attachVM",align:"left",formatter:"AttachVMWithName"},{name:"backupCreatedFrom",labelKey:"harvester.tableHeaders.vmSchedule",value:"sourceSchedule",formatter:"BackupCreatedFrom"},{name:"backupTarget",labelKey:"tableHeaders.backupTarget",value:"backupTarget",align:"left",formatter:"HarvesterBackupTargetValidation"},{name:"readyToUse",labelKey:"tableHeaders.readyToUse",value:"status.readyToUse",align:"center",formatter:"Checked"}];return this.hasBackupProgresses&&e.push({name:"backupProgress",labelKey:"tableHeaders.progress",value:"backupProgress",align:"left",formatter:"HarvesterBackupProgressBar"}),e.push(p["c"]),e},hasBackupProgresses(){return!!this.backups.find(e=>{var t;return void 0!==(null===(t=e.status)||void 0===t?void 0:t.progress)})},filteredRows(){return this.backups.filter(e=>{var t;return(null===(t=e.spec)||void 0===t?void 0:t.type)!==m["a"].SNAPSHOT})},getRawRows(){return this.rows.filter(e=>{var t;return(null===(t=e.spec)||void 0===t?void 0:t.type)===m["a"].BACKUP})},backupTargetResource(){return this.settings.find(e=>"backup-target"===e.id)},isEmptyValue(){return this.getBackupTargetValueIsEmpty(this.backupTargetResource)},canUpdate(){var e;return null===this||void 0===this||null===(e=this.backupTargetResource)||void 0===e?void 0:e.canUpdate},errorMessage(){var e;return null===(e=this.backupTargetResource)||void 0===e?void 0:e.errMessage}}},f=v,g=s("d802"),b=Object(g["a"])(f,r,a,!1,null,null,null);t["default"]=b.exports},c3df:function(e,t,s){"use strict";s.r(t);var r=function(){var e=this,t=e._self._c;return t("span",[t("div",[e.isRebuilding?t("ProgressBarMulti",{directives:[{name:"clean-tooltip",rawName:"v-clean-tooltip",value:e.rebuildingMessage,expression:"rebuildingMessage"}],staticClass:"mb-10",attrs:{values:e.percentage,min:0,max:100}}):e._e()],1),t("div",{staticClass:"state"},[t("VolumeState",{attrs:{row:e.row}}),e.warningMessage?t("v-popover",{attrs:{trigger:"hover",offset:"16"}},[t("span",{staticClass:"tooltip-target"},[t("i",{staticClass:"icon icon-warning icon-lg text-warning"})]),t("template",{slot:"popover"},[t("p",{staticClass:"warning-message"},[e._v(" "+e._s(e.warningMessage)+" ")])])],2):e._e()],1)])},a=[],o=s("7ce5"),i=s("873f"),n=s("2c0b"),l={components:{VolumeState:n["a"],ProgressBarMulti:o["a"]},props:{row:{type:Object,required:!0}},computed:{warningMessage(){var e,t,s;return null===(e=this.row.relatedPV)||void 0===e||null===(t=e.metadata)||void 0===t||null===(s=t.annotations)||void 0===s?void 0:s[i["a"].VOLUME_ERROR]},rebuildStatus(){var e,t;return null===(e=this.row.longhornEngine)||void 0===e||null===(t=e.status)||void 0===t?void 0:t.rebuildStatus},isRebuilding(){return this.rebuildStatus&&Object.keys(this.rebuildStatus).length>0},percentage(){var e;if(!this.isRebuilding)return;const t=null===(e=Object.values(this.rebuildStatus))||void 0===e?void 0:e[0],s=null===t||void 0===t?void 0:t.progress;return[{value:s,color:"bg-warning"}]},rebuildingMessage(){return this.$store.getters["i18n/t"]("harvester.volume.rebuildingMessage",{percentage:this.percentage[0].value})}}},c=l,d=(s("85d7"),s("d802")),u=Object(d["a"])(c,r,a,!1,null,"78efe1e0",null);t["default"]=u.exports},c43f:function(e,t,s){"use strict";s.r(t);var r=function(){var e=this,t=e._self._c;return e.$fetchState.pending?t("Loading"):e.hasAddonSchema?e.hasSriovgpuAddon&&e.hasPCIAddon?e.hasSchema?t("VGpuDeviceList",{attrs:{devices:e.rows,schema:e.schema}}):e._e():t("div",[e.hasSriovgpuAddon?e._e():t("Banner",{attrs:{color:"warning"}},[t("MessageLink",{attrs:{to:e.toVGpuAddon,"prefix-label":"harvester.vgpu.goSetting.prefix","middle-label":"harvester.vgpu.goSetting.middle","suffix-label":"harvester.vgpu.goSetting.suffix"}})],1),e.hasPCIAddon?e._e():t("Banner",{attrs:{color:"warning"}},[t("MessageLink",{attrs:{to:e.toPciAddon,"prefix-label":"harvester.pci.goSetting.prefix","middle-label":"harvester.pci.goSetting.middle","suffix-label":"harvester.pci.goSetting.suffix"}})],1)],1):t("div",[t("Banner",{attrs:{color:"warning"}},[e._v(" "+e._s(e.t("harvester.vgpu.noPermission"))+" ")])],1)},a=[],o=s("90cd"),i=s("b837"),n=s("2a88"),l=s("70a6"),c=s("203b"),d=s("8fcc"),u=s("7c47"),h={name:"ListVGpuDevices",components:{Banner:n["a"],Loading:l["a"],MessageLink:c["a"],VGpuDeviceList:d["default"]},async fetch(){const e=this.$store.getters["currentProduct"].inStore;if(this.schema=this.$store.getters[e+"/schemaFor"](o["b"].VGPU_DEVICE),this.hasAddonSchema=this.$store.getters[e+"/schemaFor"](o["b"].ADD_ONS),this.hasSchema)try{var t,s,r,a;const n=await Object(i["a"])({vGpuDevices:this.$store.dispatch(e+"/findAll",{type:o["b"].VGPU_DEVICE}),addons:this.$store.dispatch(e+"/findAll",{type:o["b"].ADD_ONS})});this.hasPCIAddon=!0===(null===(t=n.addons.find(e=>e.name===u["b"].PCI_DEVICE_CONTROLLER))||void 0===t||null===(s=t.spec)||void 0===s?void 0:s.enabled),this.hasSriovgpuAddon=!0===(null===(r=n.addons.find(e=>e.name===u["b"].NVIDIA_DRIVER_TOOLKIT_CONTROLLER))||void 0===r||null===(a=r.spec)||void 0===a?void 0:a.enabled),this.hasSRIOVGPUSchema=!!this.$store.getters[e+"/schemaFor"](o["b"].SR_IOVGPU_DEVICE),this.hasSRIOVGPUSchema&&await this.$store.dispatch(e+"/findAll",{type:o["b"].SR_IOVGPU_DEVICE})}catch(n){}},data(){return{hasAddonSchema:!1,hasPCIAddon:!1,hasSriovgpuAddon:!1,hasSRIOVGPUSchema:!1,schema:null,toVGpuAddon:`${o["b"].ADD_ONS}/harvester-system/${u["b"].NVIDIA_DRIVER_TOOLKIT_CONTROLLER}?mode=edit`,toPciAddon:`${o["b"].ADD_ONS}/harvester-system/${u["b"].PCI_DEVICE_CONTROLLER}?mode=edit`}},computed:{hasSchema(){return!!this.schema},rows(){const e=this.$store.getters["currentProduct"].inStore,t=this.$store.getters[e+"/all"](o["b"].VGPU_DEVICE)||[],s=this.$store.getters[e+"/all"](o["b"].SR_IOVGPU_DEVICE)||[];return this.hasSRIOVGPUSchema?t.filter(e=>!!s.find(t=>{var s,r;return t.isEnabled&&(null===(s=t.spec)||void 0===s?void 0:s.nodeName)===(null===(r=e.spec)||void 0===r?void 0:r.nodeName)})):t}},typeDisplay(){return this.t("harvester.vgpu.label")}},p=h,m=s("d802"),v=Object(m["a"])(p,r,a,!1,null,null,null);t["default"]=v.exports},c6db:function(e,t,s){"use strict";s("9e0a")},c704:function(e,t,s){"use strict";s("30a5")},d59f:function(e,t,s){var r=s("713a");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var a=s("0ed3").default;a("27d3abe8",r,!0,{sourceMap:!1,shadowMode:!1})},d627:function(e,t,s){"use strict";s.r(t);var r=function(){var e=this,t=e._self._c;return e.$fetchState.pending?t("Loading"):t("ResourceTable",e._g(e._b({attrs:{headers:e.headers,groupable:!0,schema:e.schema,rows:e.filteredRows,"key-field":"_key"}},"ResourceTable",e.$attrs,!1),e.$listeners))},a=[],o=s("efbe"),i=s("70a6"),n=s("56a4"),l=s("90cd"),c=s("d6d1"),d=s("873f");const u={id:l["b"].CLOUD_TEMPLATE,type:n["J"],attributes:{kind:l["b"].CLOUD_TEMPLATE,namespaced:!0},metadata:{name:l["b"].CLOUD_TEMPLATE}};var h={name:"HarvesterListCloudTemplate",components:{ResourceTable:o["a"],Loading:i["a"]},async fetch(){const e=this.$store.getters["currentProduct"].inStore;this.rows=await this.$store.dispatch(e+"/findAll",{type:n["e"]});const t=this.$store.getters[e+"/schemaFor"](n["e"]);null!==t&&void 0!==t&&t.collectionMethods.find(e=>"post"===e.toLowerCase())||this.$store.dispatch("type-map/configureType",{match:l["b"].CLOUD_TEMPLATE,isCreatable:!1})},data(){return{rows:[]}},computed:{headers(){return[c["y"],c["z"],{name:"type",labelKey:"tableHeaders.type",value:"metadata.labels",formatter:"CloudInitType"},c["c"]]},filteredRows(){return this.rows.filter(e=>{var t,s;return!(null===(t=e.metadata)||void 0===t||null===(s=t.labels)||void 0===s||!s[d["a"].CLOUD_INIT])})},schema(){return u}},typeDisplay(){return this.$store.getters["type-map/labelFor"](u,99)}},p=h,m=s("d802"),v=Object(m["a"])(p,r,a,!1,null,null,null);t["default"]=v.exports},d6fb:function(e,t,s){var r=s("9f87");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var a=s("0ed3").default;a("7687b23b",r,!0,{sourceMap:!1,shadowMode:!1})},d720:function(e,t,s){"use strict";s.r(t);var r=function(){var e=this,t=e._self._c;return t("div",[e.$fetchState.pending?t("Loading"):e._e(),t("ResourceTable",{attrs:{rows:e.rows,groupable:!1,namespaced:!1,schema:e.schema,headers:e.headers},scopedSlots:e._u([{key:"cell:name",fn:function(s){return[t("div",{staticClass:"cell-name"},[t("LinkDetail",{attrs:{row:s.row},model:{value:s.row.displayName,callback:function(t){e.$set(s.row,"displayName",t)},expression:"scope.row.displayName"}}),"rancher-vcluster"===s.row.metadata.name&&s.row.spec.enabled?t("a",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.t("harvester.addons.rancherVcluster.accessRancher"),expression:"t('harvester.addons.rancherVcluster.accessRancher')"}],staticClass:"ml-5",attrs:{rel:"nofollow noopener noreferrer",target:"_blank",href:s.row.rancherHostname}},[t("i",{staticClass:"icon icon-external-link"})]):e._e()],1)]}}])})],1)},a=[],o=s("70a6"),i=s("efbe"),n=s("b837"),l=s("90cd"),c=s("d6d1"),d={name:"ListHarvesterAddons",components:{ResourceTable:i["a"],Loading:o["a"]},async fetch(){const e=this.$store.getters["currentProduct"].inStore;await Object(n["a"])({addons:this.$store.dispatch(e+"/findAll",{type:l["b"].ADD_ONS})})},computed:{rows(){const e=this.$store.getters["currentProduct"].inStore,t=this.$store.getters[e+"/all"](l["b"].ADD_ONS);return t},headers(){return[c["T"],c["y"],{name:"description",labelKey:"tableHeaders.description",value:"metadata.name",align:"left",sort:["status.description"],formatter:"Translate",formatterOpts:{prefix:"harvester.addons.descriptions"}}]},schema(){const e=this.$store.getters["currentProduct"].inStore;return this.$store.getters[e+"/schemaFor"](l["b"].ADD_ONS)}}},u=d,h=(s("f395"),s("d802")),p=Object(h["a"])(u,r,a,!1,null,"567156f9",null);t["default"]=p.exports},dc10:function(e,t,s){"use strict";s("7b0f")},e0d9:function(e,t,s){var r=s("7df9");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var a=s("0ed3").default;a("607769d1",r,!0,{sourceMap:!1,shadowMode:!1})},e5f7:function(e,t,s){"use strict";s("d59f")},ea5f:function(e,t,s){var r=s("5eaa");t=r(!1),t.push([e.i,"[data-v-149cb180] .group-name{line-height:30px}[data-v-149cb180] .group-bar{display:flex;flex-direction:row;justify-content:space-between}[data-v-149cb180] .group-bar .right{display:flex;align-items:center}[data-v-149cb180] .group-bar .right .age{width:100px}[data-v-149cb180] .group-bar .right .actions{padding-right:7px}[data-v-149cb180] .group-bar.has-description .right{margin-top:5px}[data-v-149cb180] .group-bar.has-description .group-tab,[data-v-149cb180] .group-bar.has-description .group-tab:after{height:50px}[data-v-149cb180] .group-bar.has-description .group-tab:after{right:-20px}[data-v-149cb180] .group-bar.has-description .group-tab .description{margin-top:-20px}",""]),e.exports=t},eaea:function(e,t,s){var r=s("52f0");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var a=s("0ed3").default;a("c6fc31ba",r,!0,{sourceMap:!1,shadowMode:!1})},ecc0:function(e,t,s){var r=s("5eaa");t=r(!1),t.push([e.i,".state[data-v-79f59422]{display:flex}.state .vmstate[data-v-79f59422]{margin-right:6px}.green-icon[data-v-79f59422]{color:var(--success)}.yellow-icon[data-v-79f59422]{color:var(--warning)}.name-console[data-v-79f59422]{display:flex;align-items:center;justify-content:space-between}.name-console span[data-v-79f59422]{padding-right:4px;line-height:26px;white-space:nowrap}",""]),e.exports=t},ef5a:function(e,t,s){var r=s("5eaa");t=r(!1),t.push([e.i,".header[data-v-588ed76d]{display:flex;justify-content:space-between;align-items:center}.footer[data-v-588ed76d]{width:100%;display:flex;justify-content:flex-end}.banner-icon[data-v-588ed76d]{display:flex;align-items:center}.banner-content[data-v-588ed76d]{display:flex}.banner-message[data-v-588ed76d]{display:flex;flex-direction:column;justify-content:center;padding:0 15px}.icon[data-v-588ed76d]{font-size:20px;width:20px;line-height:23px}.currentVersion[data-v-588ed76d]{margin-top:10px;display:flex;justify-content:space-between}.currentVersion .version[data-v-588ed76d]{font-size:16px;font-weight:700}",""]),e.exports=t},f15b:function(e,t,s){"use strict";s.r(t);var r=function(){var e=this,t=e._self._c;return t("div",[e.$fetchState.pending?t("Loading"):e._e(),t("ResourceTable",{attrs:{rows:e.rows,schema:e.schema,headers:e.headers}})],1)},a=[],o=s("70a6"),i=s("efbe"),n=s("b837"),l=s("56a4"),c=s("90cd"),d=s("d6d1");const u={id:c["b"].STORAGE,type:l["J"],attributes:{kind:c["b"].STORAGE,namespaced:!1},metadata:{name:c["b"].STORAGE}};var h={name:"ListHarvesterStorages",components:{ResourceTable:i["a"],Loading:o["a"]},async fetch(){const e=this.$store.getters["currentProduct"].inStore;await Object(n["a"])({storages:this.$store.dispatch(e+"/findAll",{type:l["P"]})});const t=this.$store.getters[e+"/schemaFor"](l["P"]);!t||null!==t&&void 0!==t&&t.collectionMethods.find(e=>["blocked-post","post"].includes(e.toLowerCase()))||this.$store.dispatch("type-map/configureType",{match:c["b"].STORAGE,isCreatable:!1})},data(){return{schema:u}},computed:{rows(){const e=this.$store.getters["currentProduct"].inStore,t=this.$store.getters[e+"/all"](l["P"]);return t.filter(e=>{var t;return!(null!==(t=e.parameters)&&void 0!==t&&t.backingImage)})},headers(){return[d["T"],d["y"],d["V"],d["U"],{name:"numberOfReplicas",labelKey:"harvester.storage.numberOfReplicas.label",value:"parameters.numberOfReplicas",sort:["parameters.numberOfReplicas"],align:"center"},d["c"]]}},typeDisplay(){return this.$store.getters["type-map/labelFor"](u,99)}},p=h,m=s("d802"),v=Object(m["a"])(p,r,a,!1,null,null,null);t["default"]=v.exports},f1e8:function(e,t,s){var r=s("5eaa");t=r(!1),t.push([e.i,".progress[data-v-2a3a568d]{display:block;border-radius:90px;background-color:var(--progress-bg);height:10px;width:100px}.progress .piece[data-v-2a3a568d]{display:inline-block;height:10px;border-radius:0;border-right:1px solid var(--progress-divider);vertical-align:top}.progress .piece[data-v-2a3a568d]:first-child{border-top-left-radius:90px;border-bottom-left-radius:90px}.progress .piece[data-v-2a3a568d]:last-child{border-top-right-radius:90px;border-bottom-right-radius:90px;border-right:0}.piece.bg-success[data-v-2a3a568d]:only-child{opacity:.5}",""]),e.exports=t},f26d:function(e,t,s){"use strict";s("3976")},f395:function(e,t,s){"use strict";s("252b")},f7ff:function(e,t,s){"use strict";s.r(t);var r=function(){var e=this,t=e._self._c;return t("ResourceTable",{attrs:{headers:e.headers,schema:e.schema,rows:e.filterRows,"use-query-params-for-simple-filtering":!0,"sort-generation-fn":e.sortGenerationFn,"rows-per-page":10},scopedSlots:e._u([{key:"group-by",fn:function({group:s}){return[t("div",{directives:[{name:"trim-whitespace",rawName:"v-trim-whitespace"}],ref:s.key,staticClass:"group-tab"},[e.groupIsAllEnabled(s.rows)?t("button",{staticClass:"btn btn-sm role-secondary mr-5",attrs:{type:"button"},on:{click:t=>{e.disableGroup(s.rows),t.target.blur()}}},[e._v(" "+e._s(e.t("harvester.usb.disableGroup"))+" ")]):t("button",{staticClass:"btn btn-sm role-secondary mr-5",attrs:{type:"button"},on:{click:t=>{e.enableGroup(s.rows),t.target.blur()}}},[e._v(" "+e._s(e.t("harvester.usb.enableGroup"))+" ")]),t("span",{directives:[{name:"clean-html",rawName:"v-clean-html",value:s.key,expression:"group.key"}]})])]}},{key:"cell:claimed",fn:function({row:s}){return[s.status.enabled?t("span",[e._v(e._s(s.claimedBy))]):t("span",{staticClass:"text-muted"},[e._v("—")])]}}])})},a=[],o=s("efbe"),i=s("90cd"),n=s("d6d1"),l={name:"ListUsbDevices",components:{ResourceTable:o["a"]},props:{schema:{type:Object,required:!0},devices:{type:Array,required:!0}},async fetch(){const e=this.$store.getters["currentProduct"].inStore;await this.$store.dispatch(e+"/findAll",{type:i["b"].USB_CLAIM})},data(){const e=this.$store.getters["isSingleProduct"],t=[{...n["T"]},n["R"],{name:"description",labelKey:"tableHeaders.description",value:"status.description",sort:["status.description"]},{name:"node",labelKey:"tableHeaders.node",value:"status.nodeName",sort:["status.nodeName"]},{name:"pciAddress",label:"Address",value:"status.pciAddress",sort:["status.pciAddress"]},{name:"vendorID",label:"Vendor ID",value:"status.vendorID",sort:["status.vendorID","status.productID"]},{name:"productID",label:"Product ID",value:"status.productID",sort:["status.productID","status.vendorID"]}];return e||t.push({name:"claimed",label:"Claimed By",value:"claimedBy",sort:["claimedBy"]}),{headers:t,rows:[],filterRows:[]}},watch:{devices:{handler(e){this.rows=e,this.filterRows=this.rows},immediate:!0}},methods:{enableGroup(e=[]){const t=e[0];t&&t.enablePassthroughBulk(e)},disableGroup(e=[]){e.forEach(e=>{e.passthroughClaim&&e.disablePassthrough()})},groupIsAllEnabled(e=[]){return!e.find(e=>!e.passthroughClaim)},changeRows(e){this.$set(this,"filterRows",e)},sortGenerationFn(){let e=Object(o["b"])(this.schema,this.$store);return this.parentSriov&&(e+=this.parentSriov),e}},typeDisplay(){return this.t("harvester.usb.label")}},c=l,d=s("d802"),u=Object(d["a"])(c,r,a,!1,null,null,null);t["default"]=u.exports},fb12:function(e,t,s){"use strict";s.r(t);var r=function(){var e=this,t=e._self._c;return e.$fetchState.pending?t("Loading"):t("ResourceTable",e._g(e._b({attrs:{groupable:!0,schema:e.schema,rows:e.filteredRows,"key-field":"_key"}},"ResourceTable",e.$attrs,!1),e.$listeners))},a=[],o=s("efbe"),i=s("70a6"),n=s("56a4"),l=s("90cd"),c=s("b837");const d={id:l["b"].SNAPSHOT,type:n["J"],attributes:{kind:l["b"].SNAPSHOT,namespaced:!0},metadata:{name:l["b"].SNAPSHOT}};var u={name:"HarvesterListSnapshot",components:{ResourceTable:o["a"],Loading:i["a"]},async fetch(){const e=this.$store.getters["currentProduct"].inStore,t={volumes:this.$store.dispatch(e+"/findAll",{type:n["F"]}),snapshots:this.$store.dispatch(e+"/findAll",{type:l["c"]})},s=await Object(c["a"])(t);this.rows=s.snapshots;const r=this.$store.getters[e+"/schemaFor"](l["c"]);null!==r&&void 0!==r&&r.collectionMethods.find(e=>"post"===e.toLowerCase())||this.$store.dispatch("type-map/configureType",{match:l["b"].SNAPSHOT,isCreatable:!1})},data(){return{rows:[]}},computed:{filteredRows(){return this.rows.filter(e=>{var t,s,r;return"PersistentVolumeClaim"===(null===(t=e.metadata)||void 0===t||null===(s=t.ownerReferences)||void 0===s||null===(r=s[0])||void 0===r?void 0:r.kind)})},schema(){return d}},typeDisplay(){return this.$store.getters["type-map/labelFor"](d,99)}},h=u,p=s("d802"),m=Object(p["a"])(h,r,a,!1,null,null,null);t["default"]=m.exports},fb66:function(e,t,s){var r=s("91d8");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var a=s("0ed3").default;a("7523c562",r,!0,{sourceMap:!1,shadowMode:!1})},fd53:function(e,t,s){var r=s("5eaa");t=r(!1),t.push([e.i,".filter[data-v-dc148608]{display:inline-block}.filter .banner-item[data-v-dc148608]{display:inline-block;font-size:16px;margin-right:10px;padding:6px;border-radius:2px}.filter .banner-item i[data-v-dc148608]{cursor:pointer;vertical-align:middle}.filter-popup[data-v-dc148608]{width:600px}[data-v-dc148608] .box{display:grid;grid-template-columns:40% 40% 10%;-moz-column-gap:1.75%;column-gap:1.75%;margin-bottom:10px}.required[data-v-dc148608]{color:var(--error)}",""]),e.exports=t}}]);
//# sourceMappingURL=harvester-1.4.0.umd.min.list.js.map