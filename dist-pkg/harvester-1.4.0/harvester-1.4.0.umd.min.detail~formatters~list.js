(("undefined"!==typeof self?self:this)["webpackJsonpharvester_1_4_0"]=("undefined"!==typeof self?self:this)["webpackJsonpharvester_1_4_0"]||[]).push([[1],{1408:function(e,t,a){var r=a("a977");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var s=a("0ed3").default;s("16e8e751",r,!0,{sourceMap:!1,shadowMode:!1})},"17ff":function(e,t,a){var r=a("516d");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var s=a("0ed3").default;s("533a54e6",r,!0,{sourceMap:!1,shadowMode:!1})},"1c6a":function(e,t,a){"use strict";a("1408")},2763:function(e,t,a){"use strict";a("f234")},"2c7c":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e._self._c;return t("span",[t("HarvesterMigrationState",{directives:[{name:"show",rawName:"v-show",value:e.isMigrating,expression:"isMigrating"}],attrs:{"vm-resource":e.row},on:{"state-changed":e.migrationStateChanged}}),t("div",{directives:[{name:"show",rawName:"v-show",value:!e.isMigrating,expression:"!isMigrating"}],staticClass:"state"},[t("VMState",{attrs:{row:e.row}}),e.warningMessage.length?t("v-popover",{ref:"popover",attrs:{trigger:"manual",offset:"16"}},[t("span",{staticClass:"tooltip-target",on:{mouseenter:function(t){return e.showMessage(!0)},mouseleave:function(t){return e.delayClose()}}},[t("i",{staticClass:"icon icon-warning icon-lg text-warning"})]),t("template",{slot:"popover"},[t("div",{on:{mouseenter:function(t){return e.showMessage(!0)},mouseleave:function(t){return e.showMessage(!1)}}},e._l(e.warningMessage,(function(a,r){return t("p",{key:a},[e._v(" "+e._s(r+1)+". "),e.canMiss(e.row,a)?t("a",{staticClass:"text-link",attrs:{role:"button"},on:{click:e.dismiss}},[e._v(" "+e._s(e.t("harvester.upgradePage.dismissMessage"))+" ")]):e._e(),e._v(" "+e._s(a)+" ")])})),0)])],2):e._e()],1)],1)},s=[],i=a("2c0b"),o=a("986d"),n={components:{VMState:i["a"],HarvesterMigrationState:o["default"]},props:{value:{type:String,default:""},row:{type:Object,required:!0},allNodeNetwork:{type:Array,default:()=>[]},allClusterNetwork:{type:Array,default:()=>[]}},data(){return{isMigrating:!1,timer:null}},beforeDestroy(){this.timer&&clearTimeout(this.timer)},computed:{warningMessage(){var e,t,a,r;const s=[];var i,o,n;"VM error"===(null===(e=this.row)||void 0===e?void 0:e.actualState)&&null!==(t=this.row.warningMessage)&&void 0!==t&&t.message&&s.push(null===(i=this.row.warningMessage)||void 0===i?void 0:i.message);null!==(a=this.row)&&void 0!==a&&a.migrationMessage&&s.push(null===(o=this.row)||void 0===o?void 0:o.migrationMessage.message);if(null!==(r=this.row.warningMessage)&&void 0!==r&&r.message)if(null!==(n=this.row.warningMessage)&&void 0!==n&&n.pod){var l,u,d,c;const e=this.row.warningMessage.pod;var p,v;if(null!==(l=e.metadata)&&void 0!==l&&null!==(u=l.state)&&void 0!==u&&u.error&&!/pod has unbound immediate PersistentVolumeClaims/.test(null===(d=e.metadata)||void 0===d||null===(c=d.state)||void 0===c?void 0:c.message))s.push(null===(p=e.metadata)||void 0===p||null===(v=p.state)||void 0===v?void 0:v.message)}else{var g;s.push(null===(g=this.row.warningMessage)||void 0===g?void 0:g.message)}return s}},methods:{migrationStateChanged(e){this.isMigrating="Failed"!==e&&!!e},showMessage(e){this.timer&&clearTimeout(this.timer),this.$refs.popover&&(e?this.$refs.popover.show():this.$refs.popover.hide())},delayClose(){this.timer=setTimeout(()=>{this.showMessage(!1)},500)},async dismiss(){try{await this.row.doAction("dismissInsufficientResourceQuota")}catch(e){400!==(null===e||void 0===e?void 0:e._status)&&503!==(null===e||void 0===e?void 0:e._status)||this.$store.dispatch("growl/error",{title:this.t("harvester.notification.title.error"),message:null===e||void 0===e?void 0:e.errors[0]},{root:!0})}},canMiss(e,t){var a,r;return(null===(a=e.warningMessage)||void 0===a?void 0:a.message)===t&&(null===(r=e.warningMessage)||void 0===r?void 0:r.canDismiss)}}},l=n,u=(a("e258"),a("d802")),d=Object(u["a"])(l,r,s,!1,null,"f110f828",null);t["default"]=d.exports},"3c8a":function(e,t,a){"use strict";var r=function(){var e=this,t=e._self._c;return t("div",{staticClass:"consumption-gauge"},[e.resourceName&&!e.usedAsResourceName?t("h3",[e._v(" "+e._s(e.resourceName)+" ")]):e._e(),t("div",{staticClass:"numbers"},[e._t("title",(function(){return[e.usedAsResourceName?t("h4",[e._v(" "+e._s(e.resourceName)+" ")]):t("span",[e._v(e._s(e.t("node.detail.glance.consumptionGauge.used")))]),t("span",[e._v(e._s(e.t("node.detail.glance.consumptionGauge.amount",e.amountTemplateValues))+" "),t("span",{staticClass:"ml-10 percentage"},[e._v("/Â "+e._s(e.formattedPercentage))])])]}),{amountTemplateValues:e.amountTemplateValues,formattedPercentage:e.formattedPercentage})],2),t("div",{staticClass:"mt-10"},[t("PercentageBar",{attrs:{value:e.percentageBarValue,"color-stops":e.colorStops}})],1)])},s=[],i=a("7dc6"),o=a("06f6"),n={components:{PercentageBar:i["a"]},props:{resourceName:{type:String,default:""},capacity:{type:Number,required:!0},used:{type:Number,required:!0},units:{type:String,default:""},numberFormatter:{type:Function,default:e=>Number.isInteger(e)?e:e.toFixed(2)},colorStops:{type:Object,default:null},usedAsResourceName:{type:Boolean,defaut:!1}},computed:{displayUnits(){return this.units?" "+this.units:""},percentageBarValue(){return this.used&&this.capacity?100*this.used/this.capacity:0},amountTemplateValues(){return{used:this.numberFormatter(this.used||0),total:this.numberFormatter(this.capacity||0),unit:this.displayUnits}},formattedPercentage(){return Object(o["i"])(this.percentageBarValue)}}},l=n,u=(a("2763"),a("d802")),d=Object(u["a"])(l,r,s,!1,null,null,null);t["a"]=d.exports},"458b":function(e,t,a){var r=a("5eaa");t=r(!1),t.push([e.i,".consumption-gauge .numbers{display:flex;flex-direction:row;justify-content:space-between}.consumption-gauge .numbers .percentage{font-weight:700}",""]),e.exports=t},"516d":function(e,t,a){var r=a("5eaa");t=r(!1),t.push([e.i,".badge-state[data-v-2be9b4f8]{padding:5px 10px;border:1px solid transparent;border-radius:20px}.badge-state.bg-info[data-v-2be9b4f8]{border-color:var(--primary)}.badge-state.bg-error[data-v-2be9b4f8]{border-color:var(--error)}.badge-state.bg-warning[data-v-2be9b4f8]{border-color:var(--warning)}.badge-state.bg-success[data-v-2be9b4f8]{color:var(--success);border-color:var(--success);background:transparent}.sortable-table TD .badge-state[data-v-2be9b4f8]{text-overflow:ellipsis;overflow:hidden;white-space:nowrap;word-wrap:break-word;display:inline-block;max-width:100%;position:relative;padding:2px 10px 1px 10px;font-size:1em;max-width:200px;font-size:.85em;vertical-align:middle}",""]),e.exports=t},"6a01":function(e,t,a){var r=a("5eaa");t=r(!1),t.push([e.i,".state[data-v-f110f828]{display:flex;justify-content:space-between}.state .icon-warning[data-v-f110f828]{margin-top:2px}",""]),e.exports=t},"77a1":function(e,t,a){"use strict";a("17ff")},"7dc6":function(e,t,a){"use strict";var r=function(){var e=this,t=e._self._c;return t("span",{staticClass:"percentage-bar"},[t("Bar",{attrs:{percentage:e.value,"primary-color":e.primaryColor,slices:e.slices}}),e.showPercentage?t("span",{staticClass:"ml-5 percentage-value"},[e._v(e._s(e.formattedPercentage))]):e._e()],1)},s=[],i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"bar",style:e.barStyle},[t("div",{staticClass:"indicator",style:e.indicatorStyle}),e._l(e.sliceStyles,(function(e,a){return t("div",{key:a,staticClass:"slice",style:e})}))],2)},o=[],n={props:{percentage:{type:Number,required:!0},primaryColor:{type:String,default:"--primary"},secondaryColor:{type:String,default:"--border"},slices:{type:Array,default:()=>[]}},computed:{indicatorStyle(){return{width:this.percentage+"%",backgroundColor:`var(${this.primaryColor})`}},barStyle(){return{backgroundColor:`var(${this.secondaryColor})`}},sliceStyles(){return this.slices.map(e=>({left:e+"%",visibility:e<this.percentage?"visible":"hidden"}))}}},l=n,u=(a("1c6a"),a("d802")),d=Object(u["a"])(l,i,o,!1,null,"496a4cef",null),c=d.exports,p=a("06f6");const v={LESS:"LESS",MORE:"MORE"};var g={components:{Bar:c},props:{value:{type:Number,required:!0,validator(e){return e>=0}},preferredDirection:{type:String,default:v.LESS},showPercentage:{type:Boolean,default:!1},colorStops:{type:Object,default:null},slices:{type:Array,default:()=>[]}},computed:{primaryColor(){const e=this.preferredDirection===v.LESS;if(this.colorStops){const t=Object.keys(this.colorStops).sort();if(e){let e=t.length-1;while(this.value<t[e])e--;return this.colorStops[t[e]]}{let e=0;while(this.value>t[e])e++;return this.colorStops[t[e]]}}const t=e?80:20,a=e?this.value:t,r=e?t:this.value;return a<=r?"--primary":"--error"},formattedPercentage(){return Object(p["i"])(this.value)}}},f=g,m=(a("b8f3"),Object(u["a"])(f,r,s,!1,null,"1ecb5b28",null));t["a"]=m.exports},"986d":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e._self._c;return e.migrationState?t("div",[e.showSuccess?e._e():t("span",[e._v("/")]),t("BadgeState",{attrs:{label:e.migrationState,color:e.migrationBackground}})],1):e._e()},s=[],i=a("90cd"),o=a("57ab"),n={components:{BadgeState:o["a"]},props:{vmResource:{type:Object,required:!0},showSuccess:{type:Boolean,default:!0}},computed:{vmiResource(){const e=this.$store.getters["harvester/all"](i["b"].VMI)||[],t=e.find(e=>{var t,a,r,s,i;return(null===e||void 0===e||null===(t=e.metadata)||void 0===t||null===(a=t.ownerReferences)||void 0===a||null===(r=a[0])||void 0===r?void 0:r.uid)===(null===(s=this.vmResource)||void 0===s||null===(i=s.metadata)||void 0===i?void 0:i.uid)});return t},migrationState(){var e,t;return(null===(e=this.vmiResource)||void 0===e||null===(t=e.migrationState)||void 0===t?void 0:t.status)||""},migrationBackground(){var e;return(null===(e=this.vmiResource)||void 0===e?void 0:e.migrationStateBackground)||""}},watch:{migrationState(e){this.$emit("state-changed",e)}}},l=n,u=(a("77a1"),a("d802")),d=Object(u["a"])(l,r,s,!1,null,"2be9b4f8",null);t["default"]=d.exports},a8ac:function(e,t,a){var r=a("d14de");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var s=a("0ed3").default;s("752fe1c9",r,!0,{sourceMap:!1,shadowMode:!1})},a977:function(e,t,a){var r=a("5eaa");t=r(!1),t.push([e.i,".bar[data-v-496a4cef]{width:100%;height:15px;border-radius:7.5px;overflow:hidden;position:relative}.bar .indicator[data-v-496a4cef]{height:100%}.bar .slice[data-v-496a4cef]{position:absolute;top:0;bottom:0;width:1px;background-color:var(--body-bg)}",""]),e.exports=t},b8f3:function(e,t,a){"use strict";a("a8ac")},d0d9:function(e,t,a){var r=a("6a01");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var s=a("0ed3").default;s("56c6a504",r,!0,{sourceMap:!1,shadowMode:!1})},d14de:function(e,t,a){var r=a("5eaa");t=r(!1),t.push([e.i,".percentage-bar[data-v-1ecb5b28]{display:flex;flex-direction:row}.percentage-bar .percentage-value[data-v-1ecb5b28]{word-break:keep-all}",""]),e.exports=t},e258:function(e,t,a){"use strict";a("d0d9")},f234:function(e,t,a){var r=a("458b");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var s=a("0ed3").default;s("596d6372",r,!0,{sourceMap:!1,shadowMode:!1})}}]);
//# sourceMappingURL=harvester-1.4.0.umd.min.detail~formatters~list.js.map